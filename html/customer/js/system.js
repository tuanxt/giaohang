if("undefined"==typeof jQuery){throw new Error("Bootstrap's JavaScript requires jQuery")}+function(c){var d=c.fn.jquery.split(" ")[0].split(".");if(d[0]<2&&d[1]<9||1==d[0]&&9==d[1]&&d[2]<1){throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}}(jQuery),+function(c){function d(){var e=document.createElement("bootstrap"),f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var g in f){if(void 0!==e.style[g]){return{end:f[g]}}}return !1}c.fn.emulateTransitionEnd=function(a){var f=!1,g=this;c(this).one("bsTransitionEnd",function(){f=!0});var h=function(){f||c(g).trigger(c.support.transition.end)};return setTimeout(h,a),this},c(function(){c.support.transition=d(),c.support.transition&&(c.event.special.bsTransitionEnd={bindType:c.support.transition.end,delegateType:c.support.transition.end,handle:function(a){return c(a.target).is(this)?a.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(f){function g(a){return this.each(function(){var b=f(this),d=b.data("bs.alert");d||b.data("bs.alert",d=new i(this)),"string"==typeof a&&d[a].call(b)})}var h='[data-dismiss="alert"]',i=function(a){f(a).on("click",h,this.close)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.close=function(a){function d(){m.detach().trigger("closed.bs.alert").remove()}var k=f(this),l=k.attr("data-target");l||(l=k.attr("href"),l=l&&l.replace(/.*(?=#[^\s]*$)/,""));var m=f(l);a&&a.preventDefault(),m.length||(m=k.closest(".alert")),m.trigger(a=f.Event("close.bs.alert")),a.isDefaultPrevented()||(m.removeClass("in"),f.support.transition&&m.hasClass("fade")?m.one("bsTransitionEnd",d).emulateTransitionEnd(i.TRANSITION_DURATION):d())};var j=f.fn.alert;f.fn.alert=g,f.fn.alert.Constructor=i,f.fn.alert.noConflict=function(){return f.fn.alert=j,this},f(document).on("click.bs.alert.data-api",h,i.prototype.close)}(jQuery),+function(e){function f(a){return this.each(function(){var b=e(this),c=b.data("bs.button"),i="object"==typeof a&&a;c||b.data("bs.button",c=new g(this,i)),"toggle"==a?c.toggle():a&&c.setState(a)})}var g=function(a,c){this.$element=e(a),this.options=e.extend({},g.DEFAULTS,c),this.isLoading=!1};g.VERSION="3.3.4",g.DEFAULTS={loadingText:"loading..."},g.prototype.setState=function(a){var i="disabled",j=this.$element,k=j.is("input")?"val":"html",l=j.data();a+="Text",null==l.resetText&&j.data("resetText",j[k]()),setTimeout(e.proxy(function(){j[k](null==l[a]?this.options[a]:l[a]),"loadingText"==a?(this.isLoading=!0,j.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,j.removeClass(i).removeAttr(i))},this),0)},g.prototype.toggle=function(){var d=!0,i=this.$element.closest('[data-toggle="buttons"]');if(i.length){var j=this.$element.find("input");"radio"==j.prop("type")&&(j.prop("checked")&&this.$element.hasClass("active")?d=!1:i.find(".active").removeClass("active")),d&&j.prop("checked",!this.$element.hasClass("active")).trigger("change")}else{this.$element.attr("aria-pressed",!this.$element.hasClass("active"))}d&&this.$element.toggleClass("active")};var h=e.fn.button;e.fn.button=f,e.fn.button.Constructor=g,e.fn.button.noConflict=function(){return e.fn.button=h,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(a){var b=e(a.target);b.hasClass("btn")||(b=b.closest(".btn")),f.call(b,"toggle"),a.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(a){e(a.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(a.type))})}(jQuery),+function(f){function g(a){return this.each(function(){var b=f(this),c=b.data("bs.carousel"),k=f.extend({},h.DEFAULTS,b.data(),"object"==typeof a&&a),l="string"==typeof a?a:k.slide;c||b.data("bs.carousel",c=new h(this,k)),"number"==typeof a?c.to(a):l?c[l]():k.interval&&c.pause().cycle()})}var h=function(a,d){this.$element=f(a),this.$indicators=this.$element.find(".carousel-indicators"),this.options=d,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",f.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart" in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",f.proxy(this.pause,this)).on("mouseleave.bs.carousel",f.proxy(this.cycle,this))};h.VERSION="3.3.4",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5000,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(b){if(!/input|textarea/i.test(b.target.tagName)){switch(b.which){case 37:this.prev();break;case 39:this.next();break;default:return}b.preventDefault()}},h.prototype.cycle=function(a){return a||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(f.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(b){return this.$items=b.parent().children(".item"),this.$items.index(b||this.$active)},h.prototype.getItemForDirection=function(k,l){var m=this.getItemIndex(l),n="prev"==k&&0===m||"next"==k&&m==this.$items.length-1;if(n&&!this.options.wrap){return l}var o="prev"==k?-1:1,p=(m+o)%this.$items.length;return this.$items.eq(p)},h.prototype.to=function(d){var e=this,k=this.getItemIndex(this.$active=this.$element.find(".item.active"));return d>this.$items.length-1||0>d?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(d)}):k==d?this.pause().cycle():this.slide(d>k?"next":"prev",this.$items.eq(d))},h.prototype.pause=function(a){return a||(this.paused=!0),this.$element.find(".next, .prev").length&&f.support.transition&&(this.$element.trigger(f.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){return this.sliding?void 0:this.slide("next")},h.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},h.prototype.slide=function(a,c){var n=this.$element.find(".item.active"),o=c||this.getItemForDirection(a,n),p=this.interval,q="next"==a?"left":"right",r=this;if(o.hasClass("active")){return this.sliding=!1}var s=o[0],t=f.Event("slide.bs.carousel",{relatedTarget:s,direction:q});if(this.$element.trigger(t),!t.isDefaultPrevented()){if(this.sliding=!0,p&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=f(this.$indicators.children()[this.getItemIndex(o)]);u&&u.addClass("active")}var v=f.Event("slid.bs.carousel",{relatedTarget:s,direction:q});return f.support.transition&&this.$element.hasClass("slide")?(o.addClass(a),o[0].offsetWidth,n.addClass(q),o.addClass(q),n.one("bsTransitionEnd",function(){o.removeClass([a,q].join(" ")).addClass("active"),n.removeClass(["active",q].join(" ")),r.sliding=!1,setTimeout(function(){r.$element.trigger(v)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(v)),p&&this.cycle(),this}};var i=f.fn.carousel;f.fn.carousel=g,f.fn.carousel.Constructor=h,f.fn.carousel.noConflict=function(){return f.fn.carousel=i,this};var j=function(a){var b,k=f(this),l=f(k.attr("data-target")||(b=k.attr("href"))&&b.replace(/.*(?=#[^\s]+$)/,""));if(l.hasClass("carousel")){var m=f.extend({},l.data(),k.data()),n=k.attr("data-slide-to");n&&(m.interval=!1),g.call(l,m),n&&l.data("bs.carousel").to(n),a.preventDefault()}};f(document).on("click.bs.carousel.data-api","[data-slide]",j).on("click.bs.carousel.data-api","[data-slide-to]",j),f(window).on("load",function(){f('[data-ride="carousel"]').each(function(){var a=f(this);g.call(a,a.data())})})}(jQuery),+function(f){function g(a){var e,k=a.attr("data-target")||(e=a.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return f(k)}function h(a){return this.each(function(){var b=f(this),d=b.data("bs.collapse"),k=f.extend({},i.DEFAULTS,b.data(),"object"==typeof a&&a);!d&&k.toggle&&/show|hide/.test(a)&&(k.toggle=!1),d||b.data("bs.collapse",d=new i(this,k)),"string"==typeof a&&d[a]()})}var i=function(a,d){this.$element=f(a),this.options=f.extend({},i.DEFAULTS,d),this.$trigger=f('[data-toggle="collapse"][href="#'+a.id+'"],[data-toggle="collapse"][data-target="#'+a.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.4",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var b=this.$element.hasClass("width");return b?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var a,c=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(c&&c.length&&(a=c.data("bs.collapse"),a&&a.transitioning))){var d=f.Event("show.bs.collapse");if(this.$element.trigger(d),!d.isDefaultPrevented()){c&&c.length&&(h.call(c,"hide"),a||c.data("bs.collapse",null));var k=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[k](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var l=function(){this.$element.removeClass("collapsing").addClass("collapse in")[k](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!f.support.transition){return l.call(this)}var m=f.camelCase(["scroll",k].join("-"));this.$element.one("bsTransitionEnd",f.proxy(l,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[k](this.$element[0][m])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var a=f.Event("hide.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){var d=this.dimension();this.$element[d](this.$element[d]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var k=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return f.support.transition?void this.$element[d](0).one("bsTransitionEnd",f.proxy(k,this)).emulateTransitionEnd(i.TRANSITION_DURATION):k.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return f(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(f.proxy(function(a,b){var k=f(b);this.addAriaAndCollapsedClass(g(k),k)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(d,e){var k=d.hasClass("in");d.attr("aria-expanded",k),e.toggleClass("collapsed",!k).attr("aria-expanded",k)};var j=f.fn.collapse;f.fn.collapse=h,f.fn.collapse.Constructor=i,f.fn.collapse.noConflict=function(){return f.fn.collapse=j,this},f(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(a){var b=f(this);b.attr("data-target")||a.preventDefault();var c=g(b),k=c.data("bs.collapse"),l=k?"toggle":b.data();h.call(c,l)})}(jQuery),+function(i){function j(a){a&&3===a.which||(i(m).remove(),i(n).each(function(){var b=i(this),c=k(b),g={relatedTarget:this};c.hasClass("open")&&(c.trigger(a=i.Event("hide.bs.dropdown",g)),a.isDefaultPrevented()||(b.attr("aria-expanded","false"),c.removeClass("open").trigger("hidden.bs.dropdown",g)))}))}function k(a){var e=a.attr("data-target");e||(e=a.attr("href"),e=e&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var f=e&&i(e);return f&&f.length?f:a.parent()}function l(a){return this.each(function(){var b=i(this),e=b.data("bs.dropdown");e||b.data("bs.dropdown",e=new o(this)),"string"==typeof a&&e[a].call(b)})}var m=".dropdown-backdrop",n='[data-toggle="dropdown"]',o=function(a){i(a).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.4",o.prototype.toggle=function(a){var b=i(this);if(!b.is(".disabled, :disabled")){var c=k(b),q=c.hasClass("open");if(j(),!q){"ontouchstart" in document.documentElement&&!c.closest(".navbar-nav").length&&i('<div class="dropdown-backdrop"/>').insertAfter(i(this)).on("click",j);var r={relatedTarget:this};if(c.trigger(a=i.Event("show.bs.dropdown",r)),a.isDefaultPrevented()){return}b.trigger("focus").attr("aria-expanded","true"),c.toggleClass("open").trigger("shown.bs.dropdown",r)}return !1}},o.prototype.keydown=function(a){if(/(38|40|27|32)/.test(a.which)&&!/input|textarea/i.test(a.target.tagName)){var c=i(this);if(a.preventDefault(),a.stopPropagation(),!c.is(".disabled, :disabled")){var f=k(c),q=f.hasClass("open");if(!q&&27!=a.which||q&&27==a.which){return 27==a.which&&f.find(n).trigger("focus"),c.trigger("click")}var r=" li:not(.disabled):visible a",s=f.find('[role="menu"]'+r+', [role="listbox"]'+r);if(s.length){var t=s.index(a.target);38==a.which&&t>0&&t--,40==a.which&&t<s.length-1&&t++,~t||(t=0),s.eq(t).trigger("focus")}}}};var p=i.fn.dropdown;i.fn.dropdown=l,i.fn.dropdown.Constructor=o,i.fn.dropdown.noConflict=function(){return i.fn.dropdown=p,this},i(document).on("click.bs.dropdown.data-api",j).on("click.bs.dropdown.data-api",".dropdown form",function(b){b.stopPropagation()}).on("click.bs.dropdown.data-api",n,o.prototype.toggle).on("keydown.bs.dropdown.data-api",n,o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',o.prototype.keydown)}(jQuery),+function(e){function f(a,c){return this.each(function(){var b=e(this),d=b.data("bs.modal"),i=e.extend({},g.DEFAULTS,b.data(),"object"==typeof a&&a);d||b.data("bs.modal",d=new g(this,i)),"string"==typeof a?d[a](c):i.show&&d.show(c)})}var g=function(a,d){this.options=d,this.$body=e(document.body),this.$element=e(a),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};g.VERSION="3.3.4",g.TRANSITION_DURATION=300,g.BACKDROP_TRANSITION_DURATION=150,g.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},g.prototype.toggle=function(b){return this.isShown?this.hide():this.show(b)},g.prototype.show=function(a){var c=this,i=e.Event("show.bs.modal",{relatedTarget:a});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){c.$element.one("mouseup.dismiss.bs.modal",function(d){e(d.target).is(c.$element)&&(c.ignoreBackdropClick=!0)})}),this.backdrop(function(){var b=e.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(c.$body),c.$element.show().scrollTop(0),c.adjustDialog(),b&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var d=e.Event("shown.bs.modal",{relatedTarget:a});b?c.$dialog.one("bsTransitionEnd",function(){c.$element.trigger("focus").trigger(d)}).emulateTransitionEnd(g.TRANSITION_DURATION):c.$element.trigger("focus").trigger(d)}))},g.prototype.hide=function(a){a&&a.preventDefault(),a=e.Event("hide.bs.modal"),this.$element.trigger(a),this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(g.TRANSITION_DURATION):this.hideModal())},g.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(b){this.$element[0]===b.target||this.$element.has(b.target).length||this.$element.trigger("focus")},this))},g.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(b){27==b.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},g.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},g.prototype.hideModal=function(){var b=this;this.$element.hide(),this.backdrop(function(){b.$body.removeClass("modal-open"),b.resetAdjustments(),b.resetScrollbar(),b.$element.trigger("hidden.bs.modal")})},g.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},g.prototype.backdrop=function(a){var c=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var j=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(b){return this.ignoreBackdropClick?void (this.ignoreBackdropClick=!1):void (b.target===b.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),j&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!a){return}j?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(g.BACKDROP_TRANSITION_DURATION):a()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var k=function(){c.removeBackdrop(),a&&a()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",k).emulateTransitionEnd(g.BACKDROP_TRANSITION_DURATION):k()}else{a&&a()}}},g.prototype.handleUpdate=function(){this.adjustDialog()},g.prototype.adjustDialog=function(){var b=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&b?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!b?this.scrollbarWidth:""})},g.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},g.prototype.checkScrollbar=function(){var c=window.innerWidth;if(!c){var d=document.documentElement.getBoundingClientRect();c=d.right-Math.abs(d.left)}this.bodyIsOverflowing=document.body.clientWidth<c,this.scrollbarWidth=this.measureScrollbar()},g.prototype.setScrollbar=function(){var b=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",b+this.scrollbarWidth)},g.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},g.prototype.measureScrollbar=function(){var c=document.createElement("div");c.className="modal-scrollbar-measure",this.$body.append(c);var d=c.offsetWidth-c.clientWidth;return this.$body[0].removeChild(c),d};var h=e.fn.modal;e.fn.modal=f,e.fn.modal.Constructor=g,e.fn.modal.noConflict=function(){return e.fn.modal=h,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var b=e(this),i=b.attr("href"),j=e(b.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),k=j.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},j.data(),b.data());b.is("a")&&a.preventDefault(),j.one("show.bs.modal",function(c){c.isDefaultPrevented()||j.one("hidden.bs.modal",function(){b.is(":visible")&&b.trigger("focus")})}),f.call(j,k,this)})}(jQuery),+function(e){function f(a){return this.each(function(){var b=e(this),c=b.data("bs.tooltip"),i="object"==typeof a&&a;(c||!/destroy|hide/.test(a))&&(c||b.data("bs.tooltip",c=new g(this,i)),"string"==typeof a&&c[a]())})}var g=function(c,d){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",c,d)};g.VERSION="3.3.4",g.TRANSITION_DURATION=150,g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},g.prototype.init=function(a,j,k){if(this.enabled=!0,this.type=a,this.$element=e(j),this.options=this.getOptions(k),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport),this.$element[0] instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}for(var l=this.options.trigger.split(" "),m=l.length;m--;){var n=l[m];if("click"==n){this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this))}else{if("manual"!=n){var o="hover"==n?"mouseenter":"focusin",p="hover"==n?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(p+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},g.prototype.getDefaults=function(){return g.DEFAULTS},g.prototype.getOptions=function(a){return a=e.extend({},this.getDefaults(),this.$element.data(),a),a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay}),a},g.prototype.getDelegateOptions=function(){var a={},d=this.getDefaults();return this._options&&e.each(this._options,function(b,c){d[b]!=c&&(a[b]=c)}),a},g.prototype.enter=function(a){var d=a instanceof this.constructor?a:e(a.currentTarget).data("bs."+this.type);return d&&d.$tip&&d.$tip.is(":visible")?void (d.hoverState="in"):(d||(d=new this.constructor(a.currentTarget,this.getDelegateOptions()),e(a.currentTarget).data("bs."+this.type,d)),clearTimeout(d.timeout),d.hoverState="in",d.options.delay&&d.options.delay.show?void (d.timeout=setTimeout(function(){"in"==d.hoverState&&d.show()},d.options.delay.show)):d.show())},g.prototype.leave=function(a){var d=a instanceof this.constructor?a:e(a.currentTarget).data("bs."+this.type);return d||(d=new this.constructor(a.currentTarget,this.getDelegateOptions()),e(a.currentTarget).data("bs."+this.type,d)),clearTimeout(d.timeout),d.hoverState="out",d.options.delay&&d.options.delay.hide?void (d.timeout=setTimeout(function(){"out"==d.hoverState&&d.hide()},d.options.delay.hide)):d.hide()},g.prototype.show=function(){var a=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(a);var c=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(a.isDefaultPrevented()||!c){return}var s=this,t=this.tip(),u=this.getUID(this.type);this.setContent(),t.attr("id",u),this.$element.attr("aria-describedby",u),this.options.animation&&t.addClass("fade");var v="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,w=/\s?auto?\s?/i,x=w.test(v);x&&(v=v.replace(w,"")||"top"),t.detach().css({top:0,left:0,display:"block"}).addClass(v).data("bs."+this.type,this),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element);var y=this.getPosition(),z=t[0].offsetWidth,A=t[0].offsetHeight;if(x){var B=v,C=this.options.container?e(this.options.container):this.$element.parent(),D=this.getPosition(C);v="bottom"==v&&y.bottom+A>D.bottom?"top":"top"==v&&y.top-A<D.top?"bottom":"right"==v&&y.right+z>D.width?"left":"left"==v&&y.left-z<D.left?"right":v,t.removeClass(B).addClass(v)}var E=this.getCalculatedOffset(v,y,z,A);this.applyPlacement(E,v);var F=function(){var b=s.hoverState;s.$element.trigger("shown.bs."+s.type),s.hoverState=null,"out"==b&&s.leave(s)};e.support.transition&&this.$tip.hasClass("fade")?t.one("bsTransitionEnd",F).emulateTransitionEnd(g.TRANSITION_DURATION):F()}},g.prototype.applyPlacement=function(a,o){var p=this.tip(),q=p[0].offsetWidth,r=p[0].offsetHeight,s=parseInt(p.css("margin-top"),10),t=parseInt(p.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(t)&&(t=0),a.top=a.top+s,a.left=a.left+t,e.offset.setOffset(p[0],e.extend({using:function(b){p.css({top:Math.round(b.top),left:Math.round(b.left)})}},a),0),p.addClass("in");var u=p[0].offsetWidth,v=p[0].offsetHeight;"top"==o&&v!=r&&(a.top=a.top+r-v);var w=this.getViewportAdjustedDelta(o,a,u,v);w.left?a.left+=w.left:a.top+=w.top;var x=/top|bottom/.test(o),y=x?2*w.left-q+u:2*w.top-r+v,z=x?"offsetWidth":"offsetHeight";p.offset(a),this.replaceArrow(y,p[0][z],x)},g.prototype.replaceArrow=function(d,i,j){this.arrow().css(j?"left":"top",50*(1-d/i)+"%").css(j?"top":"left","")},g.prototype.setContent=function(){var c=this.tip(),d=this.getTitle();c.find(".tooltip-inner")[this.options.html?"html":"text"](d),c.removeClass("fade in top bottom left right")},g.prototype.hide=function(a){function c(){"in"!=i.hoverState&&j.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),a&&a()}var i=this,j=e(this.$tip),k=e.Event("hide.bs."+this.type);return this.$element.trigger(k),k.isDefaultPrevented()?void 0:(j.removeClass("in"),e.support.transition&&j.hasClass("fade")?j.one("bsTransitionEnd",c).emulateTransitionEnd(g.TRANSITION_DURATION):c(),this.hoverState=null,this)},g.prototype.fixTitle=function(){var b=this.$element;(b.attr("title")||"string"!=typeof b.attr("data-original-title"))&&b.attr("data-original-title",b.attr("title")||"").attr("title","")},g.prototype.hasContent=function(){return this.getTitle()},g.prototype.getPosition=function(a){a=a||this.$element;var i=a[0],j="BODY"==i.tagName,k=i.getBoundingClientRect();null==k.width&&(k=e.extend({},k,{width:k.right-k.left,height:k.bottom-k.top}));var l=j?{top:0,left:0}:a.offset(),m={scroll:j?document.documentElement.scrollTop||document.body.scrollTop:a.scrollTop()},n=j?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},k,m,n,l)},g.prototype.getCalculatedOffset=function(i,j,k,l){return"bottom"==i?{top:j.top+j.height,left:j.left+j.width/2-k/2}:"top"==i?{top:j.top-l,left:j.left+j.width/2-k/2}:"left"==i?{top:j.top+j.height/2-l/2,left:j.left-k}:{top:j.top+j.height/2-l/2,left:j.left+j.width}},g.prototype.getViewportAdjustedDelta=function(l,m,n,o){var p={top:0,left:0};if(!this.$viewport){return p}var q=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(l)){var s=m.top-q-r.scroll,t=m.top+q-r.scroll+o;s<r.top?p.top=r.top-s:t>r.top+r.height&&(p.top=r.top+r.height-t)}else{var u=m.left-q,v=m.left+q+n;u<r.left?p.left=r.left-u:v>r.width&&(p.left=r.left+r.width-v)}return p},g.prototype.getTitle=function(){var d,i=this.$element,j=this.options;return d=i.attr("data-original-title")||("function"==typeof j.title?j.title.call(i[0]):j.title)},g.prototype.getUID=function(b){do{b+=~~(1000000*Math.random())}while(document.getElementById(b));return b},g.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},g.prototype.enable=function(){this.enabled=!0},g.prototype.disable=function(){this.enabled=!1},g.prototype.toggleEnabled=function(){this.enabled=!this.enabled},g.prototype.toggle=function(a){var d=this;a&&(d=e(a.currentTarget).data("bs."+this.type),d||(d=new this.constructor(a.currentTarget,this.getDelegateOptions()),e(a.currentTarget).data("bs."+this.type,d))),d.tip().hasClass("in")?d.leave(d):d.enter(d)},g.prototype.destroy=function(){var b=this;clearTimeout(this.timeout),this.hide(function(){b.$element.off("."+b.type).removeData("bs."+b.type)})};var h=e.fn.tooltip;e.fn.tooltip=f,e.fn.tooltip.Constructor=g,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=h,this}}(jQuery),+function(e){function f(a){return this.each(function(){var b=e(this),c=b.data("bs.popover"),i="object"==typeof a&&a;(c||!/destroy|hide/.test(a))&&(c||b.data("bs.popover",c=new g(this,i)),"string"==typeof a&&c[a]())})}var g=function(c,d){this.init("popover",c,d)};if(!e.fn.tooltip){throw new Error("Popover requires tooltip.js")}g.VERSION="3.3.4",g.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),g.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),g.prototype.constructor=g,g.prototype.getDefaults=function(){return g.DEFAULTS},g.prototype.setContent=function(){var d=this.tip(),i=this.getTitle(),j=this.getContent();d.find(".popover-title")[this.options.html?"html":"text"](i),d.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof j?"html":"append":"text"](j),d.removeClass("fade top bottom left right in"),d.find(".popover-title").html()||d.find(".popover-title").hide()},g.prototype.hasContent=function(){return this.getTitle()||this.getContent()},g.prototype.getContent=function(){var c=this.$element,d=this.options;return c.attr("data-content")||("function"==typeof d.content?d.content.call(c[0]):d.content)},g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var h=e.fn.popover;e.fn.popover=f,e.fn.popover.Constructor=g,e.fn.popover.noConflict=function(){return e.fn.popover=h,this}}(jQuery),+function(e){function f(a,b){this.$body=e(document.body),this.$scrollElement=e(e(a).is(document.body)?window:a),this.options=e.extend({},f.DEFAULTS,b),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function g(a){return this.each(function(){var b=e(this),c=b.data("bs.scrollspy"),i="object"==typeof a&&a;c||b.data("bs.scrollspy",c=new f(this,i)),"string"==typeof a&&c[a]()})}f.VERSION="3.3.4",f.DEFAULTS={offset:10},f.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},f.prototype.refresh=function(){var a=this,i="offset",j=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(i="position",j=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var c=e(this),d=c.data("target")||c.attr("href"),k=/^#./.test(d)&&e(d);return k&&k.length&&k.is(":visible")&&[[k[i]().top+j,d]]||null}).sort(function(c,d){return c[0]-d[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},f.prototype.process=function(){var i,j=this.$scrollElement.scrollTop()+this.options.offset,k=this.getScrollHeight(),l=this.options.offset+k-this.$scrollElement.height(),m=this.offsets,n=this.targets,o=this.activeTarget;if(this.scrollHeight!=k&&this.refresh(),j>=l){return o!=(i=n[n.length-1])&&this.activate(i)}if(o&&j<m[0]){return this.activeTarget=null,this.clear()}for(i=m.length;i--;){o!=n[i]&&j>=m[i]&&(void 0===m[i+1]||j<m[i+1])&&this.activate(n[i])}},f.prototype.activate=function(a){this.activeTarget=a,this.clear();var i=this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]',j=e(i).parents("li").addClass("active");j.parent(".dropdown-menu").length&&(j=j.closest("li.dropdown").addClass("active")),j.trigger("activate.bs.scrollspy")},f.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var h=e.fn.scrollspy;e.fn.scrollspy=g,e.fn.scrollspy.Constructor=f,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=h,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var a=e(this);g.call(a,a.data())})})}(jQuery),+function(f){function g(a){return this.each(function(){var b=f(this),c=b.data("bs.tab");c||b.data("bs.tab",c=new h(this)),"string"==typeof a&&c[a]()})}var h=function(a){this.element=f(a)};h.VERSION="3.3.4",h.TRANSITION_DURATION=150,h.prototype.show=function(){var a=this.element,k=a.closest("ul:not(.dropdown-menu)"),l=a.data("target");if(l||(l=a.attr("href"),l=l&&l.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var m=k.find(".active:last a"),n=f.Event("hide.bs.tab",{relatedTarget:a[0]}),o=f.Event("show.bs.tab",{relatedTarget:m[0]});if(m.trigger(n),a.trigger(o),!o.isDefaultPrevented()&&!n.isDefaultPrevented()){var p=f(l);this.activate(a.closest("li"),k),this.activate(p,p.parent(),function(){m.trigger({type:"hidden.bs.tab",relatedTarget:a[0]}),a.trigger({type:"shown.bs.tab",relatedTarget:m[0]})})}}},h.prototype.activate=function(a,c,k){function l(){m.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),a.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),n?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu").length&&a.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),k&&k()}var m=c.find("> .active"),n=k&&f.support.transition&&(m.length&&m.hasClass("fade")||!!c.find("> .fade").length);m.length&&n?m.one("bsTransitionEnd",l).emulateTransitionEnd(h.TRANSITION_DURATION):l(),m.removeClass("in")};var i=f.fn.tab;f.fn.tab=g,f.fn.tab.Constructor=h,f.fn.tab.noConflict=function(){return f.fn.tab=i,this};var j=function(a){a.preventDefault(),g.call(f(this),"show")};f(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',j).on("click.bs.tab.data-api",'[data-toggle="pill"]',j)}(jQuery),+function(e){function f(a){return this.each(function(){var b=e(this),c=b.data("bs.affix"),i="object"==typeof a&&a;c||b.data("bs.affix",c=new g(this,i)),"string"==typeof a&&c[a]()})}var g=function(a,c){this.options=e.extend({},g.DEFAULTS,c),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(a),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};g.VERSION="3.3.4",g.RESET="affix affix-top affix-bottom",g.DEFAULTS={offset:0,target:window},g.prototype.getState=function(k,l,m,n){var o=this.$target.scrollTop(),p=this.$element.offset(),q=this.$target.height();if(null!=m&&"top"==this.affixed){return m>o?"top":!1}if("bottom"==this.affixed){return null!=m?o+this.unpin<=p.top?!1:"bottom":k-n>=o+q?!1:"bottom"}var r=null==this.affixed,s=r?o:p.top,t=r?q:l;return null!=m&&m>=o?"top":null!=n&&s+t>=k-n?"bottom":!1},g.prototype.getPinnedOffset=function(){if(this.pinnedOffset){return this.pinnedOffset}this.$element.removeClass(g.RESET).addClass("affix");var c=this.$target.scrollTop(),d=this.$element.offset();return this.pinnedOffset=d.top-c},g.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},g.prototype.checkPosition=function(){if(this.$element.is(":visible")){var a=this.$element.height(),c=this.options.offset,k=c.top,l=c.bottom,m=e(document.body).height();"object"!=typeof c&&(l=k=c),"function"==typeof k&&(k=c.top(this.$element)),"function"==typeof l&&(l=c.bottom(this.$element));var n=this.getState(m,a,k,l);if(this.affixed!=n){null!=this.unpin&&this.$element.css("top","");var o="affix"+(n?"-"+n:""),p=e.Event(o+".bs.affix");if(this.$element.trigger(p),p.isDefaultPrevented()){return}this.affixed=n,this.unpin="bottom"==n?this.getPinnedOffset():null,this.$element.removeClass(g.RESET).addClass(o).trigger(o.replace("affix","affixed")+".bs.affix")}"bottom"==n&&this.$element.offset({top:m-a-l})}};var h=e.fn.affix;e.fn.affix=f,e.fn.affix.Constructor=g,e.fn.affix.noConflict=function(){return e.fn.affix=h,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var a=e(this),b=a.data();b.offset=b.offset||{},null!=b.offsetBottom&&(b.offset.bottom=b.offsetBottom),null!=b.offsetTop&&(b.offset.top=b.offsetTop),f.call(a,b)})})}(jQuery);
function _init(){$.AdminLTE.layout={activate:function(){var b=this;b.fix(),b.fixSidebar(),$(window,".wrapper").resize(function(){b.fix(),b.fixSidebar()})},fix:function(){var f=$(".main-header").outerHeight()+$(".main-footer").outerHeight(),g=$(window).height(),h=$(".sidebar").height();if($("body").hasClass("fixed")){$(".content-wrapper, .right-side").css("min-height",g-$(".main-footer").outerHeight())}else{var i;g>=h?($(".content-wrapper, .right-side").css("min-height",g-f),i=g-f):($(".content-wrapper, .right-side").css("min-height",h),i=h);var j=$($.AdminLTE.options.controlSidebarOptions.selector);"undefined"!=typeof j&&j.height()>i&&$(".content-wrapper, .right-side").css("min-height",j.height())}},fixSidebar:function(){return $("body").hasClass("fixed")?("undefined"==typeof $.fn.slimScroll&&window.console&&window.console.error("Error: the fixed layout requires the slimscroll plugin!"),void ($.AdminLTE.options.sidebarSlimScroll&&"undefined"!=typeof $.fn.slimScroll&&($(".sidebar").slimScroll({destroy:!0}).height("auto"),$(".sidebar").slimscroll({height:$(window).height()-$(".main-header").height()+"px",color:"rgba(0,0,0,0.2)",size:"3px"})))):void ("undefined"!=typeof $.fn.slimScroll&&$(".sidebar").slimScroll({destroy:!0}).height("auto"))}},$.AdminLTE.pushMenu={activate:function(c){var d=$.AdminLTE.options.screenSizes;$(c).on("click",function(b){b.preventDefault(),$(window).width()>d.sm-1?$("body").hasClass("sidebar-collapse")?$("body").removeClass("sidebar-collapse").trigger("expanded.pushMenu"):$("body").addClass("sidebar-collapse").trigger("collapsed.pushMenu"):$("body").hasClass("sidebar-open")?$("body").removeClass("sidebar-open").removeClass("sidebar-collapse").trigger("collapsed.pushMenu"):$("body").addClass("sidebar-open").trigger("expanded.pushMenu")}),$(".content-wrapper").click(function(){$(window).width()<=d.sm-1&&$("body").hasClass("sidebar-open")&&$("body").removeClass("sidebar-open")}),($.AdminLTE.options.sidebarExpandOnHover||$("body").hasClass("fixed")&&$("body").hasClass("sidebar-mini"))&&this.expandOnHover()},expandOnHover:function(){var c=this,d=$.AdminLTE.options.screenSizes.sm-1;$(".main-sidebar").hover(function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-collapse")&&$(window).width()>d&&c.expand()},function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-expanded-on-hover")&&$(window).width()>d&&c.collapse()})},expand:function(){$("body").removeClass("sidebar-collapse").addClass("sidebar-expanded-on-hover")},collapse:function(){$("body").hasClass("sidebar-expanded-on-hover")&&$("body").removeClass("sidebar-expanded-on-hover").addClass("sidebar-collapse")}},$.AdminLTE.tree=function(d){var e=this,f=$.AdminLTE.options.animationSpeed;$(document).on("click",d+" li a",function(b){var c=$(this),i=c.next();if(i.is(".treeview-menu")&&i.is(":visible")){i.slideUp(f,function(){i.removeClass("menu-open")}),i.parent("li").removeClass("active")}else{if(i.is(".treeview-menu")&&!i.is(":visible")){var j=c.parents("ul").first(),k=j.find("ul:visible").slideUp(f);k.removeClass("menu-open");var l=c.parent("li");i.slideDown(f,function(){i.addClass("menu-open"),j.find("li.active").removeClass("active"),l.addClass("active"),e.layout.fix()})}}i.is(".treeview-menu")&&b.preventDefault()})},$.AdminLTE.controlSidebar={activate:function(){var f=this,g=$.AdminLTE.options.controlSidebarOptions,h=$(g.selector),i=$(g.toggleBtnSelector);i.on("click",function(a){a.preventDefault(),h.hasClass("control-sidebar-open")||$("body").hasClass("control-sidebar-open")?f.close(h,g.slide):f.open(h,g.slide)});var j=$(".control-sidebar-bg");f._fix(j),$("body").hasClass("fixed")?f._fixForFixed(h):$(".content-wrapper, .right-side").height()<h.height()&&f._fixForContent(h)},open:function(c,d){d?c.addClass("control-sidebar-open"):$("body").addClass("control-sidebar-open")},close:function(c,d){d?c.removeClass("control-sidebar-open"):$("body").removeClass("control-sidebar-open")},_fix:function(c){var d=this;$("body").hasClass("layout-boxed")?(c.css("position","absolute"),c.height($(".wrapper").height()),$(window).resize(function(){d._fix(c)})):c.css({position:"fixed",height:"auto"})},_fixForFixed:function(b){b.css({position:"fixed","max-height":"100%",overflow:"auto","padding-bottom":"50px"})},_fixForContent:function(b){$(".content-wrapper, .right-side").css("min-height",b.height())}},$.AdminLTE.boxWidget={selectors:$.AdminLTE.options.boxWidgetOptions.boxWidgetSelectors,icons:$.AdminLTE.options.boxWidgetOptions.boxWidgetIcons,animationSpeed:$.AdminLTE.options.animationSpeed,activate:function(c){var d=this;c||(c=document),$(c).on("click",d.selectors.collapse,function(b){b.preventDefault(),d.collapse($(this))}),$(c).on("click",d.selectors.remove,function(b){b.preventDefault(),d.remove($(this))})},collapse:function(e){var f=this,g=e.parents(".box").first(),h=g.find("> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer");g.hasClass("collapsed-box")?(e.children(":first").removeClass(f.icons.open).addClass(f.icons.collapse),h.slideDown(f.animationSpeed,function(){g.removeClass("collapsed-box")})):(e.children(":first").removeClass(f.icons.collapse).addClass(f.icons.open),h.slideUp(f.animationSpeed,function(){g.addClass("collapsed-box")}))},remove:function(c){var d=c.parents(".box").first();d.slideUp(this.animationSpeed)}}}if("undefined"==typeof jQuery){throw new Error("AdminLTE requires jQuery")}$.AdminLTE={},$.AdminLTE.options={navbarMenuSlimscroll:!0,navbarMenuSlimscrollWidth:"3px",navbarMenuHeight:"200px",animationSpeed:500,sidebarToggleSelector:"[data-toggle='offcanvas']",sidebarPushMenu:!0,sidebarSlimScroll:!0,sidebarExpandOnHover:!1,enableBoxRefresh:!0,enableBSToppltip:!0,BSTooltipSelector:"[data-toggle='tooltip']",enableFastclick:!0,enableControlSidebar:!0,controlSidebarOptions:{toggleBtnSelector:"[data-toggle='control-sidebar']",selector:".control-sidebar",slide:!0},enableBoxWidget:!0,boxWidgetOptions:{boxWidgetIcons:{collapse:"fa-minus",open:"fa-plus",remove:"fa-times"},boxWidgetSelectors:{remove:'[data-widget="remove"]',collapse:'[data-widget="collapse"]'}},directChat:{enable:!0,contactToggleSelector:'[data-widget="chat-pane-toggle"]'},colors:{lightBlue:"#3c8dbc",red:"#f56954",green:"#00a65a",aqua:"#00c0ef",yellow:"#f39c12",blue:"#0073b7",navy:"#001F3F",teal:"#39CCCC",olive:"#3D9970",lime:"#01FF70",orange:"#FF851B",fuchsia:"#F012BE",purple:"#8E24AA",maroon:"#D81B60",black:"#222222",gray:"#d2d6de"},screenSizes:{xs:480,sm:768,md:992,lg:1200}},$(function(){$("body").removeClass("hold-transition"),"undefined"!=typeof AdminLTEOptions&&$.extend(!0,$.AdminLTE.options,AdminLTEOptions);var b=$.AdminLTE.options;_init(),$.AdminLTE.layout.activate(),$.AdminLTE.tree(".sidebar"),b.enableControlSidebar&&$.AdminLTE.controlSidebar.activate(),b.navbarMenuSlimscroll&&"undefined"!=typeof $.fn.slimscroll&&$(".navbar .menu").slimscroll({height:b.navbarMenuHeight,alwaysVisible:!1,size:b.navbarMenuSlimscrollWidth}).css("width","100%"),b.sidebarPushMenu&&$.AdminLTE.pushMenu.activate(b.sidebarToggleSelector),b.enableBSToppltip&&$("body").tooltip({selector:b.BSTooltipSelector}),b.enableBoxWidget&&$.AdminLTE.boxWidget.activate(),b.enableFastclick&&"undefined"!=typeof FastClick&&FastClick.attach(document.body),b.directChat.enable&&$(document).on("click",b.directChat.contactToggleSelector,function(){var c=$(this).parents(".direct-chat").first();c.toggleClass("direct-chat-contacts-open")}),$('.btn-group[data-toggle="btn-toggle"]').each(function(){var c=$(this);$(this).find(".btn").on("click",function(a){c.find(".btn.active").removeClass("active"),$(this).addClass("active"),a.preventDefault()})})}),function(b){b.fn.boxRefresh=function(a){function g(c){c.append(j),i.onLoadStart.call(c)}function h(c){c.find(j).remove(),i.onLoadDone.call(c)}var i=b.extend({trigger:".refresh-btn",source:"",onLoadStart:function(c){return c},onLoadDone:function(c){return c}},a),j=b('<div class="overlay"><div class="fa fa-refresh fa-spin"></div></div>');return this.each(function(){if(""===i.source){return void (window.console&&window.console.log("Please specify a source first - boxRefresh()"))}var c=b(this),d=c.find(i.trigger).first();d.on("click",function(e){e.preventDefault(),g(c),c.find(".box-body").load(i.source,function(){h(c)})})})}}(jQuery),function(b){b.fn.activateBox=function(){b.AdminLTE.boxWidget.activate(this)}}(jQuery),function(b){b.fn.todolist=function(a){var d=b.extend({onCheck:function(c){return c},onUncheck:function(c){return c}},a);return this.each(function(){"undefined"!=typeof b.fn.iCheck?(b("input",this).on("ifChecked",function(){var c=b(this).parents("li").first();c.toggleClass("done"),d.onCheck.call(c)}),b("input",this).on("ifUnchecked",function(){var c=b(this).parents("li").first();c.toggleClass("done"),d.onUncheck.call(c)})):b("input",this).on("change",function(){var c=b(this).parents("li").first();c.toggleClass("done"),b("input",c).is(":checked")?d.onCheck.call(c):d.onUncheck.call(c)})})}}(jQuery);
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(a){var b=(function(){if(a&&a.fn&&a.fn.select2&&a.fn.select2.amd){var d=a.fn.select2.amd}var d;(function(){if(!d||!d.requirejs){if(!d){d={}}else{f=d}var g,f,e;(function(z){var q,x,t,m,k={},A={},j={},l={},n=Object.prototype.hasOwnProperty,h=[].slice,p=/\.js$/;function o(B,C){return n.call(B,C)}function w(L,B){var M,N,K,E,I,D,F,P,G,H,O,C=B&&B.split("/"),J=j.map,Q=(J&&J["*"])||{};if(L&&L.charAt(0)==="."){if(B){C=C.slice(0,C.length-1);L=L.split("/");I=L.length-1;if(j.nodeIdCompat&&p.test(L[I])){L[I]=L[I].replace(p,"")}L=C.concat(L);for(G=0;G<L.length;G+=1){O=L[G];if(O==="."){L.splice(G,1);G-=1}else{if(O===".."){if(G===1&&(L[2]===".."||L[0]==="..")){break}else{if(G>0){L.splice(G-1,2);G-=2}}}}}L=L.join("/")}else{if(L.indexOf("./")===0){L=L.substring(2)}}}if((C||Q)&&J){M=L.split("/");for(G=M.length;G>0;G-=1){N=M.slice(0,G).join("/");if(C){for(H=C.length;H>0;H-=1){K=J[C.slice(0,H).join("/")];if(K){K=K[N];if(K){E=K;D=G;break}}}}if(E){break}if(!F&&Q&&Q[N]){F=Q[N];P=G}}if(!E&&F){E=F;D=P}if(E){M.splice(0,D,E);L=M.join("/")}}return L}function v(C,B){return function(){return x.apply(z,h.call(arguments,0).concat([C,B]))}}function u(B){return function(C){return w(C,B)}}function s(B){return function(C){k[B]=C}}function i(C){if(o(A,C)){var B=A[C];delete A[C];l[C]=true;q.apply(z,B)}if(!o(k,C)&&!o(l,C)){throw new Error("No "+C)}return k[C]}function y(C){var D,B=C?C.indexOf("!"):-1;if(B>-1){D=C.substring(0,B);C=C.substring(B+1,C.length)}return[D,C]}t=function(B,F){var D,C=y(B),E=C[0];B=C[1];if(E){E=w(E,F);D=i(E)}if(E){if(D&&D.normalize){B=D.normalize(B,u(F))}else{B=w(B,F)}}else{B=w(B,F);C=y(B);E=C[0];B=C[1];if(E){D=i(E)}}return{f:E?E+"!"+B:B,n:B,pr:E,p:D}};function r(B){return function(){return(j&&j.config&&j.config[B])||{}}}m={require:function(B){return v(B)},exports:function(C){var B=k[C];if(typeof B!=="undefined"){return B}else{return(k[C]={})}},module:function(B){return{id:B,uri:"",exports:k[B],config:r(B)}}};q=function(J,G,C,K){var E,F,L,I,H,B=[],D=typeof C,M;K=K||J;if(D==="undefined"||D==="function"){G=!G.length&&C.length?["require","exports","module"]:G;for(H=0;H<G.length;H+=1){I=t(G[H],K);F=I.f;if(F==="require"){B[H]=m.require(J)}else{if(F==="exports"){B[H]=m.exports(J);M=true}else{if(F==="module"){E=B[H]=m.module(J)}else{if(o(k,F)||o(A,F)||o(l,F)){B[H]=i(F)}else{if(I.p){I.p.load(I.n,v(K,true),s(F),{});B[H]=k[F]}else{throw new Error(J+" missing "+F)}}}}}}L=C?C.apply(k[J],B):undefined;if(J){if(E&&E.exports!==z&&E.exports!==k[J]){k[J]=E.exports}else{if(L!==z||!M){k[J]=L}}}}else{if(J){k[J]=C}}};g=f=x=function(D,C,F,E,B){if(typeof D==="string"){if(m[D]){return m[D](C)}return i(t(D,C).f)}else{if(!D.splice){j=D;if(j.deps){x(j.deps,j.callback)}if(!C){return}if(C.splice){D=C;C=F;F=null}else{D=z}}}C=C||function(){};if(typeof F==="function"){F=E;E=B}if(E){q(z,D,C,F)}else{setTimeout(function(){q(z,D,C,F)},4)}return x};x.config=function(B){return x(B)};g._defined=k;e=function(D,C,B){if(!C.splice){B=C;C=[]}if(!o(k,D)&&!o(A,D)){A[D]=[D,C,B]}};e.amd={jQuery:true}}());d.requirejs=g;d.require=f;d.define=e}}());d.define("almond",function(){});d.define("jquery",[],function(){var e=a||$;if(e==null&&console&&console.error){console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page.")}return e});d.define("select2/utils",["jquery"],function(e){var h={};h.Extend=function(k,m){var i={}.hasOwnProperty;function j(){this.constructor=k}for(var l in m){if(i.call(m,l)){k[l]=m[l]}}j.prototype=m.prototype;k.prototype=new j();k.__super__=m.prototype;return k};function f(n){var l=n.prototype;var k=[];for(var j in l){var i=l[j];if(typeof i!=="function"){continue}if(j==="constructor"){continue}k.push(j)}return k}h.Decorate=function(r,p){var o=f(p);var t=f(r);function l(){var v=Array.prototype.unshift;var m=p.prototype.constructor.length;var u=r.prototype.constructor;if(m>0){v.call(arguments,r.prototype.constructor);u=p.prototype.constructor}u.apply(this,arguments)}p.displayName=r.displayName;function j(){this.constructor=l}l.prototype=new j();for(var q=0;q<t.length;q++){var s=t[q];l.prototype[s]=r.prototype[s]}var i=function(u){var v=function(){};if(u in l.prototype){v=l.prototype[u]}var m=p.prototype[u];return function(){var w=Array.prototype.unshift;w.call(arguments,v);return m.apply(this,arguments)}};for(var k=0;k<o.length;k++){var n=o[k];l.prototype[n]=i(n)}return l};var g=function(){this.listeners={}};g.prototype.on=function(j,i){this.listeners=this.listeners||{};if(j in this.listeners){this.listeners[j].push(i)}else{this.listeners[j]=[i]}};g.prototype.trigger=function(i){var j=Array.prototype.slice;this.listeners=this.listeners||{};if(i in this.listeners){this.invoke(this.listeners[i],j.call(arguments,1))}if("*" in this.listeners){this.invoke(this.listeners["*"],arguments)}};g.prototype.invoke=function(l,m){for(var j=0,k=l.length;j<k;j++){l[j].apply(this,m)}};h.Observable=g;h.generateChars=function(l){var j="";for(var k=0;k<l;k++){var m=Math.floor(Math.random()*36);j+=m.toString(36)}return j};h.bind=function(j,i){return function(){j.apply(i,arguments)}};h._convertData=function(i){for(var o in i){var n=o.split("-");var j=i;if(n.length===1){continue}for(var l=0;l<n.length;l++){var m=n[l];m=m.substring(0,1).toLowerCase()+m.substring(1);if(!(m in j)){j[m]={}}if(l==n.length-1){j[m]=i[o]}j=j[m]}delete i[o]}return i};h.hasScroll=function(k,j){var i=e(j);var l=j.style.overflowX;var m=j.style.overflowY;if(l===m&&(m==="hidden"||m==="visible")){return false}if(l==="scroll"||m==="scroll"){return true}return(i.innerHeight()<j.scrollHeight||i.innerWidth()<j.scrollWidth)};h.escapeMarkup=function(i){var j={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};if(typeof i!=="string"){return i}return String(i).replace(/[&<>"'\/\\]/g,function(k){return j[k]})};h.appendMany=function(i,k){if(e.fn.jquery.substr(0,3)==="1.7"){var j=e();e.map(k,function(l){j=j.add(l)});k=j}i.append(k)};return h});d.define("select2/results",["jquery","./utils"],function(e,g){function f(h,j,i){this.$element=h;this.data=i;this.options=j;f.__super__.constructor.call(this)}g.Extend(f,g.Observable);f.prototype.render=function(){var h=e('<ul class="select2-results__options" role="tree"></ul>');if(this.options.get("multiple")){h.attr("aria-multiselectable","true")}this.$results=h;return h};f.prototype.clear=function(){this.$results.empty()};f.prototype.displayMessage=function(k){var i=this.options.get("escapeMarkup");this.clear();this.hideLoading();var h=e('<li role="treeitem" class="select2-results__option"></li>');var j=this.options.get("translations").get(k.message);h.append(i(j(k.args)));this.$results.append(h)};f.prototype.append=function(k){this.hideLoading();var i=[];if(k.results==null||k.results.length===0){if(this.$results.children().length===0){this.trigger("results:message",{message:"noResults"})}return}k.results=this.sort(k.results);for(var j=0;j<k.results.length;j++){var l=k.results[j];var h=this.option(l);i.push(h)}this.$results.append(i)};f.prototype.position=function(i,h){var j=h.find(".select2-results");j.append(i)};f.prototype.sort=function(h){var i=this.options.get("sorter");return i(h)};f.prototype.setClasses=function(){var h=this;this.data.current(function(k){var l=e.map(k,function(m){return m.id.toString()});var i=h.$results.find(".select2-results__option[aria-selected]");i.each(function(){var m=e(this);var o=e.data(this,"data");var n=""+o.id;if((o.element!=null&&o.element.selected)||(o.element==null&&e.inArray(n,l)>-1)){m.attr("aria-selected","true")}else{m.attr("aria-selected","false")}});var j=i.filter("[aria-selected=true]");if(j.length>0){j.first().trigger("mouseenter")}else{i.first().trigger("mouseenter")}})};f.prototype.showLoading=function(k){this.hideLoading();var j=this.options.get("translations").get("searching");var i={disabled:true,loading:true,text:j(k)};var h=this.option(i);h.className+=" loading-results";this.$results.prepend(h)};f.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()};f.prototype.option=function(q){var s=document.createElement("li");s.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};if(q.disabled){delete n["aria-selected"];n["aria-disabled"]="true"}if(q.id==null){delete n["aria-selected"]}if(q._resultId!=null){s.id=q._resultId}if(q.title){s.title=q.title}if(q.children){n.role="group";n["aria-label"]=q.text;delete n["aria-selected"]}for(var m in n){var t=n[m];s.setAttribute(m,t)}if(q.children){var l=e(s);var r=document.createElement("strong");r.className="select2-results__group";var k=e(r);this.template(q,r);var i=[];for(var o=0;o<q.children.length;o++){var p=q.children[o];var h=this.option(p);i.push(h)}var j=e("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});j.append(i);l.append(r);l.append(j)}else{this.template(q,s)}e.data(s,"data",q);return s};f.prototype.bind=function(i,h){var k=this;var j=i.id+"-results";this.$results.attr("id",j);i.on("results:all",function(l){k.clear();k.append(l.data);if(i.isOpen()){k.setClasses()}});i.on("results:append",function(l){k.append(l.data);if(i.isOpen()){k.setClasses()}});i.on("query",function(l){k.showLoading(l)});i.on("select",function(){if(!i.isOpen()){return}k.setClasses()});i.on("unselect",function(){if(!i.isOpen()){return}k.setClasses()});i.on("open",function(){k.$results.attr("aria-expanded","true");k.$results.attr("aria-hidden","false");k.setClasses();k.ensureHighlightVisible()});i.on("close",function(){k.$results.attr("aria-expanded","false");k.$results.attr("aria-hidden","true");k.$results.removeAttr("aria-activedescendant")});i.on("results:toggle",function(){var l=k.getHighlightedResults();if(l.length===0){return}l.trigger("mouseup")});i.on("results:select",function(){var l=k.getHighlightedResults();if(l.length===0){return}var m=l.data("data");if(l.attr("aria-selected")=="true"){k.trigger("close")}else{k.trigger("select",{data:m})}});i.on("results:previous",function(){var l=k.getHighlightedResults();var n=k.$results.find("[aria-selected]");var o=n.index(l);if(o===0){return}var q=o-1;if(l.length===0){q=0}var m=n.eq(q);m.trigger("mouseenter");var p=k.$results.offset().top;var s=m.offset().top;var r=k.$results.scrollTop()+(s-p);if(q===0){k.$results.scrollTop(0)}else{if(s-p<0){k.$results.scrollTop(r)}}});i.on("results:next",function(){var l=k.getHighlightedResults();var n=k.$results.find("[aria-selected]");var o=n.index(l);var r=o+1;if(r>=n.length){return}var m=n.eq(r);m.trigger("mouseenter");var p=k.$results.offset().top+k.$results.outerHeight(false);var q=m.offset().top+m.outerHeight(false);var s=k.$results.scrollTop()+q-p;if(r===0){k.$results.scrollTop(0)}else{if(q>p){k.$results.scrollTop(s)}}});i.on("results:focus",function(l){l.element.addClass("select2-results__option--highlighted")});i.on("results:message",function(l){k.displayMessage(l)});if(e.fn.mousewheel){this.$results.on("mousewheel",function(m){var p=k.$results.scrollTop();var l=(k.$results.get(0).scrollHeight-k.$results.scrollTop()+m.deltaY);var o=m.deltaY>0&&p-m.deltaY<=0;var n=m.deltaY<0&&l<=k.$results.height();if(o){k.$results.scrollTop(0);m.preventDefault();m.stopPropagation()}else{if(n){k.$results.scrollTop(k.$results.get(0).scrollHeight-k.$results.height());m.preventDefault();m.stopPropagation()}}})}this.$results.on("mouseup",".select2-results__option[aria-selected]",function(n){var l=e(this);var m=l.data("data");if(l.attr("aria-selected")==="true"){if(k.options.get("multiple")){k.trigger("unselect",{originalEvent:n,data:m})}else{k.trigger("close")}return}k.trigger("select",{originalEvent:n,data:m})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(m){var l=e(this).data("data");k.getHighlightedResults().removeClass("select2-results__option--highlighted");k.trigger("results:focus",{data:l,element:e(this)})})};f.prototype.getHighlightedResults=function(){var h=this.$results.find(".select2-results__option--highlighted");return h};f.prototype.destroy=function(){this.$results.remove()};f.prototype.ensureHighlightVisible=function(){var h=this.getHighlightedResults();if(h.length===0){return}var i=this.$results.find("[aria-selected]");var j=i.index(h);var k=this.$results.offset().top;var m=h.offset().top;var l=this.$results.scrollTop()+(m-k);var n=m-k;l-=h.outerHeight(false)*2;if(j<=2){this.$results.scrollTop(0)}else{if(n>this.$results.outerHeight()||n<0){this.$results.scrollTop(l)}}};f.prototype.template=function(k,h){var l=this.options.get("templateResult");var j=this.options.get("escapeMarkup");var i=l(k);if(i==null){h.style.display="none"}else{if(typeof i==="string"){h.innerHTML=j(i)}else{e(h).append(i)}}};return f});d.define("select2/keys",[],function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return e});d.define("select2/selection/base",["jquery","../utils","../keys"],function(e,h,g){function f(i,j){this.$element=i;this.options=j;f.__super__.constructor.call(this)}h.Extend(f,h.Observable);f.prototype.render=function(){var i=e('<span class="select2-selection" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"></span>');this._tabindex=0;if(this.$element.data("old-tabindex")!=null){this._tabindex=this.$element.data("old-tabindex")}else{if(this.$element.attr("tabindex")!=null){this._tabindex=this.$element.attr("tabindex")}}i.attr("title",this.$element.attr("title"));i.attr("tabindex",this._tabindex);this.$selection=i;return i};f.prototype.bind=function(j,i){var m=this;var k=j.id+"-container";var l=j.id+"-results";this.container=j;this.$selection.on("focus",function(n){m.trigger("focus",n)});this.$selection.on("blur",function(n){m.trigger("blur",n)});this.$selection.on("keydown",function(n){m.trigger("keypress",n);if(n.which===g.SPACE){n.preventDefault()}});j.on("results:focus",function(n){m.$selection.attr("aria-activedescendant",n.data._resultId)});j.on("selection:update",function(n){m.update(n.data)});j.on("open",function(){m.$selection.attr("aria-expanded","true");m.$selection.attr("aria-owns",l);m._attachCloseHandler(j)});j.on("close",function(){m.$selection.attr("aria-expanded","false");m.$selection.removeAttr("aria-activedescendant");m.$selection.removeAttr("aria-owns");m.$selection.focus();m._detachCloseHandler(j)});j.on("enable",function(){m.$selection.attr("tabindex",m._tabindex)});j.on("disable",function(){m.$selection.attr("tabindex","-1")})};f.prototype._attachCloseHandler=function(i){var j=this;e(document.body).on("mousedown.select2."+i.id,function(n){var m=e(n.target);var l=m.closest(".select2");var k=e(".select2.select2-container--open");k.each(function(){var p=e(this);if(this==l[0]){return}var o=p.data("element");o.select2("close")})})};f.prototype._detachCloseHandler=function(i){e(document.body).off("mousedown.select2."+i.id)};f.prototype.position=function(j,i){var k=i.find(".selection");k.append(j)};f.prototype.destroy=function(){this._detachCloseHandler(this.container)};f.prototype.update=function(i){throw new Error("The `update` method must be defined in child classes.")};return f});d.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,f,i,g){function h(){h.__super__.constructor.apply(this,arguments)}i.Extend(h,f);h.prototype.render=function(){var j=h.__super__.render.call(this);j.addClass("select2-selection--single");j.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>');return j};h.prototype.bind=function(k,j){var m=this;h.__super__.bind.apply(this,arguments);var l=k.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",l);this.$selection.attr("aria-labelledby",l);this.$selection.on("mousedown",function(n){if(n.which!==1){return}m.trigger("toggle",{originalEvent:n})});this.$selection.on("focus",function(n){});this.$selection.on("blur",function(n){});k.on("selection:update",function(n){m.update(n.data)})};h.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()};h.prototype.display=function(j){var l=this.options.get("templateSelection");var k=this.options.get("escapeMarkup");return k(l(j))};h.prototype.selectionContainer=function(){return e("<span></span>")};h.prototype.update=function(k){if(k.length===0){this.clear();return}var m=k[0];var l=this.display(m);var j=this.$selection.find(".select2-selection__rendered");j.empty().append(l);j.prop("title",m.title||m.text)};return h});d.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,f,h){function g(i,j){g.__super__.constructor.apply(this,arguments)}h.Extend(g,f);g.prototype.render=function(){var i=g.__super__.render.call(this);i.addClass("select2-selection--multiple");i.html('<ul class="select2-selection__rendered"></ul>');return i};g.prototype.bind=function(j,i){var k=this;g.__super__.bind.apply(this,arguments);this.$selection.on("click",function(l){k.trigger("toggle",{originalEvent:l})});this.$selection.on("click",".select2-selection__choice__remove",function(o){var l=e(this);var m=l.parent();var n=m.data("data");k.trigger("unselect",{originalEvent:o,data:n})})};g.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()};g.prototype.display=function(i){var k=this.options.get("templateSelection");var j=this.options.get("escapeMarkup");return j(k(i))};g.prototype.selectionContainer=function(){var i=e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return i};g.prototype.update=function(m){this.clear();if(m.length===0){return}var k=[];for(var l=0;l<m.length;l++){var o=m[l];var n=this.display(o);var j=this.selectionContainer();j.append(n);j.prop("title",o.title||o.text);j.data("data",o);k.push(j)}var i=this.$selection.find(".select2-selection__rendered");h.appendMany(i,k)};return g});d.define("select2/selection/placeholder",["../utils"],function(f){function e(h,g,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));h.call(this,g,i)}e.prototype.normalizePlaceholder=function(g,h){if(typeof h==="string"){h={id:"",text:h}}return h};e.prototype.createPlaceholder=function(h,i){var g=this.selectionContainer();g.html(this.display(i));g.addClass("select2-selection__placeholder").removeClass("select2-selection__choice");return g};e.prototype.update=function(i,h){var k=(h.length==1&&h[0].id!=this.placeholder.id);var j=h.length>1;if(j||k){return i.call(this,h)}this.clear();var g=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(g)};return e});d.define("select2/selection/allowClear",["jquery","../keys"],function(e,g){function f(){}f.prototype.bind=function(j,i,h){var k=this;j.call(this,i,h);if(this.placeholder==null){if(this.options.get("debug")&&window.console&&console.error){console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.")}}this.$selection.on("mousedown",".select2-selection__clear",function(l){k._handleClear(l)});i.on("keypress",function(l){k._handleKeyboardClear(l,i)})};f.prototype._handleClear=function(i,l){if(this.options.get("disabled")){return}var h=this.$selection.find(".select2-selection__clear");if(h.length===0){return}l.stopPropagation();var k=h.data("data");for(var j=0;j<k.length;j++){var m={data:k[j]};this.trigger("unselect",m);if(m.prevented){return}}this.$element.val(this.placeholder.id).trigger("change");this.trigger("toggle")};f.prototype._handleKeyboardClear=function(h,j,i){if(i.isOpen()){return}if(j.which==g.DELETE||j.which==g.BACKSPACE){this._handleClear(j)}};f.prototype.update=function(j,i){j.call(this,i);if(this.$selection.find(".select2-selection__placeholder").length>0||i.length===0){return}var h=e('<span class="select2-selection__clear">&times;</span>');h.data("data",i);this.$selection.find(".select2-selection__rendered").prepend(h)};return f});d.define("select2/selection/search",["jquery","../utils","../keys"],function(e,h,f){function g(j,i,k){j.call(this,i,k)}g.prototype.render=function(k){var j=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></li>');this.$searchContainer=j;this.$search=j.find("input");var i=k.call(this);return i};g.prototype.bind=function(k,j,i){var l=this;k.call(this,j,i);j.on("open",function(){l.$search.attr("tabindex",0);l.$search.focus()});j.on("close",function(){l.$search.attr("tabindex",-1);l.$search.val("");l.$search.focus()});j.on("enable",function(){l.$search.prop("disabled",false)});j.on("disable",function(){l.$search.prop("disabled",true)});this.$selection.on("focusin",".select2-search--inline",function(m){l.trigger("focus",m)});this.$selection.on("focusout",".select2-search--inline",function(m){l.trigger("blur",m)});this.$selection.on("keydown",".select2-search--inline",function(n){n.stopPropagation();l.trigger("keypress",n);l._keyUpPrevented=n.isDefaultPrevented();var p=n.which;if(p===f.BACKSPACE&&l.$search.val()===""){var m=l.$searchContainer.prev(".select2-selection__choice");if(m.length>0){var o=m.data("data");l.searchRemoveChoice(o);n.preventDefault()}}});this.$selection.on("input",".select2-search--inline",function(m){l.$selection.off("keyup.search")});this.$selection.on("keyup.search input",".select2-search--inline",function(m){l.handleSearch(m)})};g.prototype.createPlaceholder=function(i,j){this.$search.attr("placeholder",j.text)};g.prototype.update=function(j,i){this.$search.attr("placeholder","");j.call(this,i);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch()};g.prototype.handleSearch=function(){this.resizeSearch();if(!this._keyUpPrevented){var i=this.$search.val();this.trigger("query",{term:i})}this._keyUpPrevented=false};g.prototype.searchRemoveChoice=function(i,j){this.trigger("unselect",{data:j});this.trigger("open");this.$search.val(j.text+" ")};g.prototype.resizeSearch=function(){this.$search.css("width","25px");var j="";if(this.$search.attr("placeholder")!==""){j=this.$selection.find(".select2-selection__rendered").innerWidth()}else{var i=this.$search.val().length+1;j=(i*0.75)+"em"}this.$search.css("width",j)};return g});d.define("select2/selection/eventRelay",["jquery"],function(e){function f(){}f.prototype.bind=function(i,h,g){var l=this;var k=["open","opening","close","closing","select","selecting","unselect","unselecting"];var j=["opening","closing","selecting","unselecting"];i.call(this,h,g);h.on("*",function(n,o){if(e.inArray(n,k)===-1){return}o=o||{};var m=e.Event("select2:"+n,{params:o});l.$element.trigger(m);if(e.inArray(n,j)===-1){return}o.prevented=m.isDefaultPrevented()})};return f});d.define("select2/translation",["jquery","require"],function(e,f){function g(h){this.dict=h||{}}g.prototype.all=function(){return this.dict};g.prototype.get=function(h){return this.dict[h]};g.prototype.extend=function(h){this.dict=e.extend({},h.all(),this.dict)};g._cache={};g.loadPath=function(h){if(!(h in g._cache)){var i=f(h);g._cache[h]=i}return new g(g._cache[h])};return g});d.define("select2/diacritics",[],function(){var e={"\u24B6":"A","\uFF21":"A","\u00C0":"A","\u00C1":"A","\u00C2":"A","\u1EA6":"A","\u1EA4":"A","\u1EAA":"A","\u1EA8":"A","\u00C3":"A","\u0100":"A","\u0102":"A","\u1EB0":"A","\u1EAE":"A","\u1EB4":"A","\u1EB2":"A","\u0226":"A","\u01E0":"A","\u00C4":"A","\u01DE":"A","\u1EA2":"A","\u00C5":"A","\u01FA":"A","\u01CD":"A","\u0200":"A","\u0202":"A","\u1EA0":"A","\u1EAC":"A","\u1EB6":"A","\u1E00":"A","\u0104":"A","\u023A":"A","\u2C6F":"A","\uA732":"AA","\u00C6":"AE","\u01FC":"AE","\u01E2":"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B","\uFF22":"B","\u1E02":"B","\u1E04":"B","\u1E06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24B8":"C","\uFF23":"C","\u0106":"C","\u0108":"C","\u010A":"C","\u010C":"C","\u00C7":"C","\u1E08":"C","\u0187":"C","\u023B":"C","\uA73E":"C","\u24B9":"D","\uFF24":"D","\u1E0A":"D","\u010E":"D","\u1E0C":"D","\u1E10":"D","\u1E12":"D","\u1E0E":"D","\u0110":"D","\u018B":"D","\u018A":"D","\u0189":"D","\uA779":"D","\u01F1":"DZ","\u01C4":"DZ","\u01F2":"Dz","\u01C5":"Dz","\u24BA":"E","\uFF25":"E","\u00C8":"E","\u00C9":"E","\u00CA":"E","\u1EC0":"E","\u1EBE":"E","\u1EC4":"E","\u1EC2":"E","\u1EBC":"E","\u0112":"E","\u1E14":"E","\u1E16":"E","\u0114":"E","\u0116":"E","\u00CB":"E","\u1EBA":"E","\u011A":"E","\u0204":"E","\u0206":"E","\u1EB8":"E","\u1EC6":"E","\u0228":"E","\u1E1C":"E","\u0118":"E","\u1E18":"E","\u1E1A":"E","\u0190":"E","\u018E":"E","\u24BB":"F","\uFF26":"F","\u1E1E":"F","\u0191":"F","\uA77B":"F","\u24BC":"G","\uFF27":"G","\u01F4":"G","\u011C":"G","\u1E20":"G","\u011E":"G","\u0120":"G","\u01E6":"G","\u0122":"G","\u01E4":"G","\u0193":"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H","\uFF28":"H","\u0124":"H","\u1E22":"H","\u1E26":"H","\u021E":"H","\u1E24":"H","\u1E28":"H","\u1E2A":"H","\u0126":"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I","\uFF29":"I","\u00CC":"I","\u00CD":"I","\u00CE":"I","\u0128":"I","\u012A":"I","\u012C":"I","\u0130":"I","\u00CF":"I","\u1E2E":"I","\u1EC8":"I","\u01CF":"I","\u0208":"I","\u020A":"I","\u1ECA":"I","\u012E":"I","\u1E2C":"I","\u0197":"I","\u24BF":"J","\uFF2A":"J","\u0134":"J","\u0248":"J","\u24C0":"K","\uFF2B":"K","\u1E30":"K","\u01E8":"K","\u1E32":"K","\u0136":"K","\u1E34":"K","\u0198":"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L","\uFF2C":"L","\u013F":"L","\u0139":"L","\u013D":"L","\u1E36":"L","\u1E38":"L","\u013B":"L","\u1E3C":"L","\u1E3A":"L","\u0141":"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L","\u01C7":"LJ","\u01C8":"Lj","\u24C2":"M","\uFF2D":"M","\u1E3E":"M","\u1E40":"M","\u1E42":"M","\u2C6E":"M","\u019C":"M","\u24C3":"N","\uFF2E":"N","\u01F8":"N","\u0143":"N","\u00D1":"N","\u1E44":"N","\u0147":"N","\u1E46":"N","\u0145":"N","\u1E4A":"N","\u1E48":"N","\u0220":"N","\u019D":"N","\uA790":"N","\uA7A4":"N","\u01CA":"NJ","\u01CB":"Nj","\u24C4":"O","\uFF2F":"O","\u00D2":"O","\u00D3":"O","\u00D4":"O","\u1ED2":"O","\u1ED0":"O","\u1ED6":"O","\u1ED4":"O","\u00D5":"O","\u1E4C":"O","\u022C":"O","\u1E4E":"O","\u014C":"O","\u1E50":"O","\u1E52":"O","\u014E":"O","\u022E":"O","\u0230":"O","\u00D6":"O","\u022A":"O","\u1ECE":"O","\u0150":"O","\u01D1":"O","\u020C":"O","\u020E":"O","\u01A0":"O","\u1EDC":"O","\u1EDA":"O","\u1EE0":"O","\u1EDE":"O","\u1EE2":"O","\u1ECC":"O","\u1ED8":"O","\u01EA":"O","\u01EC":"O","\u00D8":"O","\u01FE":"O","\u0186":"O","\u019F":"O","\uA74A":"O","\uA74C":"O","\u01A2":"OI","\uA74E":"OO","\u0222":"OU","\u24C5":"P","\uFF30":"P","\u1E54":"P","\u1E56":"P","\u01A4":"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q","\uFF31":"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R","\uFF32":"R","\u0154":"R","\u1E58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1E5A":"R","\u1E5C":"R","\u0156":"R","\u1E5E":"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S","\uFF33":"S","\u1E9E":"S","\u015A":"S","\u1E64":"S","\u015C":"S","\u1E60":"S","\u0160":"S","\u1E66":"S","\u1E62":"S","\u1E68":"S","\u0218":"S","\u015E":"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T","\uFF34":"T","\u1E6A":"T","\u0164":"T","\u1E6C":"T","\u021A":"T","\u0162":"T","\u1E70":"T","\u1E6E":"T","\u0166":"T","\u01AC":"T","\u01AE":"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U","\uFF35":"U","\u00D9":"U","\u00DA":"U","\u00DB":"U","\u0168":"U","\u1E78":"U","\u016A":"U","\u1E7A":"U","\u016C":"U","\u00DC":"U","\u01DB":"U","\u01D7":"U","\u01D5":"U","\u01D9":"U","\u1EE6":"U","\u016E":"U","\u0170":"U","\u01D3":"U","\u0214":"U","\u0216":"U","\u01AF":"U","\u1EEA":"U","\u1EE8":"U","\u1EEE":"U","\u1EEC":"U","\u1EF0":"U","\u1EE4":"U","\u1E72":"U","\u0172":"U","\u1E76":"U","\u1E74":"U","\u0244":"U","\u24CB":"V","\uFF36":"V","\u1E7C":"V","\u1E7E":"V","\u01B2":"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W","\uFF37":"W","\u1E80":"W","\u1E82":"W","\u0174":"W","\u1E86":"W","\u1E84":"W","\u1E88":"W","\u2C72":"W","\u24CD":"X","\uFF38":"X","\u1E8A":"X","\u1E8C":"X","\u24CE":"Y","\uFF39":"Y","\u1EF2":"Y","\u00DD":"Y","\u0176":"Y","\u1EF8":"Y","\u0232":"Y","\u1E8E":"Y","\u0178":"Y","\u1EF6":"Y","\u1EF4":"Y","\u01B3":"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z","\uFF3A":"Z","\u0179":"Z","\u1E90":"Z","\u017B":"Z","\u017D":"Z","\u1E92":"Z","\u1E94":"Z","\u01B5":"Z","\u0224":"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a","\uFF41":"a","\u1E9A":"a","\u00E0":"a","\u00E1":"a","\u00E2":"a","\u1EA7":"a","\u1EA5":"a","\u1EAB":"a","\u1EA9":"a","\u00E3":"a","\u0101":"a","\u0103":"a","\u1EB1":"a","\u1EAF":"a","\u1EB5":"a","\u1EB3":"a","\u0227":"a","\u01E1":"a","\u00E4":"a","\u01DF":"a","\u1EA3":"a","\u00E5":"a","\u01FB":"a","\u01CE":"a","\u0201":"a","\u0203":"a","\u1EA1":"a","\u1EAD":"a","\u1EB7":"a","\u1E01":"a","\u0105":"a","\u2C65":"a","\u0250":"a","\uA733":"aa","\u00E6":"ae","\u01FD":"ae","\u01E3":"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b","\uFF42":"b","\u1E03":"b","\u1E05":"b","\u1E07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24D2":"c","\uFF43":"c","\u0107":"c","\u0109":"c","\u010B":"c","\u010D":"c","\u00E7":"c","\u1E09":"c","\u0188":"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d","\uFF44":"d","\u1E0B":"d","\u010F":"d","\u1E0D":"d","\u1E11":"d","\u1E13":"d","\u1E0F":"d","\u0111":"d","\u018C":"d","\u0256":"d","\u0257":"d","\uA77A":"d","\u01F3":"dz","\u01C6":"dz","\u24D4":"e","\uFF45":"e","\u00E8":"e","\u00E9":"e","\u00EA":"e","\u1EC1":"e","\u1EBF":"e","\u1EC5":"e","\u1EC3":"e","\u1EBD":"e","\u0113":"e","\u1E15":"e","\u1E17":"e","\u0115":"e","\u0117":"e","\u00EB":"e","\u1EBB":"e","\u011B":"e","\u0205":"e","\u0207":"e","\u1EB9":"e","\u1EC7":"e","\u0229":"e","\u1E1D":"e","\u0119":"e","\u1E19":"e","\u1E1B":"e","\u0247":"e","\u025B":"e","\u01DD":"e","\u24D5":"f","\uFF46":"f","\u1E1F":"f","\u0192":"f","\uA77C":"f","\u24D6":"g","\uFF47":"g","\u01F5":"g","\u011D":"g","\u1E21":"g","\u011F":"g","\u0121":"g","\u01E7":"g","\u0123":"g","\u01E5":"g","\u0260":"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h","\uFF48":"h","\u0125":"h","\u1E23":"h","\u1E27":"h","\u021F":"h","\u1E25":"h","\u1E29":"h","\u1E2B":"h","\u1E96":"h","\u0127":"h","\u2C68":"h","\u2C76":"h","\u0265":"h","\u0195":"hv","\u24D8":"i","\uFF49":"i","\u00EC":"i","\u00ED":"i","\u00EE":"i","\u0129":"i","\u012B":"i","\u012D":"i","\u00EF":"i","\u1E2F":"i","\u1EC9":"i","\u01D0":"i","\u0209":"i","\u020B":"i","\u1ECB":"i","\u012F":"i","\u1E2D":"i","\u0268":"i","\u0131":"i","\u24D9":"j","\uFF4A":"j","\u0135":"j","\u01F0":"j","\u0249":"j","\u24DA":"k","\uFF4B":"k","\u1E31":"k","\u01E9":"k","\u1E33":"k","\u0137":"k","\u1E35":"k","\u0199":"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l","\uFF4C":"l","\u0140":"l","\u013A":"l","\u013E":"l","\u1E37":"l","\u1E39":"l","\u013C":"l","\u1E3D":"l","\u1E3B":"l","\u017F":"l","\u0142":"l","\u019A":"l","\u026B":"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l","\u01C9":"lj","\u24DC":"m","\uFF4D":"m","\u1E3F":"m","\u1E41":"m","\u1E43":"m","\u0271":"m","\u026F":"m","\u24DD":"n","\uFF4E":"n","\u01F9":"n","\u0144":"n","\u00F1":"n","\u1E45":"n","\u0148":"n","\u1E47":"n","\u0146":"n","\u1E4B":"n","\u1E49":"n","\u019E":"n","\u0272":"n","\u0149":"n","\uA791":"n","\uA7A5":"n","\u01CC":"nj","\u24DE":"o","\uFF4F":"o","\u00F2":"o","\u00F3":"o","\u00F4":"o","\u1ED3":"o","\u1ED1":"o","\u1ED7":"o","\u1ED5":"o","\u00F5":"o","\u1E4D":"o","\u022D":"o","\u1E4F":"o","\u014D":"o","\u1E51":"o","\u1E53":"o","\u014F":"o","\u022F":"o","\u0231":"o","\u00F6":"o","\u022B":"o","\u1ECF":"o","\u0151":"o","\u01D2":"o","\u020D":"o","\u020F":"o","\u01A1":"o","\u1EDD":"o","\u1EDB":"o","\u1EE1":"o","\u1EDF":"o","\u1EE3":"o","\u1ECD":"o","\u1ED9":"o","\u01EB":"o","\u01ED":"o","\u00F8":"o","\u01FF":"o","\u0254":"o","\uA74B":"o","\uA74D":"o","\u0275":"o","\u01A3":"oi","\u0223":"ou","\uA74F":"oo","\u24DF":"p","\uFF50":"p","\u1E55":"p","\u1E57":"p","\u01A5":"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q","\uFF51":"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r","\uFF52":"r","\u0155":"r","\u1E59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1E5B":"r","\u1E5D":"r","\u0157":"r","\u1E5F":"r","\u024D":"r","\u027D":"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s","\uFF53":"s","\u00DF":"s","\u015B":"s","\u1E65":"s","\u015D":"s","\u1E61":"s","\u0161":"s","\u1E67":"s","\u1E63":"s","\u1E69":"s","\u0219":"s","\u015F":"s","\u023F":"s","\uA7A9":"s","\uA785":"s","\u1E9B":"s","\u24E3":"t","\uFF54":"t","\u1E6B":"t","\u1E97":"t","\u0165":"t","\u1E6D":"t","\u021B":"t","\u0163":"t","\u1E71":"t","\u1E6F":"t","\u0167":"t","\u01AD":"t","\u0288":"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u","\uFF55":"u","\u00F9":"u","\u00FA":"u","\u00FB":"u","\u0169":"u","\u1E79":"u","\u016B":"u","\u1E7B":"u","\u016D":"u","\u00FC":"u","\u01DC":"u","\u01D8":"u","\u01D6":"u","\u01DA":"u","\u1EE7":"u","\u016F":"u","\u0171":"u","\u01D4":"u","\u0215":"u","\u0217":"u","\u01B0":"u","\u1EEB":"u","\u1EE9":"u","\u1EEF":"u","\u1EED":"u","\u1EF1":"u","\u1EE5":"u","\u1E73":"u","\u0173":"u","\u1E77":"u","\u1E75":"u","\u0289":"u","\u24E5":"v","\uFF56":"v","\u1E7D":"v","\u1E7F":"v","\u028B":"v","\uA75F":"v","\u028C":"v","\uA761":"vy","\u24E6":"w","\uFF57":"w","\u1E81":"w","\u1E83":"w","\u0175":"w","\u1E87":"w","\u1E85":"w","\u1E98":"w","\u1E89":"w","\u2C73":"w","\u24E7":"x","\uFF58":"x","\u1E8B":"x","\u1E8D":"x","\u24E8":"y","\uFF59":"y","\u1EF3":"y","\u00FD":"y","\u0177":"y","\u1EF9":"y","\u0233":"y","\u1E8F":"y","\u00FF":"y","\u1EF7":"y","\u1E99":"y","\u1EF5":"y","\u01B4":"y","\u024F":"y","\u1EFF":"y","\u24E9":"z","\uFF5A":"z","\u017A":"z","\u1E91":"z","\u017C":"z","\u017E":"z","\u1E93":"z","\u1E95":"z","\u01B6":"z","\u0225":"z","\u0240":"z","\u2C6C":"z","\uA763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038A":"\u0399","\u03AA":"\u0399","\u038C":"\u039F","\u038E":"\u03A5","\u03AB":"\u03A5","\u038F":"\u03A9","\u03AC":"\u03B1","\u03AD":"\u03B5","\u03AE":"\u03B7","\u03AF":"\u03B9","\u03CA":"\u03B9","\u0390":"\u03B9","\u03CC":"\u03BF","\u03CD":"\u03C5","\u03CB":"\u03C5","\u03B0":"\u03C5","\u03C9":"\u03C9","\u03C2":"\u03C3"};return e});d.define("select2/data/base",["../utils"],function(f){function e(g,h){e.__super__.constructor.call(this)}f.Extend(e,f.Observable);e.prototype.current=function(g){throw new Error("The `current` method must be defined in child classes.")};e.prototype.query=function(h,g){throw new Error("The `query` method must be defined in child classes.")};e.prototype.bind=function(h,g){};e.prototype.destroy=function(){};e.prototype.generateResultId=function(g,h){var i=g.id+"-result-";i+=f.generateChars(4);if(h.id!=null){i+="-"+h.id.toString()}else{i+="-"+f.generateChars(4)}return i};return e});d.define("select2/data/select",["./base","../utils","jquery"],function(f,h,e){function g(i,j){this.$element=i;this.options=j;g.__super__.constructor.call(this)}h.Extend(g,f);g.prototype.current=function(i){var j=[];var k=this;this.$element.find(":selected").each(function(){var l=e(this);var m=k.item(l);j.push(m)});i(j)};g.prototype.select=function(i){var j=this;i.selected=true;if(e(i.element).is("option")){i.element.selected=true;this.$element.trigger("change");return}if(this.$element.prop("multiple")){this.current(function(l){var o=[];i=[i];i.push.apply(i,l);for(var m=0;m<i.length;m++){var n=i[m].id;if(e.inArray(n,o)===-1){o.push(n)}}j.$element.val(o);j.$element.trigger("change")})}else{var k=i.id;this.$element.val(k);this.$element.trigger("change")}};g.prototype.unselect=function(i){var j=this;if(!this.$element.prop("multiple")){return}i.selected=false;if(e(i.element).is("option")){i.element.selected=false;this.$element.trigger("change");return}this.current(function(k){var n=[];for(var l=0;l<k.length;l++){var m=k[l].id;if(m!==i.id&&e.inArray(m,n)===-1){n.push(m)}}j.$element.val(n);j.$element.trigger("change")})};g.prototype.bind=function(j,i){var k=this;this.container=j;j.on("select",function(l){k.select(l.data)});j.on("unselect",function(l){k.unselect(l.data)})};g.prototype.destroy=function(){this.$element.find("*").each(function(){e.removeData(this,"data")})};g.prototype.query=function(l,j){var k=[];var m=this;var i=this.$element.children();i.each(function(){var n=e(this);if(!n.is("option")&&!n.is("optgroup")){return}var p=m.item(n);var o=m.matches(l,p);if(o!==null){k.push(o)}});j({results:k})};g.prototype.addOptions=function(i){h.appendMany(this.$element,i)};g.prototype.option=function(j){var l;if(j.children){l=document.createElement("optgroup");l.label=j.text}else{l=document.createElement("option");if(l.textContent!==undefined){l.textContent=j.text}else{l.innerText=j.text}}if(j.id){l.value=j.id}if(j.disabled){l.disabled=true}if(j.selected){l.selected=true}if(j.title){l.title=j.title}var i=e(l);var k=this._normalizeItem(j);k.element=l;e.data(l,"data",k);return i};g.prototype.item=function(k){var o={};o=e.data(k[0],"data");if(o!=null){return o}if(k.is("option")){o={id:k.val(),text:k.text(),disabled:k.prop("disabled"),selected:k.prop("selected"),title:k.prop("title")}}else{if(k.is("optgroup")){o={text:k.prop("label"),children:[],title:k.prop("title")};var j=k.children("option");var n=[];for(var l=0;l<j.length;l++){var i=e(j[l]);var m=this.item(i);n.push(m)}o.children=n}}o=this._normalizeItem(o);o.element=k[0];e.data(k[0],"data",o);return o};g.prototype._normalizeItem=function(j){if(!e.isPlainObject(j)){j={id:j,text:j}}j=e.extend({},{text:""},j);var i={selected:false,disabled:false};if(j.id!=null){j.id=j.id.toString()}if(j.text!=null){j.text=j.text.toString()}if(j._resultId==null&&j.id&&this.container!=null){j._resultId=this.generateResultId(this.container,j)}return e.extend({},i,j)};g.prototype.matches=function(k,i){var j=this.options.get("matcher");return j(k,i)};return g});d.define("select2/data/array",["./select","../utils","jquery"],function(g,h,e){function f(i,k){var j=k.get("data")||[];f.__super__.constructor.call(this,i,k);this.addOptions(this.convertToOptions(j))}h.Extend(f,g);f.prototype.select=function(j){var i=this.$element.find("option").filter(function(l,k){return k.value==j.id.toString()});if(i.length===0){i=this.option(j);this.addOptions(i)}f.__super__.select.call(this,j)};f.prototype.convertToOptions=function(p){var v=this;var j=this.$element.find("option");var r=j.map(function(){return v.item(e(this)).id}).get();var n=[];function u(w){return function(){return e(this).val()==w.id}}for(var o=0;o<p.length;o++){var s=this._normalizeItem(p[o]);if(e.inArray(s.id,r)>=0){var k=j.filter(u(s));var q=this.item(k);var t=e.extend(true,{},q,s);var l=this.option(q);k.replaceWith(l);continue}var m=this.option(s);if(s.children){var i=this.convertToOptions(s.children);h.appendMany(m,i)}n.push(m)}return n};return f});d.define("select2/data/ajax",["./array","../utils","jquery"],function(g,h,e){function f(i,j){this.ajaxOptions=this._applyDefaults(j.get("ajax"));if(this.ajaxOptions.processResults!=null){this.processResults=this.ajaxOptions.processResults}g.__super__.constructor.call(this,i,j)}h.Extend(f,g);f.prototype._applyDefaults=function(j){var i={data:function(k){return{q:k.term}},transport:function(m,n,l){var k=e.ajax(m);k.then(n);k.fail(l);return k}};return e.extend({},i,j,true)};f.prototype.processResults=function(i){return i};f.prototype.query=function(l,i){var j=[];var n=this;if(this._request!=null){if(e.isFunction(this._request.abort)){this._request.abort()}this._request=null}var k=e.extend({type:"GET"},this.ajaxOptions);if(typeof k.url==="function"){k.url=k.url(l)}if(typeof k.data==="function"){k.data=k.data(l)}function m(){var o=k.transport(k,function(p){var q=n.processResults(p,l);if(n.options.get("debug")&&window.console&&console.error){if(!q||!q.results||!e.isArray(q.results)){console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")}}i(q)},function(){});n._request=o}if(this.ajaxOptions.delay&&l.term!==""){if(this._queryTimeout){window.clearTimeout(this._queryTimeout)}this._queryTimeout=window.setTimeout(m,this.ajaxOptions.delay)}else{m()}};return f});d.define("select2/data/tags",["jquery"],function(e){function f(j,g,l){var o=l.get("tags");var i=l.get("createTag");if(i!==undefined){this.createTag=i}j.call(this,g,l);if(e.isArray(o)){for(var m=0;m<o.length;m++){var n=o[m];var k=this._normalizeItem(n);var h=this.option(k);this.$element.append(h)}}}f.prototype.query=function(h,i,g){var j=this;this._removeOldTags();if(i.term==null||i.page!=null){h.call(this,i,g);return}function k(r,o){var p=r.results;for(var q=0;q<p.length;q++){var s=p[q];var m=(s.children!=null&&!k({results:s.children},true));var n=s.text===i.term;if(n||m){if(o){return false}r.data=p;g(r);return}}if(o){return true}var t=j.createTag(i);if(t!=null){var l=j.option(t);l.attr("data-select2-tag",true);j.addOptions([l]);j.insertTag(p,t)}r.results=p;g(r)}h.call(this,i,k)};f.prototype.createTag=function(g,h){var i=e.trim(h.term);if(i===""){return null}return{id:i,text:i}};f.prototype.insertTag=function(g,h,i){h.unshift(i)};f.prototype._removeOldTags=function(h){var i=this._lastTag;var g=this.$element.find("option[data-select2-tag]");g.each(function(){if(this.selected){return}e(this).remove()})};return f});d.define("select2/data/tokenizer",["jquery"],function(e){function f(h,g,i){var j=i.get("tokenizer");if(j!==undefined){this.tokenizer=j}h.call(this,g,i)}f.prototype.bind=function(i,h,g){i.call(this,h,g);this.$search=h.dropdown.$search||h.selection.$search||g.find(".select2-search__field")};f.prototype.query=function(h,i,g){var k=this;function j(m){k.select(m)}i.term=i.term||"";var l=this.tokenizer(i,this.options,j);if(l.term!==i.term){if(this.$search.length){this.$search.val(l.term);this.$search.focus()}i.term=l.term}h.call(this,i,g)};f.prototype.tokenizer=function(g,n,m,h){var q=m.get("tokenSeparators")||[];var r=n.term;var l=0;var j=this.createTag||function(i){return{id:i.term,text:i.term}};while(l<r.length){var s=r[l];if(e.inArray(s,q)===-1){l++;continue}var o=r.substr(0,l);var p=e.extend({},n,{term:o});var k=j(p);h(k);r=r.substr(l+1)||"";l=0}return{term:r}};return f});d.define("select2/data/minimumInputLength",[],function(){function e(g,f,h){this.minimumInputLength=h.get("minimumInputLength");g.call(this,f,h)}e.prototype.query=function(g,h,f){h.term=h.term||"";if(h.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:h.term,params:h}});return}g.call(this,h,f)};return e});d.define("select2/data/maximumInputLength",[],function(){function e(g,f,h){this.maximumInputLength=h.get("maximumInputLength");g.call(this,f,h)}e.prototype.query=function(g,h,f){h.term=h.term||"";if(this.maximumInputLength>0&&h.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:h.term,params:h}});return}g.call(this,h,f)};return e});d.define("select2/data/maximumSelectionLength",[],function(){function e(g,f,h){this.maximumSelectionLength=h.get("maximumSelectionLength");g.call(this,f,h)}e.prototype.query=function(g,h,f){var i=this;this.current(function(k){var j=k!=null?k.length:0;if(i.maximumSelectionLength>0&&j>=i.maximumSelectionLength){i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}});return}g.call(i,h,f)})};return e});d.define("select2/dropdown",["jquery","./utils"],function(e,g){function f(h,i){this.$element=h;this.options=i;f.__super__.constructor.call(this)}g.Extend(f,g.Observable);f.prototype.render=function(){var h=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');h.attr("dir",this.options.get("dir"));this.$dropdown=h;return h};f.prototype.position=function(i,h){};f.prototype.destroy=function(){this.$dropdown.remove()};return f});d.define("select2/dropdown/search",["jquery","../utils"],function(e,g){function f(){}f.prototype.render=function(j){var h=j.call(this);var i=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');this.$searchContainer=i;this.$search=i.find("input");h.prepend(i);return h};f.prototype.bind=function(j,i,h){var k=this;j.call(this,i,h);this.$search.on("keydown",function(l){k.trigger("keypress",l);k._keyUpPrevented=l.isDefaultPrevented()});this.$search.on("input",function(l){e(this).off("keyup")});this.$search.on("keyup input",function(l){k.handleSearch(l)});i.on("open",function(){k.$search.attr("tabindex",0);k.$search.focus();window.setTimeout(function(){k.$search.focus()},0)});i.on("close",function(){k.$search.attr("tabindex",-1);k.$search.val("")});i.on("results:all",function(l){if(l.query.term==null||l.query.term===""){var m=k.showSearch(l);if(m){k.$searchContainer.removeClass("select2-search--hide")}else{k.$searchContainer.addClass("select2-search--hide")}}})};f.prototype.handleSearch=function(h){if(!this._keyUpPrevented){var i=this.$search.val();this.trigger("query",{term:i})}this._keyUpPrevented=false};f.prototype.showSearch=function(h,i){return true};return f});d.define("select2/dropdown/hidePlaceholder",[],function(){function e(h,f,i,g){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));h.call(this,f,i,g)}e.prototype.append=function(g,f){f.results=this.removePlaceholder(f.results);g.call(this,f)};e.prototype.normalizePlaceholder=function(f,g){if(typeof g==="string"){g={id:"",text:g}}return g};e.prototype.removePlaceholder=function(f,h){var j=h.slice(0);for(var g=h.length-1;g>=0;g--){var i=h[g];if(this.placeholder.id===i.id){j.splice(g,1)}}return j};return e});d.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function f(i,g,j,h){this.lastParams={};i.call(this,g,j,h);this.$loadingMore=this.createLoadingMore();this.loading=false}f.prototype.append=function(h,g){this.$loadingMore.remove();this.loading=false;h.call(this,g);if(this.showLoadingMore(g)){this.$results.append(this.$loadingMore)}};f.prototype.bind=function(i,h,g){var j=this;i.call(this,h,g);h.on("query",function(k){j.lastParams=k;j.loading=true});h.on("query:append",function(k){j.lastParams=k;j.loading=true});this.$results.on("scroll",function(){var l=e.contains(document.documentElement,j.$loadingMore[0]);if(j.loading||!l){return}var k=j.$results.offset().top+j.$results.outerHeight(false);var m=j.$loadingMore.offset().top+j.$loadingMore.outerHeight(false);if(k+50>=m){j.loadMore()}})};f.prototype.loadMore=function(){this.loading=true;var g=e.extend({},{page:1},this.lastParams);g.page++;this.trigger("query:append",g)};f.prototype.showLoadingMore=function(g,h){return h.pagination&&h.pagination.more};f.prototype.createLoadingMore=function(){var g=e('<li class="option load-more" role="treeitem"></li>');var h=this.options.get("translations").get("loadingMore");g.html(h(this.lastParams));return g};return f});d.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,g){function f(i,h,j){this.$dropdownParent=j.get("dropdownParent")||document.body;i.call(this,h,j)}f.prototype.bind=function(j,i,h){var k=this;var l=false;j.call(this,i,h);i.on("open",function(){k._showDropdown();k._attachPositioningHandler(i);if(!l){l=true;i.on("results:all",function(){k._positionDropdown();k._resizeDropdown()});i.on("results:append",function(){k._positionDropdown();k._resizeDropdown()})}});i.on("close",function(){k._hideDropdown();k._detachPositioningHandler(i)});this.$dropdownContainer.on("mousedown",function(m){m.stopPropagation()})};f.prototype.position=function(j,i,h){i.attr("class",h.attr("class"));i.removeClass("select2");i.addClass("select2-container--open");i.css({position:"absolute",top:-999999});this.$container=h};f.prototype.render=function(j){var h=e("<span></span>");var i=j.call(this);h.append(i);this.$dropdownContainer=h;return h};f.prototype._hideDropdown=function(h){this.$dropdownContainer.detach()};f.prototype._attachPositioningHandler=function(i){var m=this;var l="scroll.select2."+i.id;var k="resize.select2."+i.id;var j="orientationchange.select2."+i.id;var h=this.$container.parents().filter(g.hasScroll);h.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})});h.on(l,function(n){var o=e(this).data("select2-scroll-position");e(this).scrollTop(o.y)});e(window).on(l+" "+k+" "+j,function(n){m._positionDropdown();m._resizeDropdown()})};f.prototype._detachPositioningHandler=function(i){var l="scroll.select2."+i.id;var k="resize.select2."+i.id;var j="orientationchange.select2."+i.id;var h=this.$container.parents().filter(g.hasScroll);h.off(l);e(window).off(l+" "+k+" "+j)};f.prototype._positionDropdown=function(){var h=e(window);var n=this.$dropdown.hasClass("select2-dropdown--above");var o=this.$dropdown.hasClass("select2-dropdown--below");var p=null;var r=this.$container.position();var q=this.$container.offset();q.bottom=q.top+this.$container.outerHeight(false);var i={height:this.$container.outerHeight(false)};i.top=q.top;i.bottom=q.top+i.height;var k={height:this.$dropdown.outerHeight(false)};var s={top:h.scrollTop(),bottom:h.scrollTop()+h.height()};var l=s.top<(q.top-k.height);var m=s.bottom>(q.bottom+k.height);var j={left:q.left,top:i.bottom};if(!n&&!o){p="below"}if(!m&&l&&!n){p="above"}else{if(!l&&m&&n){p="below"}}if(p=="above"||(n&&p!=="below")){j.top=i.top-k.height}if(p!=null){this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+p);this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+p)}this.$dropdownContainer.css(j)};f.prototype._resizeDropdown=function(){this.$dropdownContainer.width();var h={width:this.$container.outerWidth(false)+"px"};if(this.options.get("dropdownAutoWidth")){h.minWidth=h.width;h.width="auto"}this.$dropdown.css(h)};f.prototype._showDropdown=function(h){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()};return f});d.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(i){var g=0;for(var h=0;h<i.length;h++){var j=i[h];if(j.children){g+=e(j.children)}else{g++}}return g}function f(i,g,j,h){this.minimumResultsForSearch=j.get("minimumResultsForSearch");if(this.minimumResultsForSearch<0){this.minimumResultsForSearch=Infinity}i.call(this,g,j,h)}f.prototype.showSearch=function(g,h){if(e(h.data.results)<this.minimumResultsForSearch){return false}return g.call(this,h)};return f});d.define("select2/dropdown/selectOnClose",[],function(){function e(){}e.prototype.bind=function(h,g,f){var i=this;h.call(this,g,f);g.on("close",function(){i._handleSelectOnClose()})};e.prototype._handleSelectOnClose=function(){var f=this.getHighlightedResults();if(f.length<1){return}this.trigger("select",{data:f.data("data")})};return e});d.define("select2/dropdown/closeOnSelect",[],function(){function e(){}e.prototype.bind=function(h,g,f){var i=this;h.call(this,g,f);g.on("select",function(j){i._selectTriggered(j)});g.on("unselect",function(j){i._selectTriggered(j)})};e.prototype._selectTriggered=function(f,g){var h=g.originalEvent;if(h&&h.ctrlKey){return}this.trigger("close")};return e});d.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var g=e.input.length-e.maximum;var f="Please delete "+g+" character";if(g!=1){f+="s"}return f},inputTooShort:function(e){var g=e.minimum-e.input.length;var f="Please enter "+g+" or more characters";return f},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var f="You can only select "+e.maximum+" item";if(e.maximum!=1){f+="s"}return f},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}});d.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,z,A,E,x,y,g,C,q,I,H,m,B,h,f,F,G,v,t,u,n,o,r,s,i,w,D,j,p){function l(){this.reset()}l.prototype.apply=function(X){X=e.extend({},this.defaults,X);if(X.dataAdapter==null){if(X.ajax!=null){X.dataAdapter=f}else{if(X.data!=null){X.dataAdapter=h}else{X.dataAdapter=B}}if(X.minimumInputLength>0){X.dataAdapter=I.Decorate(X.dataAdapter,v)}if(X.maximumInputLength>0){X.dataAdapter=I.Decorate(X.dataAdapter,t)}if(X.maximumSelectionLength>0){X.dataAdapter=I.Decorate(X.dataAdapter,u)}if(X.tags){X.dataAdapter=I.Decorate(X.dataAdapter,F)}if(X.tokenSeparators!=null||X.tokenizer!=null){X.dataAdapter=I.Decorate(X.dataAdapter,G)}if(X.query!=null){var Y=z(X.amdBase+"compat/query");X.dataAdapter=I.Decorate(X.dataAdapter,Y)}if(X.initSelection!=null){var Q=z(X.amdBase+"compat/initSelection");X.dataAdapter=I.Decorate(X.dataAdapter,Q)}}if(X.resultsAdapter==null){X.resultsAdapter=A;if(X.ajax!=null){X.resultsAdapter=I.Decorate(X.resultsAdapter,s)}if(X.placeholder!=null){X.resultsAdapter=I.Decorate(X.resultsAdapter,r)}if(X.selectOnClose){X.resultsAdapter=I.Decorate(X.resultsAdapter,D)}}if(X.dropdownAdapter==null){if(X.multiple){X.dropdownAdapter=n}else{var Z=I.Decorate(n,o);X.dropdownAdapter=Z}if(X.minimumResultsForSearch!==0){X.dropdownAdapter=I.Decorate(X.dropdownAdapter,w)}if(X.closeOnSelect){X.dropdownAdapter=I.Decorate(X.dropdownAdapter,j)}if(X.dropdownCssClass!=null||X.dropdownCss!=null||X.adaptDropdownCssClass!=null){var N=z(X.amdBase+"compat/dropdownCss");X.dropdownAdapter=I.Decorate(X.dropdownAdapter,N)}X.dropdownAdapter=I.Decorate(X.dropdownAdapter,i)}if(X.selectionAdapter==null){if(X.multiple){X.selectionAdapter=x}else{X.selectionAdapter=E}if(X.placeholder!=null){X.selectionAdapter=I.Decorate(X.selectionAdapter,y)}if(X.allowClear){X.selectionAdapter=I.Decorate(X.selectionAdapter,g)}if(X.multiple){X.selectionAdapter=I.Decorate(X.selectionAdapter,C)}if(X.containerCssClass!=null||X.containerCss!=null||X.adaptContainerCssClass!=null){var L=z(X.amdBase+"compat/containerCss");X.selectionAdapter=I.Decorate(X.selectionAdapter,L)}X.selectionAdapter=I.Decorate(X.selectionAdapter,q)}if(typeof X.language==="string"){if(X.language.indexOf("-")>0){var U=X.language.split("-");var J=U[0];X.language=[X.language,J]}else{X.language=[X.language]}}if(e.isArray(X.language)){var V=new H();X.language.push("en");var T=X.language;for(var R=0;R<T.length;R++){var W=T[R];var S={};try{S=H.loadPath(W)}catch(O){try{W=this.defaults.amdLanguageBase+W;S=H.loadPath(W)}catch(P){if(X.debug&&window.console&&console.warn){console.warn('Select2: The language file for "'+W+'" could not be automatically loaded. A fallback will be used instead.')}continue}}V.extend(S)}X.translations=V}else{var K=H.loadPath(this.defaults.amdLanguageBase+"en");var M=new H(X.language);M.extend(K);X.translations=M}return X};l.prototype.reset=function(){function K(M){function L(N){return m[N]||N}return M.replace(/[^\u0000-\u007E]/g,L)}function J(R,N){if(e.trim(R.term)===""){return N}if(N.children&&N.children.length>0){var O=e.extend(true,{},N);for(var L=N.children.length-1;L>=0;L--){var M=N.children[L];var P=J(R,M);if(P==null){O.children.splice(L,1)}}if(O.children.length>0){return O}return J(R,O)}var Q=K(N.text).toUpperCase();var S=K(R.term).toUpperCase();if(Q.indexOf(S)>-1){return N}return null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:true,debug:false,dropdownAutoWidth:false,escapeMarkup:I.escapeMarkup,language:p,matcher:J,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:false,sorter:function(L){return L},templateResult:function(L){return L.text},templateSelection:function(L){return L.text},theme:"default",width:"resolve"}};l.prototype.set=function(M,N){var J=e.camelCase(M);var L={};L[J]=N;var K=I._convertData(L);e.extend(this.defaults,K)};var k=new l();return k});d.define("select2/options",["require","jquery","./defaults","./utils"],function(h,e,f,i){function g(l,j){this.options=l;if(j!=null){this.fromElement(j)}this.options=f.apply(this.options);if(j&&j.is("input")){var k=h(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,k)}}g.prototype.fromElement=function(j){var m=["select2"];if(this.options.multiple==null){this.options.multiple=j.prop("multiple")}if(this.options.disabled==null){this.options.disabled=j.prop("disabled")}if(this.options.language==null){if(j.prop("lang")){this.options.language=j.prop("lang").toLowerCase()}else{if(j.closest("[lang]").prop("lang")){this.options.language=j.closest("[lang]").prop("lang")}}}if(this.options.dir==null){if(j.prop("dir")){this.options.dir=j.prop("dir")}else{if(j.closest("[dir]").prop("dir")){this.options.dir=j.closest("[dir]").prop("dir")}else{this.options.dir="ltr"}}}j.prop("disabled",this.options.disabled);j.prop("multiple",this.options.multiple);if(j.data("select2Tags")){if(this.options.debug&&window.console&&console.warn){console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.')}j.data("data",j.data("select2Tags"));j.data("tags",true)}if(j.data("ajaxUrl")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2.")}j.attr("ajax--url",j.data("ajaxUrl"));j.data("ajax--url",j.data("ajaxUrl"))}var l={};if(e.fn.jquery&&e.fn.jquery.substr(0,2)=="1."&&j[0].dataset){l=e.extend(true,{},j[0].dataset,j.data())}else{l=j.data()}var k=e.extend(true,{},l);k=i._convertData(k);for(var n in k){if(e.inArray(n,m)>-1){continue}if(e.isPlainObject(this.options[n])){e.extend(this.options[n],k[n])}else{this.options[n]=k[n]}}return this};g.prototype.get=function(j){return this.options[j]};g.prototype.set=function(j,k){this.options[j]=k};return g});d.define("select2/core",["jquery","./options","./utils","./keys"],function(e,g,i,f){var h=function(k,n){if(k.data("select2")!=null){k.data("select2").destroy()}this.$element=k;this.id=this._generateId(k);n=n||{};this.options=new g(n,k);h.__super__.constructor.call(this);var r=k.attr("tabindex")||0;k.data("old-tabindex",r);k.attr("tabindex","-1");var l=this.options.get("dataAdapter");this.dataAdapter=new l(k,this.options);var j=this.render();this._placeContainer(j);var p=this.options.get("selectionAdapter");this.selection=new p(k,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,j);var m=this.options.get("dropdownAdapter");this.dropdown=new m(k,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,j);var o=this.options.get("resultsAdapter");this.results=new o(k,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);var q=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(s){q.trigger("selection:update",{data:s})});k.addClass("select2-hidden-accessible");k.attr("aria-hidden","true");this._syncAttributes();k.data("select2",this)};i.Extend(h,i.Observable);h.prototype._generateId=function(j){var k="";if(j.attr("id")!=null){k=j.attr("id")}else{if(j.attr("name")!=null){k=j.attr("name")+"-"+i.generateChars(2)}else{k=i.generateChars(4)}}k="select2-"+k;return k};h.prototype._placeContainer=function(j){j.insertAfter(this.$element);var k=this._resolveWidth(this.$element,this.options.get("width"));if(k!=null){j.css("width",k)}};h.prototype._resolveWidth=function(j,r){var u=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(r=="resolve"){var t=this._resolveWidth(j,"style");if(t!=null){return t}return this._resolveWidth(j,"element")}if(r=="element"){var n=j.outerWidth(false);if(n<=0){return"auto"}return n+"px"}if(r=="style"){var s=j.attr("style");if(typeof(s)!=="string"){return null}var m=s.split(";");for(var o=0,p=m.length;o<p;o=o+1){var k=m[o].replace(/\s/g,"");var q=k.match(u);if(q!==null&&q.length>=1){return q[1]}}return null}return r};h.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)};h.prototype._registerDomEvents=function(){var k=this;this.$element.on("change.select2",function(){k.dataAdapter.current(function(l){k.trigger("selection:update",{data:l})})});this._sync=i.bind(this._syncAttributes,this);if(this.$element[0].attachEvent){this.$element[0].attachEvent("onpropertychange",this._sync)}var j=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(j!=null){this._observer=new j(function(l){e.each(l,k._sync)});this._observer.observe(this.$element[0],{attributes:true,subtree:false})}else{if(this.$element[0].addEventListener){this.$element[0].addEventListener("DOMAttrModified",k._sync,false)}}};h.prototype._registerDataEvents=function(){var j=this;this.dataAdapter.on("*",function(k,l){j.trigger(k,l)})};h.prototype._registerSelectionEvents=function(){var k=this;var j=["toggle"];this.selection.on("toggle",function(){k.toggleDropdown()});this.selection.on("*",function(l,m){if(e.inArray(l,j)!==-1){return}k.trigger(l,m)})};h.prototype._registerDropdownEvents=function(){var j=this;this.dropdown.on("*",function(k,l){j.trigger(k,l)})};h.prototype._registerResultsEvents=function(){var j=this;this.results.on("*",function(k,l){j.trigger(k,l)})};h.prototype._registerEvents=function(){var j=this;this.on("open",function(){j.$container.addClass("select2-container--open")});this.on("close",function(){j.$container.removeClass("select2-container--open")});this.on("enable",function(){j.$container.removeClass("select2-container--disabled")});this.on("disable",function(){j.$container.addClass("select2-container--disabled")});this.on("focus",function(){j.$container.addClass("select2-container--focus")});this.on("blur",function(){j.$container.removeClass("select2-container--focus")});this.on("query",function(k){if(!j.isOpen()){j.trigger("open")}this.dataAdapter.query(k,function(l){j.trigger("results:all",{data:l,query:k})})});this.on("query:append",function(k){this.dataAdapter.query(k,function(l){j.trigger("results:append",{data:l,query:k})})});this.on("keypress",function(k){var l=k.which;if(j.isOpen()){if(l===f.ENTER){j.trigger("results:select");k.preventDefault()}else{if((l===f.SPACE&&k.ctrlKey)){j.trigger("results:toggle");k.preventDefault()}else{if(l===f.UP){j.trigger("results:previous");k.preventDefault()}else{if(l===f.DOWN){j.trigger("results:next");k.preventDefault()}else{if(l===f.ESC||l===f.TAB){j.close();k.preventDefault()}}}}}}else{if(l===f.ENTER||l===f.SPACE||((l===f.DOWN||l===f.UP)&&k.altKey)){j.open();k.preventDefault()}}})};h.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));if(this.options.get("disabled")){if(this.isOpen()){this.close()}this.trigger("disable")}else{this.trigger("enable")}};h.prototype.trigger=function(l,k){var j=h.__super__.trigger;var n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(l in n){var o=n[l];var m={prevented:false,name:l,args:k};j.call(this,o,m);if(m.prevented){k.prevented=true;return}}j.call(this,l,k)};h.prototype.toggleDropdown=function(){if(this.options.get("disabled")){return}if(this.isOpen()){this.close()}else{this.open()}};h.prototype.open=function(){if(this.isOpen()){return}this.trigger("query",{});this.trigger("open")};h.prototype.close=function(){if(!this.isOpen()){return}this.trigger("close")};h.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")};h.prototype.enable=function(j){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.')}if(j==null||j.length===0){j=[true]}var k=!j[0];this.$element.prop("disabled",k)};h.prototype.data=function(){if(this.options.get("debug")&&arguments.length>0&&window.console&&console.warn){console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.')}var j=[];this.dataAdapter.current(function(k){j=k});return j};h.prototype.val=function(j){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.')}if(j==null||j.length===0){return this.$element.val()}var k=j[0];if(e.isArray(k)){k=e.map(k,function(l){return l.toString()})}this.$element.val(k).trigger("change")};h.prototype.destroy=function(){this.$container.remove();if(this.$element[0].detachEvent){this.$element[0].detachEvent("onpropertychange",this._sync)}if(this._observer!=null){this._observer.disconnect();this._observer=null}else{if(this.$element[0].removeEventListener){this.$element[0].removeEventListener("DOMAttrModified",this._sync,false)}}this._sync=null;this.$element.off(".select2");this.$element.attr("tabindex",this.$element.data("old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null};h.prototype.render=function(){var j=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');j.attr("dir",this.options.get("dir"));this.$container=j;this.$container.addClass("select2-container--"+this.options.get("theme"));j.data("element",this.$element);return j};return h});d.define("jquery.select2",["jquery","require","./select2/core","./select2/defaults"],function(e,g,h,f){g("jquery.mousewheel");if(e.fn.select2==null){var i=["open","close","destroy"];e.fn.select2=function(l){l=l||{};if(typeof l==="object"){this.each(function(){var o=e.extend({},l,true);var n=new h(e(this),o)});return this}else{if(typeof l==="string"){var k=this.data("select2");if(k==null&&window.console&&console.error){console.error("The select2('"+l+"') method was called on an element that is not using Select2.")}var j=Array.prototype.slice.call(arguments,1);var m=k[l](j);if(e.inArray(l,i)>-1){return this}return m}else{throw new Error("Invalid arguments for Select2: "+l)}}}}if(e.fn.select2.defaults==null){e.fn.select2.defaults=f}return h});d.define("jquery.mousewheel",["jquery"],function(e){return e});return{define:d.define,require:d.require}}());var c=b.require("jquery.select2");a.fn.select2.amd=b;return c}));
(function(a,n){var b=a(window);function o(){return new Date(Date.UTC.apply(Date,arguments))}function p(){var q=new Date();return o(q.getFullYear(),q.getMonth(),q.getDate())}function c(q){return function(){return this[q].apply(this,arguments)}}var d=(function(){var q={get:function(r){return this.slice(r)[0]},contains:function(r){var u=r&&r.valueOf();for(var s=0,t=this.length;s<t;s++){if(this[s].valueOf()===u){return s}}return -1},remove:function(r){this.splice(r,1)},replace:function(r){if(!r){return}if(!a.isArray(r)){r=[r]}this.clear();this.push.apply(this,r)},clear:function(){this.splice(0)},copy:function(){var r=new d();r.replace(this);return r}};return function(){var r=[];r.push.apply(r,arguments);a.extend(r,q);return r}})();var e=function(q,r){this.dates=new d();this.viewDate=p();this.focusDate=null;this._process_options(r);this.element=a(q);this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this.picker=a(i.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker-rtl")}this.viewMode=this.o.startView;if(this.o.calendarWeeks){this.picker.find("tfoot th.today").attr("colspan",function(s,t){return parseInt(t)+1})}this._allow_update=false;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show()}};e.prototype={constructor:e,_process_options:function(u){this._o=a.extend({},this._o,u);var t=this.o=a.extend({},this._o);var s=t.language;if(!g[s]){s=s.split("-")[0];if(!g[s]){s=h.language}}t.language=s;switch(t.startView){case 2:case"decade":t.startView=2;break;case 1:case"year":t.startView=1;break;default:t.startView=0}switch(t.minViewMode){case 1:case"months":t.minViewMode=1;break;case 2:case"years":t.minViewMode=2;break;default:t.minViewMode=0}t.startView=Math.max(t.startView,t.minViewMode);if(t.multidate!==true){t.multidate=Number(t.multidate)||false;if(t.multidate!==false){t.multidate=Math.max(0,t.multidate)}else{t.multidate=1}}t.multidateSeparator=String(t.multidateSeparator);t.weekStart%=7;t.weekEnd=((t.weekStart+6)%7);var r=i.parseFormat(t.format);if(t.startDate!==-Infinity){if(!!t.startDate){if(t.startDate instanceof Date){t.startDate=this._local_to_utc(this._zero_time(t.startDate))}else{t.startDate=i.parseDate(t.startDate,r,t.language)}}else{t.startDate=-Infinity}}if(t.endDate!==Infinity){if(!!t.endDate){if(t.endDate instanceof Date){t.endDate=this._local_to_utc(this._zero_time(t.endDate))}else{t.endDate=i.parseDate(t.endDate,r,t.language)}}else{t.endDate=Infinity}}t.daysOfWeekDisabled=t.daysOfWeekDisabled||[];if(!a.isArray(t.daysOfWeekDisabled)){t.daysOfWeekDisabled=t.daysOfWeekDisabled.split(/[,\s]*/)}t.daysOfWeekDisabled=a.map(t.daysOfWeekDisabled,function(w){return parseInt(w,10)});var v=String(t.orientation).toLowerCase().split(/\s+/g),q=t.orientation.toLowerCase();v=a.grep(v,function(w){return(/^auto|left|right|top|bottom$/).test(w)});t.orientation={x:"auto",y:"auto"};if(!q||q==="auto"){}else{if(v.length===1){switch(v[0]){case"top":case"bottom":t.orientation.y=v[0];break;case"left":case"right":t.orientation.x=v[0];break}}else{q=a.grep(v,function(w){return(/^left|right$/).test(w)});t.orientation.x=q[0]||"auto";q=a.grep(v,function(w){return(/^top|bottom$/).test(w)});t.orientation.y=q[0]||"auto"}}},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var u=0,r,q,s;u<t.length;u++){r=t[u][0];if(t[u].length===2){q=n;s=t[u][1]}else{if(t[u].length===3){q=t[u][1];s=t[u][2]}}r.on(s,q)}},_unapplyEvents:function(t){for(var u=0,r,s,q;u<t.length;u++){r=t[u][0];if(t[u].length===2){q=n;s=t[u][1]}else{if(t[u].length===3){q=t[u][1];s=t[u][2]}}r.off(s,q)}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:a.proxy(this.show,this),keyup:a.proxy(function(q){if(a.inArray(q.keyCode,[27,37,39,38,40,32,13,9])===-1){this.update()}},this),keydown:a.proxy(this.keydown,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:a.proxy(this.show,this),keyup:a.proxy(function(q){if(a.inArray(q.keyCode,[27,37,39,38,40,32,13,9])===-1){this.update()}},this),keydown:a.proxy(this.keydown,this)}],[this.component,{click:a.proxy(this.show,this)}]]}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:a.proxy(this.show,this)}]]}}}this._events.push([this.element,"*",{blur:a.proxy(function(q){this._focused_from=q.target},this)}],[this.element,{blur:a.proxy(function(q){this._focused_from=q.target},this)}]);this._secondaryEvents=[[this.picker,{click:a.proxy(this.click,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{"mousedown touchstart":a.proxy(function(q){if(!(this.element.is(q.target)||this.element.find(q.target).length||this.picker.is(q.target)||this.picker.find(q.target).length)){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(s,q){var r=q||this.dates.get(-1),t=this._utc_to_local(r);this.element.trigger({type:s,date:t,dates:a.map(this.dates,this._utc_to_local),format:a.proxy(function(w,v){if(arguments.length===0){w=this.dates.length-1;v=this.o.format}else{if(typeof w==="string"){v=w;w=this.dates.length-1}}v=v||this.o.format;var u=this.dates.get(w);return i.formatDate(u,v,this.o.language)},this)})},show:function(){if(!this.isInline){this.picker.appendTo("body")}this.picker.show();this.place();this._attachSecondaryEvents();this._trigger("show")},hide:function(){if(this.isInline){return}if(!this.picker.is(":visible")){return}this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this._trigger("hide")},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}},_utc_to_local:function(q){return q&&new Date(q.getTime()+(q.getTimezoneOffset()*60000))},_local_to_utc:function(q){return q&&new Date(q.getTime()-(q.getTimezoneOffset()*60000))},_zero_time:function(q){return q&&new Date(q.getFullYear(),q.getMonth(),q.getDate())},_zero_utc_time:function(q){return q&&new Date(Date.UTC(q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate()))},getDates:function(){return a.map(this.dates,this._utc_to_local)},getUTCDates:function(){return a.map(this.dates,function(q){return new Date(q)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var q=a.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,q);this._trigger("changeDate");this.setValue()},setUTCDates:function(){var q=a.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,a.map(q,this._utc_to_local));this._trigger("changeDate");this.setValue()},setDate:c("setDates"),setUTCDate:c("setUTCDates"),setValue:function(){var q=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(q).change()}}else{this.element.val(q).change()}},getFormattedDate:function(q){if(q===n){q=this.o.format}var r=this.o.language;return a.map(this.dates,function(s){return i.formatDate(s,q,r)}).join(this.o.multidateSeparator)},setStartDate:function(q){this._process_options({startDate:q});this.update();this.updateNavArrows()},setEndDate:function(q){this._process_options({endDate:q});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(q){this._process_options({daysOfWeekDisabled:q});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var s=this.picker.outerWidth(),r=this.picker.outerHeight(),z=10,C=b.width(),B=b.height(),w=b.scrollTop();var E=parseInt(this.element.parents().filter(function(){return a(this).css("z-index")!=="auto"}).first().css("z-index"))+10;var v=this.component?this.component.parent().offset():this.element.offset();var t=this.component?this.component.outerHeight(true):this.element.outerHeight(false);var A=this.component?this.component.outerWidth(true):this.element.outerWidth(false);var u=v.left,x=v.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left");if(this.o.orientation.x!=="auto"){this.picker.addClass("datepicker-orient-"+this.o.orientation.x);if(this.o.orientation.x==="right"){u-=s-A}}else{this.picker.addClass("datepicker-orient-left");if(v.left<0){u-=v.left-z}else{if(v.left+s>C){u=C-s-z}}}var D=this.o.orientation.y,y,q;if(D==="auto"){y=-w+v.top-r;q=w+B-(v.top+t+r);if(Math.max(y,q)===q){D="top"}else{D="bottom"}}this.picker.addClass("datepicker-orient-"+D);if(D==="top"){x+=t}else{x-=r+parseInt(this.picker.css("padding-top"))}this.picker.css({top:x,left:u,zIndex:E})},_allow_update:true,update:function(){if(!this._allow_update){return}var s=this.dates.copy(),q=[],r=false;if(arguments.length){a.each(arguments,a.proxy(function(u,t){if(t instanceof Date){t=this._local_to_utc(t)}q.push(t)},this));r=true}else{q=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();if(q&&this.o.multidate){q=q.split(this.o.multidateSeparator)}else{q=[q]}delete this.element.data().date}q=a.map(q,a.proxy(function(t){return i.parseDate(t,this.o.format,this.o.language)},this));q=a.grep(q,a.proxy(function(t){return(t<this.o.startDate||t>this.o.endDate||!t)},this),true);this.dates.replace(q);if(this.dates.length){this.viewDate=new Date(this.dates.get(-1))}else{if(this.viewDate<this.o.startDate){this.viewDate=new Date(this.o.startDate)}else{if(this.viewDate>this.o.endDate){this.viewDate=new Date(this.o.endDate)}}}if(r){this.setValue()}else{if(q.length){if(String(s)!==String(this.dates)){this._trigger("changeDate")}}}if(!this.dates.length&&s.length){this._trigger("clearDate")}this.fill()},fillDow:function(){var r=this.o.weekStart,s="<tr>";if(this.o.calendarWeeks){var q='<th class="cw">&nbsp;</th>';s+=q;this.picker.find(".datepicker-days thead tr:first-child").prepend(q)}while(r<this.o.weekStart+7){s+='<th class="dow">'+g[this.o.language].daysMin[(r++)%7]+"</th>"}s+="</tr>";this.picker.find(".datepicker-days thead").append(s)},fillMonths:function(){var q="",r=0;while(r<12){q+='<span class="month">'+g[this.o.language].monthsShort[r++]+"</span>"}this.picker.find(".datepicker-months td").html(q)},setRange:function(q){if(!q||!q.length){delete this.range}else{this.range=a.map(q,function(r){return r.valueOf()})}this.fill()},getClassNames:function(r){var q=[],u=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),t=new Date();if(r.getUTCFullYear()<u||(r.getUTCFullYear()===u&&r.getUTCMonth()<s)){q.push("old")}else{if(r.getUTCFullYear()>u||(r.getUTCFullYear()===u&&r.getUTCMonth()>s)){q.push("new")}}if(this.focusDate&&r.valueOf()===this.focusDate.valueOf()){q.push("focused")}if(this.o.todayHighlight&&r.getUTCFullYear()===t.getFullYear()&&r.getUTCMonth()===t.getMonth()&&r.getUTCDate()===t.getDate()){q.push("today")}if(this.dates.contains(r)!==-1){q.push("active")}if(r.valueOf()<this.o.startDate||r.valueOf()>this.o.endDate||a.inArray(r.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){q.push("disabled")}if(this.range){if(r>this.range[0]&&r<this.range[this.range.length-1]){q.push("range")}if(a.inArray(r.valueOf(),this.range)!==-1){q.push("selected")}}return q},fill:function(){var v=new Date(this.viewDate),L=v.getUTCFullYear(),B=v.getUTCMonth(),G=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,F=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,y=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,x=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,I=g[this.o.language].today||g.en.today||"",t=g[this.o.language].clear||g.en.clear||"",J;this.picker.find(".datepicker-days thead th.datepicker-switch").text(g[this.o.language].months[B]+" "+L);this.picker.find("tfoot th.today").text(I).toggle(this.o.todayBtn!==false);this.picker.find("tfoot th.clear").text(t).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var E=o(L,B-1,28),w=i.getDaysInMonth(E.getUTCFullYear(),E.getUTCMonth());E.setUTCDate(w);E.setUTCDate(w-(E.getUTCDay()-this.o.weekStart+7)%7);var D=new Date(E);D.setUTCDate(D.getUTCDate()+42);D=D.valueOf();var z=[];var u;while(E.valueOf()<D){if(E.getUTCDay()===this.o.weekStart){z.push("<tr>");if(this.o.calendarWeeks){var K=new Date(+E+(this.o.weekStart-E.getUTCDay()-7)%7*86400000),H=new Date(Number(K)+(7+4-K.getUTCDay())%7*86400000),O=new Date(Number(O=o(H.getUTCFullYear(),0,1))+(7+4-O.getUTCDay())%7*86400000),r=(H-O)/86400000/7+1;z.push('<td class="cw">'+r+"</td>")}}u=this.getClassNames(E);u.push("day");if(this.o.beforeShowDay!==a.noop){var q=this.o.beforeShowDay(this._utc_to_local(E));if(q===n){q={}}else{if(typeof(q)==="boolean"){q={enabled:q}}else{if(typeof(q)==="string"){q={classes:q}}}}if(q.enabled===false){u.push("disabled")}if(q.classes){u=u.concat(q.classes.split(/\s+/))}if(q.tooltip){J=q.tooltip}}u=a.unique(u);z.push('<td class="'+u.join(" ")+'"'+(J?' title="'+J+'"':"")+">"+E.getUTCDate()+"</td>");if(E.getUTCDay()===this.o.weekEnd){z.push("</tr>")}E.setUTCDate(E.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(z.join(""));var C=this.picker.find(".datepicker-months").find("th:eq(1)").text(L).end().find("span").removeClass("active");a.each(this.dates,function(Q,P){if(P.getUTCFullYear()===L){C.eq(P.getUTCMonth()).addClass("active")}});if(L<G||L>y){C.addClass("disabled")}if(L===G){C.slice(0,F).addClass("disabled")}if(L===y){C.slice(x+1).addClass("disabled")}z="";L=parseInt(L/10,10)*10;var M=this.picker.find(".datepicker-years").find("th:eq(1)").text(L+"-"+(L+9)).end().find("td");L-=1;var N=a.map(this.dates,function(P){return P.getUTCFullYear()}),s;for(var A=-1;A<11;A++){s=["year"];if(A===-1){s.push("old")}else{if(A===10){s.push("new")}}if(a.inArray(L,N)!==-1){s.push("active")}if(L<G||L>y){s.push("disabled")}z+='<span class="'+s.join(" ")+'">'+L+"</span>";L+=1}M.html(z)},updateNavArrows:function(){if(!this._allow_update){return}var q=new Date(this.viewDate),s=q.getUTCFullYear(),r=q.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&s<=this.o.startDate.getUTCFullYear()&&r<=this.o.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&s>=this.o.endDate.getUTCFullYear()&&r>=this.o.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.o.startDate!==-Infinity&&s<=this.o.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&s>=this.o.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(t){t.preventDefault();var w=a(t.target).closest("span, td, th"),y,v,r;if(w.length===1){switch(w[0].nodeName.toLowerCase()){case"th":switch(w[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var s=i.modes[this.viewMode].navStep*(w[0].className==="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s);this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s);if(this.viewMode===1){this._trigger("changeYear",this.viewDate)}break}this.fill();break;case"today":var q=new Date();q=o(q.getFullYear(),q.getMonth(),q.getDate(),0,0,0);this.showMode(-2);var x=this.o.todayBtn==="linked"?null:"view";this._setDate(q,x);break;case"clear":var u;if(this.isInput){u=this.element}else{if(this.component){u=this.element.find("input")}}if(u){u.val("").change()}this.update();this._trigger("changeDate");if(this.o.autoclose){this.hide()}break}break;case"span":if(!w.is(".disabled")){this.viewDate.setUTCDate(1);if(w.is(".month")){r=1;v=w.parent().find("span").index(w);y=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(v);this._trigger("changeMonth",this.viewDate);if(this.o.minViewMode===1){this._setDate(o(y,v,r))}}else{r=1;v=0;y=parseInt(w.text(),10)||0;this.viewDate.setUTCFullYear(y);this._trigger("changeYear",this.viewDate);if(this.o.minViewMode===2){this._setDate(o(y,v,r))}}this.showMode(-1);this.fill()}break;case"td":if(w.is(".day")&&!w.is(".disabled")){r=parseInt(w.text(),10)||1;y=this.viewDate.getUTCFullYear();v=this.viewDate.getUTCMonth();if(w.is(".old")){if(v===0){v=11;y-=1}else{v-=1}}else{if(w.is(".new")){if(v===11){v=0;y+=1}else{v+=1}}}this._setDate(o(y,v,r))}break}}if(this.picker.is(":visible")&&this._focused_from){a(this._focused_from).focus()}delete this._focused_from},_toggle_multidate:function(q){var r=this.dates.contains(q);if(!q){this.dates.clear()}else{if(r!==-1){this.dates.remove(r)}else{this.dates.push(q)}}if(typeof this.o.multidate==="number"){while(this.dates.length>this.o.multidate){this.dates.remove(0)}}},_setDate:function(q,s){if(!s||s==="date"){this._toggle_multidate(q&&new Date(q))}if(!s||s==="view"){this.viewDate=q&&new Date(q)}this.fill();this.setValue();this._trigger("changeDate");var r;if(this.isInput){r=this.element}else{if(this.component){r=this.element.find("input")}}if(r){r.change()}if(this.o.autoclose&&(!s||s==="date")){this.hide()}},moveMonth:function(q,s){if(!q){return n}if(!s){return q}var w=new Date(q.valueOf()),r=w.getUTCDate(),v=w.getUTCMonth(),u=Math.abs(s),x,y;s=s>0?1:-1;if(u===1){y=s===-1?function(){return w.getUTCMonth()===v}:function(){return w.getUTCMonth()!==x};x=v+s;w.setUTCMonth(x);if(x<0||x>11){x=(x+12)%12}}else{for(var t=0;t<u;t++){w=this.moveMonth(w,s)}x=w.getUTCMonth();w.setUTCDate(r);y=function(){return x!==w.getUTCMonth()}}while(y()){w.setUTCDate(--r);w.setUTCMonth(x)}return w},moveYear:function(q,r){return this.moveMonth(q,r*12)},dateWithinRange:function(q){return q>=this.o.startDate&&q<=this.o.endDate},keydown:function(s){if(this.picker.is(":not(:visible)")){if(s.keyCode===27){this.show()}return}var q=false,r,v,w,u=this.focusDate||this.viewDate;switch(s.keyCode){case 27:if(this.focusDate){this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill()}else{this.hide()}s.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation){break}r=s.keyCode===37?-1:1;if(s.ctrlKey){v=this.moveYear(this.dates.get(-1)||p(),r);w=this.moveYear(u,r);this._trigger("changeYear",this.viewDate)}else{if(s.shiftKey){v=this.moveMonth(this.dates.get(-1)||p(),r);w=this.moveMonth(u,r);this._trigger("changeMonth",this.viewDate)}else{v=new Date(this.dates.get(-1)||p());v.setUTCDate(v.getUTCDate()+r);w=new Date(u);w.setUTCDate(u.getUTCDate()+r)}}if(this.dateWithinRange(v)){this.focusDate=this.viewDate=w;this.setValue();this.fill();s.preventDefault()}break;case 38:case 40:if(!this.o.keyboardNavigation){break}r=s.keyCode===38?-1:1;if(s.ctrlKey){v=this.moveYear(this.dates.get(-1)||p(),r);w=this.moveYear(u,r);this._trigger("changeYear",this.viewDate)}else{if(s.shiftKey){v=this.moveMonth(this.dates.get(-1)||p(),r);w=this.moveMonth(u,r);this._trigger("changeMonth",this.viewDate)}else{v=new Date(this.dates.get(-1)||p());v.setUTCDate(v.getUTCDate()+r*7);w=new Date(u);w.setUTCDate(u.getUTCDate()+r*7)}}if(this.dateWithinRange(v)){this.focusDate=this.viewDate=w;this.setValue();this.fill();s.preventDefault()}break;case 32:break;case 13:u=this.focusDate||this.dates.get(-1)||this.viewDate;this._toggle_multidate(u);q=true;this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();if(this.picker.is(":visible")){s.preventDefault();if(this.o.autoclose){this.hide()}}break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide();break}if(q){if(this.dates.length){this._trigger("changeDate")}else{this._trigger("clearDate")}var t;if(this.isInput){t=this.element}else{if(this.component){t=this.element.find("input")}}if(t){t.change()}}},showMode:function(q){if(q){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+q))}this.picker.find(">div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var f=function(q,r){this.element=a(q);this.inputs=a.map(r.inputs,function(s){return s.jquery?s[0]:s});delete r.inputs;a(this.inputs).datepicker(r).bind("changeDate",a.proxy(this.dateUpdated,this));this.pickers=a.map(this.inputs,function(s){return a(s).data("datepicker")});this.updateDates()};f.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(q){return q.getUTCDate()});this.updateRanges()},updateRanges:function(){var q=a.map(this.dates,function(r){return r.valueOf()});a.each(this.pickers,function(r,s){s.setRange(q)})},dateUpdated:function(r){if(this.updating){return}this.updating=true;var q=a(r.target).data("datepicker"),u=q.getUTCDate(),s=a.inArray(r.target,this.inputs),t=this.inputs.length;if(s===-1){return}a.each(this.pickers,function(v,w){if(!w.getUTCDate()){w.setUTCDate(u)}});if(u<this.dates[s]){while(s>=0&&u<this.dates[s]){this.pickers[s--].setUTCDate(u)}}else{if(u>this.dates[s]){while(s<t&&u>this.dates[s]){this.pickers[s++].setUTCDate(u)}}}this.updateDates();delete this.updating},remove:function(){a.map(this.pickers,function(q){q.remove()});delete this.element.data().datepicker}};function l(r,v){var q=a(r).data(),u={},s,x=new RegExp("^"+v.toLowerCase()+"([A-Z])");v=new RegExp("^"+v.toLowerCase());function w(y,z){return z.toLowerCase()}for(var t in q){if(v.test(t)){s=t.replace(x,w);u[s]=q[t]}}return u}function m(r){var s={};if(!g[r]){r=r.split("-")[0];if(!g[r]){return}}var q=g[r];a.each(j,function(t,u){if(u in q){s[u]=q[u]}});return s}var k=a.fn.datepicker;a.fn.datepicker=function(s){var q=Array.apply(null,arguments);q.shift();var r;this.each(function(){var t=a(this),u=t.data("datepicker"),x=typeof s==="object"&&s;if(!u){var v=l(this,"date"),A=a.extend({},h,v,x),w=m(A.language),y=a.extend({},h,w,v,x);if(t.is(".input-daterange")||y.inputs){var z={inputs:y.inputs||t.find("input").toArray()};t.data("datepicker",(u=new f(this,a.extend(y,z))))}else{t.data("datepicker",(u=new e(this,y)))}}if(typeof s==="string"&&typeof u[s]==="function"){r=u[s].apply(u,q);if(r!==n){return false}}});if(r!==n){return r}else{return this}};var h=a.fn.datepicker.defaults={autoclose:false,beforeShowDay:a.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,multidate:false,multidateSeparator:",",orientation:"auto",rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};var j=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=e;var g=a.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(q){return(((q%4===0)&&(q%100!==0))||(q%400===0))},getDaysInMonth:function(r,q){return[31,(i.isLeapYear(r)?29:28),31,30,31,30,31,31,30,31,30,31][q]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(q){var s=q.replace(this.validParts,"\0").split("\0"),r=q.match(this.validParts);if(!s||!s.length||!r||r.length===0){throw new Error("Invalid date format.")}return{separators:s,parts:r}},parseDate:function(t,w,z){if(!t){return n}if(t instanceof Date){return t}if(typeof w==="string"){w=i.parseFormat(w)}var D=/([\-+]\d+)([dmwy])/,E=t.match(/([\-+]\d+)([dmwy])/g),C,u,y;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(t)){t=new Date();for(y=0;y<E.length;y++){C=D.exec(E[y]);u=parseInt(C[1]);switch(C[2]){case"d":t.setUTCDate(t.getUTCDate()+u);break;case"m":t=e.prototype.moveMonth.call(e.prototype,t,u);break;case"w":t.setUTCDate(t.getUTCDate()+u*7);break;case"y":t=e.prototype.moveYear.call(e.prototype,t,u);break}}return o(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0)}E=t&&t.match(this.nonpunctuation)||[];t=new Date();var B={},H=["yyyy","yy","M","MM","m","mm","d","dd"],G={yyyy:function(s,J){return s.setUTCFullYear(J)},yy:function(s,J){return s.setUTCFullYear(2000+J)},m:function(s,J){if(isNaN(s)){return s}J-=1;while(J<0){J+=12}J%=12;s.setUTCMonth(J);while(s.getUTCMonth()!==J){s.setUTCDate(s.getUTCDate()-1)}return s},d:function(s,J){return s.setUTCDate(J)}},I,v;G.M=G.MM=G.mm=G.m;G.dd=G.d;t=o(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);var x=w.parts.slice();if(E.length!==x.length){x=a(x).filter(function(s,J){return a.inArray(J,H)!==-1}).toArray()}function A(){var s=this.slice(0,E[y].length),J=E[y].slice(0,s.length);return s===J}if(E.length===x.length){var r;for(y=0,r=x.length;y<r;y++){I=parseInt(E[y],10);C=x[y];if(isNaN(I)){switch(C){case"MM":v=a(g[z].months).filter(A);I=a.inArray(v[0],g[z].months)+1;break;case"M":v=a(g[z].monthsShort).filter(A);I=a.inArray(v[0],g[z].monthsShort)+1;break}}B[C]=I}var q,F;for(y=0;y<H.length;y++){F=H[y];if(F in B&&!isNaN(B[F])){q=new Date(t);G[F](q,B[F]);if(!isNaN(q)){t=q}}}}return t},formatDate:function(r,s,u){if(!r){return""}if(typeof s==="string"){s=i.parseFormat(s)}var w={d:r.getUTCDate(),D:g[u].daysShort[r.getUTCDay()],DD:g[u].days[r.getUTCDay()],m:r.getUTCMonth()+1,M:g[u].monthsShort[r.getUTCMonth()],MM:g[u].months[r.getUTCMonth()],yy:r.getUTCFullYear().toString().substring(2),yyyy:r.getUTCFullYear()};w.dd=(w.d<10?"0":"")+w.d;w.mm=(w.m<10?"0":"")+w.m;r=[];var v=a.extend([],s.separators);for(var t=0,q=s.parts.length;t<=q;t++){if(v.length){r.push(v.shift())}r.push(w[s.parts[t]])}return r.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};i.template='<div class="datepicker"><div class="datepicker-days"><table class="table table-condensed">'+i.headTemplate+"<tbody></tbody>"+i.footTemplate+'</table></div><div class="datepicker-months"><table class="table table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'</table></div><div class="datepicker-years"><table class="table table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"</table></div></div>";a.fn.datepicker.DPGlobal=i;a.fn.datepicker.noConflict=function(){a.fn.datepicker=k;return this};a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(r){var q=a(this);if(q.data("datepicker")){return}r.preventDefault();q.datepicker("show")});a(function(){a('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery));
(function(e){function c(h,k,m){var l=h[0],n=/er/.test(m)?A:/bl/.test(m)?O:o,p=m==f?{checked:l[o],disabled:l[O],indeterminate:"true"==h.attr(A)||"false"==h.attr(S)}:l[n];if(/^(ch|di|in)/.test(m)&&!p){a(h,n)}else{if(/^(un|en|de)/.test(m)&&p){P(h,n)}else{if(m==f){for(n in p){p[n]?a(h,n,!0):P(h,n,!0)}}else{if(!k||"toggle"==m){if(!k){h[K]("ifClicked")}p?l[C]!==Q&&P(h,n):a(h,n)}}}}}function a(h,l,s){var n=h[0],t=h.parent(),u=l==o,k=l==A,m=l==O,v=k?S:u?b:"enabled",x=j(h,v+T(n[C])),w=j(h,l+T(n[C]));if(!0!==n[l]){if(!s&&l==o&&n[C]==Q&&n.name){var q=h.closest("form"),y='input[name="'+n.name+'"]',y=q.length?q.find(y):e(y);y.each(function(){this!==n&&e(this).data(N)&&P(e(this),l)})}k?(n[l]=!0,n[o]&&P(h,o,"force")):(s||(n[l]=!0),u&&n[A]&&P(h,A,!1));r(h,u,l,s)}n[O]&&j(h,U,!0)&&t.find("."+g).css(U,"default");t[R](w||j(h,l)||"");m?t.attr("aria-disabled","true"):t.attr("aria-checked",k?"mixed":"true");t[V](x||j(h,v)||"")}function P(k,l,n){var m=k[0],s=k.parent(),v=l==o,w=l==A,y=l==O,x=w?S:v?b:"enabled",z=j(k,x+T(m[C])),D=j(k,l+T(m[C]));if(!1!==m[l]){if(w||!n||"force"==n){m[l]=!1}r(k,v,x,n)}!m[O]&&j(k,U,!0)&&s.find("."+g).css(U,"pointer");s[V](D||j(k,l)||"");y?s.attr("aria-disabled","false"):s.attr("aria-checked","false");s[R](z||j(k,x)||"")}function B(h,k){if(h.data(N)){h.parent().html(h.attr("style",h.data(N).s||""));if(k){h[K](k)}h.off(".i").unwrap();e(d+'[for="'+h[0].id+'"]').add(h.closest(d)).off(".i")}}function j(h,k,l){if(h.data(N)){return h.data(N).o[k+(l?"":"Class")]}}function T(h){return h.charAt(0).toUpperCase()+h.slice(1)}function r(h,k,m,l){if(!l){if(k){h[K]("ifToggled")}h[K]("ifChanged")[K]("if"+T(m))}}var N="iCheck",g=N+"-helper",Q="radio",o="checked",b="un"+o,O="disabled",S="determinate",A="in"+S,f="update",C="type",R="addClass",V="removeClass",K="trigger",d="label",U="cursor",i=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);e.fn[N]=function(h,l){var q='input[type="checkbox"], input[type="'+Q+'"]',n=e(),s=function(k){k.each(function(){var w=e(this);n=w.is(q)?n.add(w):n.add(w.find(q))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(h)){return h=h.toLowerCase(),s(this),n.each(function(){var k=e(this);"destroy"==h?B(k,"ifDestroyed"):c(k,!0,h);e.isFunction(l)&&l()})}if("object"!=typeof h&&h){return this}var t=e.extend({checkedClass:o,disabledClass:O,indeterminateClass:A,labelHover:!0,aria:!1},h),u=t.handle,m=t.hoverClass||"hover",D=t.focusClass||"focus",z=t.activeClass||"active",E=!!t.labelHover,p=t.labelHoverClass||"hover",v=(""+t.increaseArea).replace("%","")|0;if("checkbox"==u||u==Q){q='input[type="'+u+'"]'}-50>v&&(v=-50);s(this);return n.each(function(){var w=e(this);B(w);var F=this,y=F.id,H=-v+"%",G=100+2*v+"%",G={position:"absolute",top:H,left:H,display:"block",width:G,height:G,margin:0,padding:0,background:"#fff",border:0,opacity:0},H=i?{position:"absolute",visibility:"hidden"}:v?G:{position:"absolute",opacity:0},L="checkbox"==F[C]?t.checkboxClass||"icheckbox":t.radioClass||"i"+Q,M=e(d+'[for="'+y+'"]').add(w.closest(d)),x=!!t.aria,I=N+"-"+Math.random().toString(36).replace("0.",""),J='<div class="'+L+'" '+(x?'role="'+F[C]+'" ':"");M.length&&x&&M.each(function(){J+='aria-labelledby="';this.id?J+=this.id:(this.id=I,J+=I);J+='"'});J=w.wrap(J+"/>")[K]("ifCreated").parent().append(t.insert);G=e('<ins class="'+g+'"/>').css(G).appendTo(J);w.data(N,{o:t,s:w.attr("style")}).css(H);t.inheritClass&&J[R](F.className||"");t.inheritID&&y&&J.attr("id",N+"-"+y);"static"==J.css("position")&&J.css("position","relative");c(w,!0,f);if(M.length){M.on("click.i mouseover.i mouseout.i touchbegin.i touchend.i",function(k){var W=k[C],X=e(this);if(!F[O]){if("click"==W){if(e(k.target).is("a")){return}c(w,!1,!0)}else{E&&(/ut|nd/.test(W)?(J[V](m),X[V](p)):(J[R](m),X[R](p)))}if(i){k.stopPropagation()}else{return !1}}})}w.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(k){var W=k[C];k=k.keyCode;if("click"==W){return !1}if("keydown"==W&&32==k){return F[C]==Q&&F[o]||(F[o]?P(w,o):a(w,o)),!1}if("keyup"==W&&F[C]==Q){!F[o]&&a(w,o)}else{if(/us|ur/.test(W)){J["blur"==W?V:R](D)}}});G.on("click mousedown mouseup mouseover mouseout touchbegin.i touchend.i",function(k){var W=k[C],X=/wn|up/.test(W)?z:m;if(!F[O]){if("click"==W){c(w,!1,!0)}else{if(/wn|er|in/.test(W)){J[R](X)}else{J[V](X+" "+z)}if(M.length&&E&&X==m){M[/ut|nd/.test(W)?V:R](p)}}if(i){k.stopPropagation()}else{return !1}}})})}})(window.jQuery||window.Zepto);
!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof module&&module.exports?module.exports=b(require("jquery")):b(jQuery)}(function(d){d.extend(d.fn,{validate:function(a){if(!this.length){return void (a&&a.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."))}var g=d.data(this[0],"validator");return g?g:(this.attr("novalidate","novalidate"),g=new d.validator(a,this[0]),d.data(this[0],"validator",g),g.settings.onsubmit&&(this.on("click.validate",":submit",function(c){g.settings.submitHandler&&(g.submitButton=c.target),d(this).hasClass("cancel")&&(g.cancelSubmit=!0),void 0!==d(this).attr("formnovalidate")&&(g.cancelSubmit=!0)}),this.on("submit.validate",function(c){function h(){var b,i;return !g.settings.submitHandler||(g.submitButton&&(b=d("<input type='hidden'/>").attr("name",g.submitButton.name).val(d(g.submitButton).val()).appendTo(g.currentForm)),i=g.settings.submitHandler.call(g,g.currentForm,c),g.submitButton&&b.remove(),void 0!==i&&i)}return g.settings.debug&&c.preventDefault(),g.cancelSubmit?(g.cancelSubmit=!1,h()):g.form()?g.pendingRequest?(g.formSubmitted=!0,!1):h():(g.focusInvalid(),!1)})),g)},valid:function(){var a,g,h;return d(this[0]).is("form")?a=this.validate().form():(h=[],a=!0,g=d(this[0].form).validate(),this.each(function(){a=g.element(this)&&a,a||(h=h.concat(g.errorList))}),g.errorList=h),a},rules:function(a,k){var l,m,n,o,p,q,r=this[0];if(null!=r&&null!=r.form){if(a){switch(l=d.data(r.form,"validator").settings,m=l.rules,n=d.validator.staticRules(r),a){case"add":d.extend(n,d.validator.normalizeRule(k)),delete n.messages,m[r.name]=n,k.messages&&(l.messages[r.name]=d.extend(l.messages[r.name],k.messages));break;case"remove":return k?(q={},d.each(k.split(/\s/),function(g,h){q[h]=n[h],delete n[h],"required"===h&&d(r).removeAttr("aria-required")}),q):(delete m[r.name],n)}}return o=d.validator.normalizeRules(d.extend({},d.validator.classRules(r),d.validator.attributeRules(r),d.validator.dataRules(r),d.validator.staticRules(r)),r),o.required&&(p=o.required,delete o.required,o=d.extend({required:p},o),d(r).attr("aria-required","true")),o.remote&&(p=o.remote,delete o.remote,o=d.extend(o,{remote:p})),o}}}),d.extend(d.expr.pseudos||d.expr[":"],{blank:function(a){return !d.trim(""+d(a).val())},filled:function(a){var g=d(a).val();return null!==g&&!!d.trim(""+g)},unchecked:function(a){return !d(a).prop("checked")}}),d.validator=function(a,g){this.settings=d.extend(!0,{},d.validator.defaults,a),this.currentForm=g,this.init()},d.validator.format=function(a,g){return 1===arguments.length?function(){var b=d.makeArray(arguments);return b.unshift(a),d.validator.format.apply(this,b)}:void 0===g?a:(arguments.length>2&&g.constructor!==Array&&(g=d.makeArray(arguments).slice(1)),g.constructor!==Array&&(g=[g]),d.each(g,function(b,h){a=a.replace(new RegExp("\\{"+b+"\\}","g"),function(){return h})}),a)},d.extend(d.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:d([]),errorLabelContainer:d([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(b){this.lastActive=b,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(b)))},onfocusout:function(b){this.checkable(b)||!(b.name in this.submitted)&&this.optional(b)||this.element(b)},onkeyup:function(a,g){var h=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===g.which&&""===this.elementValue(a)||d.inArray(g.keyCode,h)!==-1||(a.name in this.submitted||a.name in this.invalid)&&this.element(a)},onclick:function(b){b.name in this.submitted?this.element(b):b.parentNode.name in this.submitted&&this.element(b.parentNode)},highlight:function(a,g,h){"radio"===a.type?this.findByName(a.name).addClass(g).removeClass(h):d(a).addClass(g).removeClass(h)},unhighlight:function(a,g,h){"radio"===a.type?this.findByName(a.name).removeClass(g).addClass(h):d(a).removeClass(g).addClass(h)}},setDefaults:function(a){d.extend(d.validator.defaults,a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:d.validator.format("Please enter no more than {0} characters."),minlength:d.validator.format("Please enter at least {0} characters."),rangelength:d.validator.format("Please enter a value between {0} and {1} characters long."),range:d.validator.format("Please enter a value between {0} and {1}."),max:d.validator.format("Please enter a value less than or equal to {0}."),min:d.validator.format("Please enter a value greater than or equal to {0}."),step:d.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function a(i){!this.form&&this.hasAttribute("contenteditable")&&(this.form=d(this).closest("form")[0]);var j=d.data(this.form,"validator"),k="on"+i.type.replace(/^validate/,""),l=j.settings;l[k]&&!d(this).is(l.ignore)&&l[k].call(j,this,i)}this.labelContainer=d(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||d(this.currentForm),this.containers=d(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var g,h=this.groups={};d.each(this.settings.groups,function(i,j){"string"==typeof j&&(j=j.split(/\s/)),d.each(j,function(b,k){h[k]=i})}),g=this.settings.rules,d.each(g,function(c,i){g[c]=d.validator.normalizeRule(i)}),d(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",a).on("click.validate","select, option, [type='radio'], [type='checkbox']",a),this.settings.invalidHandler&&d(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),d(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),d.extend(this.submitted,this.errorMap),this.invalid=d.extend({},this.errorMap),this.valid()||d(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var c=0,g=this.currentElements=this.elements();g[c];c++){this.check(g[c])}return this.valid()},element:function(a){var i,j,k=this.clean(a),l=this.validationTargetFor(k),m=this,n=!0;return void 0===l?delete this.invalid[k.name]:(this.prepareElement(l),this.currentElements=d(l),j=this.groups[l.name],j&&d.each(this.groups,function(c,g){g===j&&c!==l.name&&(k=m.validationTargetFor(m.clean(m.findByName(c))),k&&k.name in m.invalid&&(m.currentElements.push(k),n=m.check(k)&&n))}),i=this.check(l)!==!1,n=n&&i,i?this.invalid[l.name]=!1:this.invalid[l.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),d(a).attr("aria-invalid",!i)),n},showErrors:function(a){if(a){var g=this;d.extend(this.errorMap,a),this.errorList=d.map(this.errorMap,function(c,h){return{message:c,element:g.findByName(h)[0]}}),this.successList=d.grep(this.successList,function(b){return !(b.name in a)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){d.fn.resetForm&&d(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var a=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(a)},resetElements:function(c){var g;if(this.settings.unhighlight){for(g=0;c[g];g++){this.settings.unhighlight.call(this,c[g],this.settings.errorClass,""),this.findByName(c[g].name).removeClass(this.settings.validClass)}}else{c.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)}},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(g){var h,i=0;for(h in g){g[h]&&i++}return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(b){b.not(this.containers).text(""),this.addWrapper(b).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{d(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}}},findLastActive:function(){var a=this.lastActive;return a&&1===d.grep(this.errorList,function(b){return b.element.name===a.name}).length&&a},elements:function(){var a=this,g={};return d(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var b=this.name||d(this).attr("name");return !b&&a.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=d(this).closest("form")[0]),!(b in g||!a.objectLength(d(this).rules()))&&(g[b]=!0,!0)})},clean:function(a){return d(a)[0]},errors:function(){var a=this.settings.errorClass.split(" ").join(".");return d(this.settings.errorElement+"."+a,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=d([]),this.toHide=d([])},reset:function(){this.resetInternals(),this.currentElements=d([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset(),this.toHide=this.errorsFor(b)},elementValue:function(a){var g,h,i=d(a),j=a.type;return"radio"===j||"checkbox"===j?this.findByName(a.name).filter(":checked").val():"number"===j&&"undefined"!=typeof a.validity?a.validity.badInput?"NaN":i.val():(g=a.hasAttribute("contenteditable")?i.text():i.val(),"file"===j?"C:\\fakepath\\"===g.substr(0,12)?g.substr(12):(h=g.lastIndexOf("/"),h>=0?g.substr(h+1):(h=g.lastIndexOf("\\"),h>=0?g.substr(h+1):g)):"string"==typeof g?g.replace(/\r/g,""):g)},check:function(a){a=this.validationTargetFor(this.clean(a));var k,l,m,n=d(a).rules(),o=d.map(n,function(c,g){return g}).length,p=!1,q=this.elementValue(a);if("function"==typeof n.normalizer){if(q=n.normalizer.call(a,q),"string"!=typeof q){throw new TypeError("The normalizer should return a string value.")}delete n.normalizer}for(l in n){m={method:l,parameters:n[l]};try{if(k=d.validator.methods[l].call(this,q,a,m.parameters),"dependency-mismatch"===k&&1===o){p=!0;continue}if(p=!1,"pending"===k){return void (this.toHide=this.toHide.not(this.errorsFor(a)))}if(!k){return this.formatAndAdd(a,m),!1}}catch(r){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+a.id+", check the '"+m.method+"' method.",r),r instanceof TypeError&&(r.message+=".  Exception occurred when checking element "+a.id+", check the '"+m.method+"' method."),r}}if(!p){return this.objectLength(n)&&this.successList.push(a),!0}},customDataMessage:function(a,g){return d(a).data("msg"+g.charAt(0).toUpperCase()+g.substring(1).toLowerCase())||d(a).data("msg")},customMessage:function(g,h){var i=this.settings.messages[g];return i&&(i.constructor===String?i:i[h])},findDefined:function(){for(var b=0;b<arguments.length;b++){if(void 0!==arguments[b]){return arguments[b]}}},defaultMessage:function(a,g){"string"==typeof g&&(g={method:g});var h=this.findDefined(this.customMessage(a.name,g.method),this.customDataMessage(a,g.method),!this.settings.ignoreTitle&&a.title||void 0,d.validator.messages[g.method],"<strong>Warning: No message defined for "+a.name+"</strong>"),i=/\$?\{(\d+)\}/g;return"function"==typeof h?h=h.call(this,g.parameters,a):i.test(h)&&(h=d.validator.format(h.replace(i,"{$1}"),g.parameters)),h},formatAndAdd:function(g,h){var i=this.defaultMessage(g,h);this.errorList.push({message:i,element:g,method:h.method}),this.errorMap[g.name]=i,this.submitted[g.name]=i},addWrapper:function(b){return this.settings.wrapper&&(b=b.add(b.parent(this.settings.wrapper))),b},defaultShowErrors:function(){var g,h,i;for(g=0;this.errorList[g];g++){i=this.errorList[g],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success){for(g=0;this.successList[g];g++){this.showLabel(this.successList[g])}}if(this.settings.unhighlight){for(g=0,h=this.validElements();h[g];g++){this.settings.unhighlight.call(this,h[g],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return d(this.errorList).map(function(){return this.element})},showLabel:function(a,k){var l,m,n,o,p=this.errorsFor(a),q=this.idOrName(a),r=d(a).attr("aria-describedby");p.length?(p.removeClass(this.settings.validClass).addClass(this.settings.errorClass),p.html(k)):(p=d("<"+this.settings.errorElement+">").attr("id",q+"-error").addClass(this.settings.errorClass).html(k||""),l=p,this.settings.wrapper&&(l=p.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(l):this.settings.errorPlacement?this.settings.errorPlacement.call(this,l,d(a)):l.insertAfter(a),p.is("label")?p.attr("for",q):0===p.parents("label[for='"+this.escapeCssMeta(q)+"']").length&&(n=p.attr("id"),r?r.match(new RegExp("\\b"+this.escapeCssMeta(n)+"\\b"))||(r+=" "+n):r=n,d(a).attr("aria-describedby",r),m=this.groups[a.name],m&&(o=this,d.each(o.groups,function(g,h){h===m&&d("[name='"+o.escapeCssMeta(g)+"']",o.currentForm).attr("aria-describedby",p.attr("id"))})))),!k&&this.settings.success&&(p.text(""),"string"==typeof this.settings.success?p.addClass(this.settings.success):this.settings.success(p,a)),this.toShow=this.toShow.add(p)},errorsFor:function(a){var g=this.escapeCssMeta(this.idOrName(a)),h=d(a).attr("aria-describedby"),i="label[for='"+g+"'], label[for='"+g+"'] *";return h&&(i=i+", #"+this.escapeCssMeta(h).replace(/\s+/g,", #")),this.errors().filter(i)},escapeCssMeta:function(b){return b.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name)),d(a).not(this.settings.ignore)[0]},checkable:function(b){return/radio|checkbox/i.test(b.type)},findByName:function(a){return d(this.currentForm).find("[name='"+this.escapeCssMeta(a)+"']")},getLength:function(a,g){switch(g.nodeName.toLowerCase()){case"select":return d("option:selected",g).length;case"input":if(this.checkable(g)){return this.findByName(g.name).filter(":checked").length}}return a.length},depend:function(c,g){return !this.dependTypes[typeof c]||this.dependTypes[typeof c](c,g)},dependTypes:{"boolean":function(b){return b},string:function(a,g){return !!d(a,g.form).length},"function":function(c,g){return c(g)}},optional:function(a){var g=this.elementValue(a);return !d.validator.methods.required.call(this,g,a)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,d(a).addClass(this.settings.pendingClass),this.pending[a.name]=!0)},stopRequest:function(a,g){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[a.name],d(a).removeClass(this.settings.pendingClass),g&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(d(this.currentForm).submit(),this.formSubmitted=!1):!g&&0===this.pendingRequest&&this.formSubmitted&&(d(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(a,g){return g="string"==typeof g&&g||"remote",d.data(a,"previousValue")||d.data(a,"previousValue",{old:null,valid:!0,message:this.defaultMessage(a,{method:g})})},destroy:function(){this.resetForm(),d(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(a,g){a.constructor===String?this.classRuleSettings[a]=g:d.extend(this.classRuleSettings,a)},classRules:function(a){var g={},h=d(a).attr("class");return h&&d.each(h.split(" "),function(){this in d.validator.classRuleSettings&&d.extend(g,d.validator.classRuleSettings[this])}),g},normalizeAttributeRule:function(g,h,i,j){/min|max|step/.test(i)&&(null===h||/number|range|text/.test(h))&&(j=Number(j),isNaN(j)&&(j=void 0)),j||0===j?g[i]=j:h===i&&"range"!==h&&(g[i]=!0)},attributeRules:function(a){var h,i,j={},k=d(a),l=a.getAttribute("type");for(h in d.validator.methods){"required"===h?(i=a.getAttribute(h),""===i&&(i=!0),i=!!i):i=k.attr(h),this.normalizeAttributeRule(j,l,h,i)}return j.maxlength&&/-1|2147483647|524288/.test(j.maxlength)&&delete j.maxlength,j},dataRules:function(a){var h,i,j={},k=d(a),l=a.getAttribute("type");for(h in d.validator.methods){i=k.data("rule"+h.charAt(0).toUpperCase()+h.substring(1).toLowerCase()),this.normalizeAttributeRule(j,l,h,i)}return j},staticRules:function(a){var g={},h=d.data(a.form,"validator");return h.settings.rules&&(g=d.validator.normalizeRule(h.settings.rules[a.name])||{}),g},normalizeRules:function(a,g){return d.each(a,function(b,c){if(c===!1){return void delete a[b]}if(c.param||c.depends){var h=!0;switch(typeof c.depends){case"string":h=!!d(c.depends,g.form).length;break;case"function":h=c.depends.call(g,g)}h?a[b]=void 0===c.param||c.param:(d.data(g.form,"validator").resetElements(d(g)),delete a[b])}}),d.each(a,function(b,c){a[b]=d.isFunction(c)&&"normalizer"!==b?c(g):c}),d.each(["minlength","maxlength"],function(){a[this]&&(a[this]=Number(a[this]))}),d.each(["rangelength","range"],function(){var b;a[this]&&(d.isArray(a[this])?a[this]=[Number(a[this][0]),Number(a[this][1])]:"string"==typeof a[this]&&(b=a[this].replace(/[\[\]]/g,"").split(/[\s,]+/),a[this]=[Number(b[0]),Number(b[1])]))}),d.validator.autoCreateRanges&&(null!=a.min&&null!=a.max&&(a.range=[a.min,a.max],delete a.min,delete a.max),null!=a.minlength&&null!=a.maxlength&&(a.rangelength=[a.minlength,a.maxlength],delete a.minlength,delete a.maxlength)),a},normalizeRule:function(a){if("string"==typeof a){var g={};d.each(a.split(/\s/),function(){g[this]=!0}),a=g}return a},addMethod:function(a,g,h){d.validator.methods[a]=g,d.validator.messages[a]=void 0!==h?h:d.validator.messages[a],g.length<3&&d.validator.addClassRules(a,d.validator.normalizeRule(a))},methods:{required:function(a,g,h){if(!this.depend(h,g)){return"dependency-mismatch"}if("select"===g.nodeName.toLowerCase()){var i=d(g).val();return i&&i.length>0}return this.checkable(g)?this.getLength(a,g)>0:a.length>0},email:function(c,g){return this.optional(g)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(c)},url:function(c,g){return this.optional(g)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(c)},date:function(c,g){return this.optional(g)||!/Invalid|NaN/.test(new Date(c).toString())},dateISO:function(c,g){return this.optional(g)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(c)},number:function(c,g){return this.optional(g)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(c)},digits:function(c,g){return this.optional(g)||/^\d+$/.test(c)},minlength:function(a,g,h){var i=d.isArray(a)?a.length:this.getLength(a,g);return this.optional(g)||i>=h},maxlength:function(a,g,h){var i=d.isArray(a)?a.length:this.getLength(a,g);return this.optional(g)||i<=h},rangelength:function(a,g,h){var i=d.isArray(a)?a.length:this.getLength(a,g);return this.optional(g)||i>=h[0]&&i<=h[1]},min:function(g,h,i){return this.optional(h)||g>=i},max:function(g,h,i){return this.optional(h)||g<=i},range:function(g,h,i){return this.optional(h)||g>=i[0]&&g<=i[1]},step:function(a,n,o){var p,q=d(n).attr("type"),r="Step attribute on input type "+q+" is not supported.",s=["text","number","range"],t=new RegExp("\\b"+q+"\\b"),u=q&&!t.test(s.join()),v=function(c){var g=(""+c).match(/(?:\.(\d+))?$/);return g&&g[1]?g[1].length:0},w=function(b){return Math.round(b*Math.pow(10,p))},x=!0;if(u){throw new Error(r)}return p=v(o),(v(a)>p||w(a)%w(o)!==0)&&(x=!1),this.optional(n)||x},equalTo:function(a,g,h){var i=d(h);return this.settings.onfocusout&&i.not(".validate-equalTo-blur").length&&i.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){d(g).valid()}),a===i.val()},remote:function(a,j,k,l){if(this.optional(j)){return"dependency-mismatch"}l="string"==typeof l&&l||"remote";var m,n,o,p=this.previousValue(j,l);return this.settings.messages[j.name]||(this.settings.messages[j.name]={}),p.originalMessage=p.originalMessage||this.settings.messages[j.name][l],this.settings.messages[j.name][l]=p.message,k="string"==typeof k&&{url:k}||k,o=d.param(d.extend({data:a},k.data)),p.old===o?p.valid:(p.old=o,m=this,this.startRequest(j),n={},n[j.name]=a,d.ajax(d.extend(!0,{mode:"abort",port:"validate"+j.name,dataType:"json",data:n,context:m.currentForm,success:function(b){var c,i,q,r=b===!0||"true"===b;m.settings.messages[j.name][l]=p.originalMessage,r?(q=m.formSubmitted,m.resetInternals(),m.toHide=m.errorsFor(j),m.formSubmitted=q,m.successList.push(j),m.invalid[j.name]=!1,m.showErrors()):(c={},i=b||m.defaultMessage(j,{method:l,parameters:a}),c[j.name]=p.message=i,m.invalid[j.name]=!0,m.showErrors(c)),p.valid=r,m.stopRequest(j,r)}},k)),"pending")}}});var e,f={};return d.ajaxPrefilter?d.ajaxPrefilter(function(c,g,h){var i=c.port;"abort"===c.mode&&(f[i]&&f[i].abort(),f[i]=h)}):(e=d.ajax,d.ajax=function(a){var b=("mode" in a?a:d.ajaxSettings).mode,c=("port" in a?a:d.ajaxSettings).port;return"abort"===b?(f[c]&&f[c].abort(),f[c]=e.apply(this,arguments),f[c]):e.apply(this,arguments)}),d});
$(document).ready(function(){function a(){for(var b=65;b<=70;b++){$(".emotion-area").append('<img width="30px" height="30px" src="'+homeUrl+"/file/icon/1f60"+String.fromCharCode(b).toLowerCase()+'.png"><img width="30px" height="30px" src="'+homeUrl+"/file/icon/1f61"+String.fromCharCode(b).toLowerCase()+'.png"><img width="30px" height="30px" src="'+homeUrl+"/file/icon/1f62"+String.fromCharCode(b).toLowerCase()+'.png"><img width="30px" height="30px" src="'+homeUrl+"/file/icon/1f47"+String.fromCharCode(b).toLowerCase()+'.png"><img width="30px" height="30px" src="'+homeUrl+"/file/icon/1f49"+String.fromCharCode(b).toLowerCase()+'.png">')}for(var b=4;b<=8;b++){$(".emotion-area").append('<img width="30px" height="30px" src="'+homeUrl+"/file/icon/1f32"+b+'.png">')}for(var b=3;b<=8;b++){$(".emotion-area").append('<img width="30px" height="30px" src="'+homeUrl+"/file/icon/1f49"+b+'.png">')}for(var b=0;b<=9;b++){$(".emotion-area").append('<img width="30px" height="30px" src="'+homeUrl+"/file/icon/1f60"+b+'.png">')}for(var b=10;b<=44;b++){$(".emotion-area").append('<img width="30px" height="30px" src="'+homeUrl+"/file/icon/1f6"+b+'.png">')}for(var b=10;b<=17;b++){$(".emotion-area").append('<img width="30px" height="30px" src="'+homeUrl+"/file/icon/1f9"+b+'.png">')}}$(document).on("click",".emotion-Icon",function(b){var d=$(this).offset().top,d=Math.floor(d),c=$(this).find(".emotion-area");c.toggleClass("ShowImotion");if(d<=160){c.toggleClass("top")}if(!c.hasClass("ShowImotion")){$(".emotion-area").empty();c.removeClass("top")}else{a()}});$(document).on("click",".emotion-area",function(b){b.stopPropagation()});$(document).on("click",".emotion-area img",function(b){var c=$(this).clone();$(this).closest(".chat_message_area").find(".chat_message").append(c)});$("body").on("click",function(b){if($(b.target).find(".emotion-area").length===0){}if(b.target.className!=="emotion-area"){$(".emotion-area").removeClass("ShowImotion")}})});
var Chatbox={init:function(a){Chatbox.send_message_chat(a);Chatbox.fetch_chat_history("fetch_data",a,"");Chatbox.upfile();Chatbox.is_focus();Chatbox.chat_count()},chat_count:function(){if($("body").hasClass("chat_count_load")){return false}$("body").addClass("chat_count_load");$.ajax({url:"/chat-count",type:"GET",dataType:"json",success:function(a){$(".new-messages").html(a.total);$(".new-messages").attr("data-original-title",a.total+" tin nhắn chưa đọc")},complete:function(){$("body").removeClass("chat_count_load")}})},is_focus:function(){$("body").on("focus",".chat_message",function(a){if($(this).hasClass("is_focus")){return false}$(this).addClass("is_focus");$.ajax({url:"/chat-status",type:"POST",dataType:"json",success:function(b){Chatbox.chat_count()},complete:function(){$(".chat_message").removeClass("is_focus")}});return false})},update_typing:function(a){$.ajax({url:"update_is_type_status_.php",method:"POST",data:{is_type:a},success:function(){}})},send_message_chat:function(a){$("#send_group_chat").on("click",function(){$(".error").remove();var c=$("#group_chat_message").html();if(c==""){$("#group_chat_message").after('<span class="text-red error">Bạn chưa nhập nội dung tin nhắn.</span>');$("#group_chat_message").focus();return false}$(this).attr("disabled",true);Chatbox.fetch_chat_history("insert_data",a,c);var b=$(".chat_history");var d=b[0].scrollHeight;b.scrollTop(d);$("#group_chat_message").html("").focus()})},fetch_chat_history:function(a,c,b){if($("body").hasClass("chat_history_load")){return false}$("body").addClass("chat_history_load");$.ajax({url:"/update-chat",type:"POST",data:{action:a,order_id:c,message:b},dataType:"json",success:function(e){if(e.success){var d="";$.each(e.data,function(h,g){var f="";if(g.type==1){f="/images/default_user_icon.png"}else{f="/images/default.gif"}d+='<div class="direct-chat-msg '+(g.type==1?"":"right")+'">\n<div class="direct-chat-info clearfix">\n<span class="direct-chat-name '+(g.type==1?"pull-left":"pull-right")+'">'+g.fullname+'</span>\n<span class="direct-chat-timestamp '+(g.type==1?"pull-right":"pull-left")+'">'+formatDate(g.timestamp)+'</span>\n</div>\n<img class="direct-chat-img" src="'+f+'" alt="Message User Image">\n<div class="direct-chat-text">'+g.message+"</div>\n</div>"});$(".chat_history").html(d)}},complete:function(){$("#send_group_chat").attr("disabled",false);$("body").removeClass("chat_history_load")}})},upfile:function(){$("#uploadFile").on("change",function(){var a=$("#uploadImage");var b=new FormData(a[0]);$.ajax({type:"POST",url:$(a).prop("action"),data:b,contentType:false,processData:false,beforeSend:function(){$("#myModal").modal("show");$(".modal-container").html('<i class="fa fa-refresh fa-spin" style="font-size: 30px;"></i>')},success:function(c){if(c.err){$(".modal-container").html(c.msg);setTimeout(function(){$("#myModal").modal("hide")},3000)}else{$("#myModal").modal("hide");$("#group_chat_message").append(c.file)}}})})}};function formatDate(f){function g(b){return(b<10?"0":"")+b}var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var a=f.split(/\D+/);var c=new Date(a[0],--a[1],a[2],a[3],a[5],a[5]);return c.getDate()+" "+e[c.getMonth()]+", "+c.getFullYear()+" at "+g(c.getHours()%12||12)+":"+g(c.getMinutes())+" "+(c.getHours()<12?"am":"pm")};
(function(){var ab,ad,af,ah,aj,al,an,ap,ar,au,aw,ay,aA,aC,aE,aG,aI,aK,aM,aO,aQ,aS,aU,aW,aY,a0,ac,ae,ag,ai,ak,am,ao,aq,at,av,ax,az,aB,aD,aF,aH,aJ,aL,aN,aP,aR,aT,aV,aX=[].slice,aZ={}.hasOwnProperty,a1=function(e,f){function g(){this.constructor=e}for(var h in f){aZ.call(f,h)&&(e[h]=f[h])}return g.prototype=f.prototype,e.prototype=new g,e.__super__=f.prototype,e},aa=[].indexOf||function(d){for(var e=0,f=this.length;f>e;e++){if(e in this&&this[e]===d){return e}}return -1};for(aQ={catchupTime:100,initialRate:0.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},ag=function(){var b;return null!=(b="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?b:+new Date},ak=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,aO=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==ak&&(ak=function(b){return setTimeout(b,50)},aO=function(b){return clearTimeout(b)}),ao=function(d){var e,f;return e=ag(),(f=function(){var a;return a=ag()-e,a>=33?(e=ag(),d(a,function(){return ak(f)})):setTimeout(f,33-a)})()},am=function(){var d,e,f;return f=arguments[0],e=arguments[1],d=3<=arguments.length?aX.call(arguments,2):[],"function"==typeof f[e]?f[e].apply(f,d):f[e]},aS=function(){var h,i,j,k,l,m,n;for(i=arguments[0],k=2<=arguments.length?aX.call(arguments,1):[],m=0,n=k.length;n>m;m++){if(j=k[m]){for(h in j){aZ.call(j,h)&&(l=j[h],null!=i[h]&&"object"==typeof i[h]&&null!=l&&"object"==typeof l?aS(i[h],l):i[h]=l)}}}return i},aI=function(g){var h,i,j,k,l;for(i=h=0,k=0,l=g.length;l>k;k++){j=g[k],i+=Math.abs(j),h++}return i/h},aW=function(g,h){var i,j,k;if(null==g&&(g="options"),null==h&&(h=!0),k=document.querySelector("[data-pace-"+g+"]")){if(i=k.getAttribute("data-pace-"+g),!h){return i}try{return JSON.parse(i)}catch(l){return j=l,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",j):void 0}}},an=function(){function b(){}return b.prototype.on=function(f,g,h,i){var j;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(j=this.bindings)[f]&&(j[f]=[]),this.bindings[f].push({handler:g,ctx:h,once:i})},b.prototype.once=function(d,e,f){return this.on(d,e,f,!0)},b.prototype.off=function(f,g){var h,i,j;if(null!=(null!=(i=this.bindings)?i[f]:void 0)){if(null==g){return delete this.bindings[f]}for(h=0,j=[];h<this.bindings[f].length;){this.bindings[f][h].handler===g?j.push(this.bindings[f].splice(h,1)):j.push(h++)}return j}},b.prototype.trigger=function(){var j,k,l,m,n,o,p,q,r;if(l=arguments[0],j=2<=arguments.length?aX.call(arguments,1):[],null!=(p=this.bindings)?p[l]:void 0){for(n=0,r=[];n<this.bindings[l].length;){q=this.bindings[l][n],m=q.handler,k=q.ctx,o=q.once,m.apply(null!=k?k:this,j),o?r.push(this.bindings[l].splice(n,1)):r.push(n++)}return r}},b}(),au=window.Pace||{},window.Pace=au,aS(au,an.prototype),ai=au.options=aS({},aQ,window.paceOptions,aW()),aR=["ajax","document","eventLag","elements"],aJ=0,aN=aR.length;aN>aJ;aJ++){ax=aR[aJ],ai[ax]===!0&&(ai[ax]=aQ[ax])}ar=function(c){function d(){return aT=d.__super__.constructor.apply(this,arguments)}return a1(d,c),d}(Error),ad=function(){function b(){this.progress=0}return b.prototype.getElement=function(){var c;if(null==this.el){if(c=document.querySelector(ai.target),!c){throw new ar}this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=c.firstChild?c.insertBefore(this.el,c.firstChild):c.appendChild(this.el)}return this.el},b.prototype.finish=function(){var c;return c=this.getElement(),c.className=c.className.replace("pace-active",""),c.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},b.prototype.update=function(c){return this.progress=c,this.render()},b.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(c){ar=c}return this.el=void 0},b.prototype.render=function(){var h,i,j,k,l,m,n;if(null==document.querySelector(ai.target)){return !1}for(h=this.getElement(),k="translate3d("+this.progress+"%, 0, 0)",n=["webkitTransform","msTransform","transform"],l=0,m=n.length;m>l;l++){i=n[l],h.children[0].style[i]=k}return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(h.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?j="99":(j=this.progress<10?"0":"",j+=0|this.progress),h.children[0].setAttribute("data-progress",""+j)),this.lastRenderedProgress=this.progress},b.prototype.done=function(){return this.progress>=100},b}(),ap=function(){function b(){this.bindings={}}return b.prototype.trigger=function(h,i){var j,k,l,m,n;if(null!=this.bindings[h]){for(m=this.bindings[h],n=[],k=0,l=m.length;l>k;k++){j=m[k],n.push(j.call(this,i))}return n}},b.prototype.on=function(d,e){var f;return null==(f=this.bindings)[d]&&(f[d]=[]),this.bindings[d].push(e)},b}(),aH=window.XMLHttpRequest,aF=window.XDomainRequest,aD=window.WebSocket,aU=function(g,h){var i,j,k;k=[];for(j in h.prototype){try{null==g[j]&&"function"!=typeof h[j]?"function"==typeof Object.defineProperty?k.push(Object.defineProperty(g,j,{get:function(){return h.prototype[j]},configurable:!0,enumerable:!0})):k.push(g[j]=h.prototype[j]):k.push(void 0)}catch(l){i=l}}return k},ac=[],au.ignore=function(){var d,e,f;return e=arguments[0],d=2<=arguments.length?aX.call(arguments,1):[],ac.unshift("ignore"),f=e.apply(null,d),ac.shift(),f},au.track=function(){var d,e,f;return e=arguments[0],d=2<=arguments.length?aX.call(arguments,1):[],ac.unshift("track"),f=e.apply(null,d),ac.shift(),f},av=function(c){var d;if(null==c&&(c="GET"),"track"===ac[0]){return"force"}if(!ac.length&&ai.ajax){if("socket"===c&&ai.ajax.trackWebSockets){return !0}if(d=c.toUpperCase(),aa.call(ai.ajax.trackMethods,d)>=0){return !0}}return !1},aw=function(c){function d(){var b,e=this;d.__super__.constructor.apply(this,arguments),b=function(g){var h;return h=g.open,g.open=function(a,i,j){return av(a)&&e.trigger("request",{type:a,url:i,request:g}),h.apply(g,arguments)}},window.XMLHttpRequest=function(a){var g;return g=new aH(a),b(g),g};try{aU(window.XMLHttpRequest,aH)}catch(f){}if(null!=aF){window.XDomainRequest=function(){var a;return a=new aF,b(a),a};try{aU(window.XDomainRequest,aF)}catch(f){}}if(null!=aD&&ai.ajax.trackWebSockets){window.WebSocket=function(g,h){var i;return i=null!=h?new aD(g,h):new aD(g),av("socket")&&e.trigger("request",{type:"socket",url:g,protocols:h,request:i}),i};try{aU(window.WebSocket,aD)}catch(f){}}}return a1(d,c),d}(ap),aL=null,aY=function(){return null==aL&&(aL=new aw),aL},at=function(f){var g,h,i,j;for(j=ai.ajax.ignoreURLs,h=0,i=j.length;i>h;h++){if(g=j[h],"string"==typeof g){if(-1!==f.indexOf(g)){return !0}}else{if(g.test(f)){return !0}}}return !1},aY().on("request",function(a){var h,i,j,k,l;return k=a.type,j=a.request,l=a.url,at(l)?void 0:au.running||ai.restartOnRequestAfter===!1&&"force"!==av(k)?void 0:(i=arguments,h=ai.restartOnRequestAfter||0,"boolean"==typeof h&&(h=0),setTimeout(function(){var d,e,f,m,n,o;if(d="socket"===k?j.readyState<2:0<(m=j.readyState)&&4>m){for(au.restart(),n=au.sources,o=[],e=0,f=n.length;f>e;e++){if(ax=n[e],ax instanceof ab){ax.watch.apply(ax,i);break}o.push(void 0)}return o}},h))}),ab=function(){function b(){var c=this;this.elements=[],aY().on("request",function(){return c.watch.apply(c,arguments)})}return b.prototype.watch=function(f){var g,h,i,j;return i=f.type,g=f.request,j=f.url,at(j)?void 0:(h="socket"===i?new aC(g):new aE(g),this.elements.push(h))},b}(),aE=function(){function b(i){var j,k,l,m,n,o,p=this;if(this.progress=0,null!=window.ProgressEvent){for(k=null,i.addEventListener("progress",function(c){return c.lengthComputable?p.progress=100*c.loaded/c.total:p.progress=p.progress+(100-p.progress)/2},!1),o=["load","abort","timeout","error"],l=0,m=o.length;m>l;l++){j=o[l],i.addEventListener(j,function(){return p.progress=100},!1)}}else{n=i.onreadystatechange,i.onreadystatechange=function(){var a;return 0===(a=i.readyState)||4===a?p.progress=100:3===i.readyState&&(p.progress=50),"function"==typeof n?n.apply(null,arguments):void 0}}}return b}(),aC=function(){function b(g){var h,i,j,k,l=this;for(this.progress=0,k=["error","open"],i=0,j=k.length;j>i;i++){h=k[i],g.addEventListener(h,function(){return l.progress=100},!1)}}return b}(),ah=function(){function b(e){var g,h,i,j;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),j=e.selectors,h=0,i=j.length;i>h;h++){g=j[h],this.elements.push(new aj(g))}}return b}(),aj=function(){function b(c){this.selector=c,this.progress=0,this.check()}return b.prototype.check=function(){var c=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return c.check()},ai.elements.checkInterval)},b.prototype.done=function(){return this.progress=100},b}(),af=function(){function b(){var d,e,f=this;this.progress=null!=(e=this.states[document.readyState])?e:100,d=document.onreadystatechange,document.onreadystatechange=function(){return null!=f.states[document.readyState]&&(f.progress=f.states[document.readyState]),"function"==typeof d?d.apply(null,arguments):void 0}}return b.prototype.states={loading:0,interactive:50,complete:100},b}(),al=function(){function b(){var g,h,i,j,k,l=this;this.progress=0,g=0,k=[],j=0,i=ag(),h=setInterval(function(){var a;return a=ag()-i-50,i=ag(),k.push(a),k.length>ai.eventLag.sampleCount&&k.shift(),g=aI(k),++j>=ai.eventLag.minSamples&&g<ai.eventLag.lagThreshold?(l.progress=100,clearInterval(h)):l.progress=100*(3/(g+3))},50)}return b}(),aA=function(){function b(c){this.source=c,this.last=this.sinceLastUpdate=0,this.rate=ai.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=am(this.source,"progress"))}return b.prototype.tick=function(d,e){var f;return null==e&&(e=am(this.source,"progress")),e>=100&&(this.done=!0),e===this.last?this.sinceLastUpdate+=d:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/ai.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*d),f=1-Math.pow(this.progress/100,ai.easeFactor),this.progress+=f*this.rate*d,this.progress=Math.min(this.lastProgress+ai.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},b}(),az=null,aq=null,aK=null,aB=null,aG=null,aM=null,au.running=!1,a0=function(){return ai.restartOnPushState?au.restart():void 0},null!=window.history.pushState&&(aP=window.history.pushState,window.history.pushState=function(){return a0(),aP.apply(window.history,arguments)}),null!=window.history.replaceState&&(aV=window.history.replaceState,window.history.replaceState=function(){return a0(),aV.apply(window.history,arguments)}),ay={ajax:ab,elements:ah,document:af,eventLag:al},(ae=function(){var b,j,k,l,m,n,o,p;for(au.sources=az=[],n=["ajax","elements","document","eventLag"],j=0,l=n.length;l>j;j++){b=n[j],ai[b]!==!1&&az.push(new ay[b](ai[b]))}for(p=null!=(o=ai.extraSources)?o:[],k=0,m=p.length;m>k;k++){ax=p[k],az.push(new ax(ai))}return au.bar=aK=new ad,aq=[],aB=new aA})(),au.stop=function(){return au.trigger("stop"),au.running=!1,aK.destroy(),aM=!0,null!=aG&&("function"==typeof aO&&aO(aG),aG=null),ae()},au.restart=function(){return au.trigger("restart"),au.stop(),au.start()},au.go=function(){var b;return au.running=!0,aK.render(),b=ag(),aM=!1,aG=ao(function(a,j){var m,r,s,x,y,z,A,B,C,D,E,F,G,H,I,J;for(B=100-aK.progress,r=E=0,s=!0,z=F=0,H=az.length;H>F;z=++F){for(ax=az[z],D=null!=aq[z]?aq[z]:aq[z]=[],y=null!=(J=ax.elements)?J:[ax],A=G=0,I=y.length;I>G;A=++G){x=y[A],C=null!=D[A]?D[A]:D[A]=new aA(x),s&=C.done,C.done||(r++,E+=C.tick(a))}}return m=E/r,aK.update(aB.tick(a,m)),aK.done()||s||aM?(aK.update(100),au.trigger("done"),setTimeout(function(){return aK.finish(),au.running=!1,au.trigger("hide")},Math.max(ai.ghostTime,Math.max(ai.minTime-(ag()-b),0)))):j()})},au.start=function(c){aS(ai,c),au.running=!0;try{aK.render()}catch(d){ar=d}return document.querySelector(".pace")?(au.trigger("start"),au.go()):setTimeout(au.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return au}):"object"==typeof exports?module.exports=au:ai.startOnPageLoad&&au.start()}).call(this);
jQuery(document).ready(function(a){a("#btn-search-order").on("click",function(d){d.preventDefault();var f=a("#tbordersearch-status").val();a("#order-search-form").attr("action","/don-hang"+(f?"-"+f:"")).submit()});var c=a("#startDate");var b=a("#endDate");if(c.length&&b.length){c.datepicker({format:"dd/mm/yyyy"});b.datepicker({format:"dd/mm/yyyy"})}a(document).on("click",".number-spinner span.btn",function(){var d=a(this),f=d.closest(".number-spinner").find("input").val().trim(),e=0;if(d.attr("data-dir")=="up"){e=parseInt(f)+1}else{if(f>1){e=parseInt(f)-1}else{e=1}}d.closest(".number-spinner").find("input").val(e);d.closest(".calculate").find(".qty").trigger("blur")})});var users={loadModel:function(){$("#myModal").modal({backdrop:"static",keyboard:false})},closePopup:function(){$(".login-pop-dialog .close").on("click",function(){$(".login-pop-dialog").hide();window.location="/"})},addCart:function(e,b,c){var d=$(e);var a=$(b);var f=1;$(a).click(function(i){i.preventDefault();if(f<=c){f++;var h=(f%2)?"even":"odd";var g='<tr class="pitem '+h+'">\n                        <td style="vertical-align: middle"><span class="badge bg-blue-active">'+f+'</span></td>\n                        <td data-th="Thộc tính sản phẩm">\n                            <div class="input-group">\n                                <input required class="form-control" placeholder="Tên shop" type="text" id="sanpham-item-'+f+'-shopName" name="sanpham_item['+f+'][shopName]">\n                            </div>\n                            <div class="input-group">\n                                <input required class="form-control" placeholder="Link sản phẩm" type="text" id="sanpham-item-'+f+'-link" value="" name="sanpham_item['+f+'][link]">\n                            </div>\n                            <div class="input-group">\n                                <input required class="form-control" placeholder="Link ảnh" type="text" id="link-'+f+'-image" name="sanpham_item['+f+'][image]">\n                            </div>\n\n                        </td>\n                        <td>\n                            <div class="input-group">\n                                <input required class="form-control" placeholder="Tên sản phẩm" type="text" id="sanpham-'+f+'-tensanpham" name="sanpham_item['+f+'][tensanpham]">\n                            </div>\n                            <div class="input-group">\n                                <input required class="form-control form-control" placeholder="Màu sắc" type="text" id="sanpham-'+f+'-color" name="sanpham_item['+f+'][color]" />\n                            </div>\n                            <div class="input-group">\n                                <input required class="form-control form-control" placeholder="Kích thước" type="text" id="sanpham-'+f+'-size" name="sanpham_item['+f+'][size]" />\n                            </div>\n                        </td>\n                        <td class="calculate" >\n                            <div class="input-group number-spinner">\n                                <!--<span class="input-group-btn">\n                                    <span class="btn btn-default" data-dir="dwn"><span class="glyphicon glyphicon-minus"></span></span>\n                                </span>-->\n                                <input required type="text" class="item-qty form-control text-center" value="1" placeholder="Số lượng" onblur="users.update_qty('+f+')" id="sanpham-item-'+f+'-qty" name="sanpham_item['+f+'][qty]">\n                                <!--<span class="input-group-btn">\n                                    <span class="btn btn-default" data-dir="up"><span class="glyphicon glyphicon-plus"></span></span>\n                                </span>-->\n                            </div>\n                            <div class="input-group">\n                                <input required class="item-price form-control" onblur="users.update_qty('+f+')" placeholder="Đơn giá" type="text" id="sanpham-item-'+f+'-price" value="" name="sanpham_item['+f+'][price]">\n                            </div>\n                            <div class="input-group">\n                                <input class="form-control item-price" placeholder="Thành tiền" disabled="disabled" type="text" id="sanpham-item-'+f+'-tongtien" name="sanpham_item['+f+'][tongtien]" value="">\n                            </div>\n                        </td>\n                        <td class="actions">\n                            <textarea class="form-control" placeholder="Ghi chú..." id="sanpham-item-'+f+'-mota" name="sanpham_item['+f+'][mota]"></textarea>\n                        </td>\n                        <td class="text-right">\n                            <a class="icon-delete remove_field btn btn-danger btn-sm"><i class="fa fa-trash-o"></i></a></td>\n                    </tr>';$(d).append(g)}else{alert("Hệ thống chỉ cho phép thêm tối đa "+(c+1)+" sản phẩm.");return false}});$(d).on("click",".remove_field",function(g){g.preventDefault();if(f===1){return false}$(this).parents(".pitem").remove();f--})},update_qty:function(b){var a=jQuery;_qty=a("#sanpham-item-"+b+"-qty").val().replace(",","");_price=a("#sanpham-item-"+b+"-price").val().replace(",","");_tigia=a("span.ti-gia").html();_thanhtien=parseFloat(_price)*parseInt(_qty)*parseInt(_tigia);a("#sanpham-item-"+b+"-tongtien").val(number_format(_thanhtien,0,"",","));_total=0;_dem=0;_totalQty=0},validQuantity:function(a){var b=$(a);b.blur(function(){var c=$(this);var d=c.val();if(!$.isNumeric(d)){c.val(1)}var e=200;if((d<1||d>e)&&d.length!=0){if(d<1){c.val(1)}if(d>e){c.val(e)}$("p.number-valid").fadeIn(2000,function(){$(this).fadeOut(500)})}}).focus(function(){})},validMoney:function(a){var b=$(a);b.blur(function(){$("label.warning").remove();var c=$(this);var d=c.val();if(!$.isNumeric(d)){}}).focus(function(){})}};
var ajax_sendding=false;var main={init:function(){main.cart_delete_item();main.cart_check_all_item();main.shop_cart_delete();if(typeof uid!=="undefined"&&uid>0){main.load_message(uid)}},load_message:function(a){$.ajax({url:"/get-message-"+a,type:"get",success:function(b){if(b.data){$(".total-message").html(b.data.length);var c="";$.each(b.data,function(d,e){c+='<li>                                    <a href="/sms-view-'+e.chat_id+'">                                        <i class="fa fa-shopping-cart text-green"></i>'+e.title+"                                    </a>                                </li>"});$(".sub-messages").html(c)}}})},load_message:function(a){$.ajax({url:"/get-message-"+a,type:"get",success:function(b){if(b.data){$(".total-message").html(b.data.length);var c="";$.each(b.data,function(d,e){c+='<li>                                    <a href="/sms-view-'+e.chat_id+'">\n                                        <div class="pull-left">\n                                            <img src="/file/media/avatar/default_user_icon.png" class="img-circle" alt="User Image">\n                                        </div>\n                                        <h4>'+e.title+'\n                                            <small><i class="fa fa-clock-o"></i> '+e.timestamp+"</small>\n                                        </h4>\n                                        <p>"+e.message+"</p>\n                                    </a>\n                                </li>"});$(".sub-messages").html(c)}}})},load_total_all:function(d){var a=jQuery;var g=a('.row-shop[data-shop_id="'+d+'"]');var f=0;var e=0;var c=0;a.each(g,function(n,m){if(a(m).find(".check-item").is(":checked")){f+=parseInt(a(m).find(".vnd-unit-total b").html().replace(/,/g,""));e+=parseFloat(a(m).find(".china-unit-total b").html());c+=parseInt(a(m).find(".choose-quantity").val())}});e=e>0?e.toFixed(2):0;a(".shop-tong-stt-"+d+" .box-calculate b.tt-vn").html(number_format(f));a(".shop-tong-stt-"+d+" .box-calculate b.tt-te").html(e);a(".shop-tong-stt-"+d+" b.qty").html(c);var h=0,i=0,b=0;a.each(a(".box-calculate b.tt-vn"),function(m,n){h+=parseInt(a(n).html().replace(/,/g,""))});a.each(a(".box-calculate b.tt-te"),function(m,n){i+=parseFloat(a(n).html())});i=i>0?i.toFixed(2):0;var j=0;var k=0;a.each(a(".row-shop"),function(n,m){if(a(m).find(".check-item").is(":checked")){k+=parseInt(a(m).find(".choose-quantity").val())}});var l=0;a.each(a(".shop-item"),function(m,n){l++});a(".totalShopAll").html(l);a(".totalQuantityAll").html(k);a(".totalFinalTQAmountAll").html(i);a(".totalFinalAmountAll").html(number_format(h,0,"",","))},replaceCharacter:/,/g,cart_check_all_item:function(){var a=jQuery;var b=0;ajax_recaller=function(c){a.ajax({type:"POST",data:c[b].serialize(),url:c[b].attr("action"),success:function(d){b++;if(b<c.length){ajax_recaller(c)}else{b=0;a("#myModal").modal("show");a("#modal-content").html('<div style="text-align: center;font-size:16px;"><i class="fa fa-check-circle" style="color:red"></i> Tất cả các shop đã gửi thành công! </div>');setTimeout(function(){window.location.reload(true)},3000)}}})};a(document).on("click",".btn-submit-all",function(){var c=0;a.each(a("input.check-item"),function(){if(a(this).is(":checked")){c++}});if(c<=0){a("#myModal").modal("show");a("#modal-content").html('<div style="text-align: center;font-size:16px;"><i class="fa fa-check-circle" style="color:red"></i> Không có sản phẩm nào được chọn. Xin vui lòng thử lại. </div>');setTimeout(function(){a("#myModal").modal("hide")},3000);return false}var e=0;var d=[];a("form.frm-order").each(function(){d[e]=a(this);e++});ajax_recaller(d)});a("input.btn-check-all").on("ifChanged",function(d){var c=a(".shop-item");var e=a(".shop-check-all").length;if(e>10){a("#myModal").modal("show");a("#modal-content").html('<div style="text-align: center;font-size:16px;"><i class="fa fa-exclamation-triangle" style="color:red"></i> Số lượng đơn hàng gửi vượt quá giới hạn (tối đa 10 đơn). Vui lòng thử lại </div>');setTimeout(function(){a("#myModal").modal("hide")},3000);return false}if(a(this).is(":checked")){c.find("input.shop-check-all").iCheck("check");c.find("input[type=text],input[type=number],select,textarea,button.btnSendBuyNow").prop("disabled",false)}else{c.find("input.shop-check-all").iCheck("uncheck");c.find("input[type=text],input[type=number],select,textarea,button.btnSendBuyNow").prop("disabled",true)}});a("input.shop-check-all").on("ifChanged",function(e){var c=a(this);var d=c.closest(".shop-item");var g=[];var f;if(c.is(":checked")){d.find("input.check-item").prop("checked",true).iCheck("update");d.find("input[type=text],input[type=number],select,textarea,button.btnSendBuyNow").prop("disabled",false);f=1}else{d.find("input.check-item").prop("checked",false).iCheck("update");d.find("input[type=text],input[type=number],select,textarea,button.btnSendBuyNow").prop("disabled",true);f=0}a.each(d.find("input.check-item"),function(k,j){var i=a(j).data("pid");if(a.inArray(i,g)==-1){g.push(i)}});var h=a(d).data("shop_id");main.load_total_all(h);if(ajax_sendding==true){return false}});a("input.check-item").on("ifChanged",function(d){var g=a(this).data("shopid");var f=a(this).data("pid");if(a(this).is(":checked")){a(this).closest(".data-item").find("input[type=number],textarea").prop("disabled",false)}else{a(this).closest(".data-item").find("input[type=number],textarea").prop("disabled",true)}var c=0;var e=0;a.each(a('.check-item[data-shopid="'+g+'"]'),function(h,i){if(a(this).is(":checked")){c++}e++});if(c>0&&c==e){a(this).closest(".shop-item").find("input.shop-check-all").prop("checked",true).iCheck("update")}else{a(this).closest(".shop-item").find("input.shop-check-all").prop("checked",false).iCheck("update")}if(c==0){a(this).closest(".cart-content").find(".box-money").find("input,select,textarea,button").prop("disabled",true)}else{a(this).closest(".cart-content").find(".box-money").find("input,select,textarea,button").prop("disabled",false)}main.cart_update(f,g)})},tallyingCosts:function(d,e){var a=jQuery;var b=false;if(a("input.gio-hang-kiem-hang-"+e).is(":checked")){b=true}var c=orderFee=freeCount=0;var h=parseInt(a(".shop-tong-stt-"+d+" ul li.thanh-tien b.value").text().replace(main.replaceCharacter,""));a(".qty-shop-"+d).each(function(){c+=parseInt(a(this).val())});freeCount=0;orderFee=parseInt(a(".shop-tong-stt-"+d+" ul li.phi-tam-tinh b.value").text().replace(main.replaceCharacter,""));if(b){orderFee=orderFee+freeCount;h=h+orderFee}else{orderFee=orderFee-freeCount;h=h+orderFee;freeCount=0}a(".shop-tong-stt-"+d+" ul li.phi-tam-tinh b.value").html(number_format(orderFee,0,"",","));a(".shop-tong-stt-"+d+" ul li.tong-tien-theo-shop b.value").html(number_format(h,0,"",","));var f=0;a.each(a(".thanh-tien b.value"),function(i,j){f+=parseInt(a(j).html().replace(/,/g,""))});var g=0;a.each(a("ul li.phi-tam-tinh b.value"),function(i,j){g+=parseInt(a(j).html().replace(/,/g,""))});a(".tong-tien-tam-tinh p.tong-tien-hang span b").html(number_format(f,0,"",","));a(".tong-tien-tam-tinh p.phi-dat-hang span b").html(number_format(g,0,"",","));a(".tong-tien-tam-tinh p.tong-tien span b").html(number_format(f+g,0,"",","))},cart_update:function(h,j){var a=jQuery;var c=parseInt(a("input.qty-item-"+h).val());if(isNaN(c)||c<1){return false}var b=a(".china-unit-"+h).attr("data");var f=a(".vnd-unit-"+h).attr("data");var e=f*c;var d=b*c;a(".vnd-unit-total-"+h+" b").html(number_format(e,0,"",","));a(".china-unit-total-"+h+" b").html(d.toFixed(2));main.load_total_all(j);var g=a(".desc-"+h).val();var i=(a("#shop-cart-item-"+h+"-product-check").is(":checked"))?1:0;if(a("body").hasClass("process")){return false}a("body").addClass("process");a.ajax({url:"/update-cart",data:{id:h,qty:c,desc:g,is_check:i},type:"POST",success:function(k){a("body").removeClass("process");window.location.reload(true)},error:function(l,m,k){window.location.reload(true)}});return false},cart_delete_item:function(){var a=jQuery;a("body").on("click",".cart-delete-item",function(){var b=a(this).data("id");if(confirm("Bạn có chắc chắn xóa sản phẩm này?")){a.ajax({url:"/delete-order-item",data:{item_id:b},type:"POST",success:function(c){alert(c.message);window.location.reload(true);return false},error:function(d,e,c){window.location.reload(true);return false}})}return false})},shop_cart_delete:function(){var a=jQuery;a(".shop_cart_delete").on("click",function(){var b=a(this).data("shop");if(confirm("Bạn có chắc chắn muốn xóa tất cả sản phẩm của nhà cung cấp này không ?")){a.ajax({url:"/shop-cart-delete",data:{shop_id:b},type:"POST",success:function(c){alert(c.message);window.location.reload(true)},error:function(d,e,c){}})}return false})},phi_dich_vu:function(a){if(a>0&&a<1000000){return 3}else{if(a>=1000000&&a<2000000){return 2.5}else{if(a>=2000000&&a<10000000){return 2}else{if(a>=10000000&&a<20000000){return 1.9}else{if(a>=20000000&&a<40000000){return 1.8}else{return 1}}}}}},readURL:function(c,b){var a=jQuery;if(c.files&&c.files[0]){var d=new FileReader();d.onload=function(f){a('[data-id="'+b+'"]').children("img").attr("src",f.target.result)};d.readAsDataURL(c.files[0])}},order_deposit:function(b,c,d){var a=jQuery;$type=d;$identify=a(b).data("identify");if(confirm("Bạn có chắc chắn muốn đặt cọc cho đơn hàng "+$identify+" ?")){a(".txt_coc_"+c).html('<img src="/images/loader.gif" />');a.ajax({url:"/xac-nhan-dat-coc",data:{id:c,type:$type},type:"POST",success:function(e){a("#modal-content").css({overflow:"hidden","min-height":"80px"}).html(e.alert);a("#myModal").modal("show");if(e.success&&($type===1||$type===2)){a(".txt_coc_"+c).html(e.content);setTimeout(function(){location.reload()},2000)}},error:function(f,g,e){}});return false}},getFreeCounting:function(a){if(a>=1&&a<=4){$return=5000}else{if(a>=5&&a<=15){$return=3500}else{if(a>=16&&a<=100){$return=2000}else{if(a>=101&&a<=500){$return=1500}else{$return=1000}}}}return $return}};var Notify=function(){var b=$('<div id="notify-alert"></div>').appendTo("body");var c=[];var a=this;this.success=function(d){c.push({type:"success",text:d,icon:"ok-sign"});a.proceedQueue()};this.error=function(d){c.push({type:"danger",text:d,icon:"info-sign"});a.proceedQueue()};this.proceedQueue=function(){if(c.length>0&&!b.is(":visible")){b.removeClass().addClass("alert alert-"+c[0].type).html('<span class="glyphicon glyphicon-'+c[0].icon+'"></span> '+c[0].text);b.fadeToggle();setTimeout(function(){c.splice(0,1);b.fadeToggle(function(){a.proceedQueue()})},3000)}}};var format=function(e){var h=e.toString().replace("$",""),g=false,f=[],b=1,a=null;if(h.indexOf(".")>0){g=h.split(".");h=g[0]}h=h.split("").reverse();for(var c=0,d=h.length;c<d;c++){if(h[c]!=","){f.push(h[c]);if(b%3==0&&c<(d-1)){f.push(",")}b++}}a=f.reverse().join("");return(a+((g)?"."+g[1].substr(0,2):""))};function number_format(e,c,b,i){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var d=!isFinite(+e)?0:+e,f=!isFinite(+c)?0:Math.abs(c),h=(typeof i==="undefined")?",":i,a=(typeof b==="undefined")?".":b,g="",j=function(m,o){var l=Math.pow(10,o);return""+(Math.round(m*l)/l).toFixed(o)};g=(f?j(d,f):""+Math.round(d)).split(".");if(g[0].length>3){g[0]=g[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,h)}if((g[1]||"").length<f){g[1]=g[1]||"";g[1]+=new Array(f-g[1].length+1).join("0")}return g.join(a)}jQuery(document).ready(function(a){var a=jQuery;a("ul.nav li.dropdown").hover(function(){a(this).find(".dropdown-menu").stop(true,true).delay(200).fadeIn(500)},function(){a(this).find(".dropdown-menu").stop(true,true).delay(200).fadeOut(500)});a(".up_num").on("click",function(){var c=a(this).closest(".input-quantity").find(".choose-quantity");var d=c.attr("disabled");if(typeof d!==typeof undefined&&d!==false){return false}var f=parseInt(c.val());var g=a(this).data("shopid");var e=a(this).data("pid");f=f>0?f:1;f++;c.val(f);main.cart_update(e,g)});a(".down_num").on("click",function(){var c=a(this).closest(".input-quantity").find(".choose-quantity");var d=c.attr("disabled");if(typeof d!==typeof undefined&&d!==false){return false}var f=parseInt(c.val());var g=a(this).data("shopid");var e=a(this).data("pid");if(f<=1){return false}f--;f=f>0?f:1;c.val(f);main.cart_update(e,g)});a("input[type=checkbox]").iCheck({checkboxClass:"icheckbox_minimal-blue",radioClass:"iradio_minimal-blue",increaseArea:"20%"});a(".currency").keyup(function(c){a(this).val(format(a(this).val()))});a(".currency").each(function(c,d){a(this).val(format(a(this).val()));$price=parseInt(a(this).text(),10);a(this).html(format($price))});var b=a("#edit-keyword");if(b.length){b.autocomplete({minLength:1,source:function(c,d){var e;if(e!=null){e.abort();e=null}e=a.ajax({url:"/tim-kiem",dataType:"json",type:"POST",data:{keyword:c.term},beforeSend:function(){a("#modal-content").parent(".form-item-keyword").html('<div style="text-align: center;padding-top: 150px"><img src="/images/loader.gif"/></div>')},success:function(f){if(f){d(a.map(f,function(g,h){return{label:g,value:h}}))}}})}})}});jQuery(document).ready(function(a){var a=jQuery;var b=window.location.hash;a(b).css({color:"red",border:"1px solid red",padding:"5px"});a("a.search-form").click(function(){a("form.don-hang-da-dat-search-form").submit()});a("#tabSearch ul > li > a").click(function(){var d=a(this).data("action");var e="https://world.taobao.com/search/search.htm";switch(d){case 1:a(this).closest("form").attr("accept-charset","GB18030");a(this).closest("form").find("input[id=edit-keyword]").attr("name","q");e="https://world.taobao.com/search/search.htm";break;case 2:a(this).closest("form").attr("accept-charset","GB18030");e="https://s.1688.com/selloffer/offer_search.htm";a(this).closest("form").find("input[id=edit-keyword]").attr("name","keywords");break;case 3:a(this).closest("form").attr("accept-charset","gbk");a(this).closest("form").attr("acceptcharset","gbk");e="//list.tmall.com/search_product.htm";a(this).closest("form").find("input[id=edit-keyword]").attr("name","q");break;case 4:e="http://www.baidu.com/s";a(this).closest("form").find("input[id=edit-keyword]").attr("name","wd");break}a(this).closest("form").attr("action",e)});a("#edit-submit").on("click",function(d){a("#search-add-form").submit();return false});a(".olay-css").click(function(){if(a(this).css("display")=="block"){a(".search-text ul.search-hover").hide();a(this).hide()}});a("form.don-hang-gio-hang-add-form .shop-item h3 input").click(function(){if(a(this).is(":checked")){a(this).parent().parent().children(".data-item").children("tbody").children("tr").children("td").children("div.form-type-checkbox").children("input.form-checkbox").attr("checked","checked")}else{a(this).parent().parent().children(".data-item").children("tbody").children("tr").children("td").children("div.form-type-checkbox").children("input.form-checkbox").attr("checked","")}});a(".dia-chi-giao-hang-inner ul li").click(function(){a(".dia-chi-giao-hang-inner ul li").removeClass("selected");a(this).addClass("selected")});a(".don-vi-van-chuyen span").click(function(){a(".don-vi-van-chuyen span").removeClass("selected");a(this).addClass("selected")});a(".hinh-thuc-thanh-toan span").click(function(){a(".hinh-thuc-thanh-toan span").removeClass("selected");a(this).addClass("selected")});var c=setInterval(function(){a("#jGrowl").fadeOut()},5000);a(".close-jGrowl").click(function(){a("#jGrowl").fadeOut()})});(function(a){window.notify=new Notify();a.each(a("#tbcomplain-type input:radio"),function(e,f){if(a(this).is(":checked")){var c=a(this);var d=c.val();a.ajax({url:"ajax-check",type:"post",dataType:"json",data:{id:a("#orderID").val(),type:d},beforeSend:function(){a(".form-wrapper").html("");c.after('<div class="ajax-progress"><div class="waiting">&nbsp;</div><div class="message">Vui lòng đợi...</div></div>')},success:function(g){a(".ajax-progress").remove();a(".form-wrapper").fadeIn(500).html(g)},error:function(){a(".ajax-progress").remove()}})}});a(document).on("click","#tbcomplain-type input:radio",function(c){var d=a(this);var f=d.val();a.ajax({url:"ajax-check",type:"post",dataType:"json",data:{id:a("#orderID").val(),type:f},beforeSend:function(){a(".form-wrapper").html("");d.after('<div class="ajax-progress"><div class="waiting">&nbsp;</div><div class="message">Vui lòng đợi...</div></div>')},success:function(e){a(".ajax-progress").remove();a(".form-wrapper").fadeIn(500).html(e)},error:function(){a(".ajax-progress").remove()}})});a(document).on("click","table.sticky-table .form-textarea",function(){var c=a(this);$id=c.data("id");var e=c.closest("tr").find(".file_img-"+$id).val();var d=c.closest("tr").find("div.hinh-anh input.form-checkbox");if(a(d).is(":checked")&&e){c.prop("readonly",0)}else{c.prop("readonly",1)}return false});a(".currency").keyup(function(c){a(this).val(format(a(this).val()))});a(".currency").each(function(c,d){a(this).val(format(a(this).val()))});var b=0;a(document).on("click",".upload-anh",function(){b=a(this).data("id");a("#photo-file").trigger("click")});a(document).on("change","#photo-file",function(){main.readURL(this,b);var c=a(this);var e=c.prop("files");var d=e[0];if(/^image\/(jpeg|png|gif)$/.test(d.type)){var f=new FormData();f.append("Photo[image]",d);f.append("pid",b);a.ajax({url:c.closest("form").attr("action"),dataType:"json",cache:false,contentType:false,processData:false,data:f,type:"post",success:function(g){if(g.result==="success"){a(".file_img-"+b).val(g.photo.id)}else{alert(g.error)}if(typeof callback==="function"){callback()}}})}});a(".kh-active").parents("ul").show().prev("h3").find("a").removeClass("fa-angle-right").addClass("fa-angle-down");a(".menu-info-left h3").click(function(){a(".menu-info-left h3 a").removeClass("fa-angle-down").addClass("fa-angle-right");if(a(this).find("a").hasClass("fa-angle-right")){a(this).find("a").removeClass("fa-angle-right").addClass("fa-angle-down")}else{a(this).find("a").removeClass("fa-angle-down").addClass("fa-angle-right")}a(this).next().slideToggle().siblings("ul.sub-menu").slideUp();return false});a("#tbmember-citycode").on("change",function(){var c=a(this).val();if(c!=""){a.ajax({type:"POST",url:"get-district",data:{id:c},success:function(e){var d=a("#edit-quanhuyen");d.empty();if(e.data.length){a.each(e.data,function(f,g){d.append("<option id="+g.DistrictId+" value="+g.DistrictId+">"+g.DistrictName+"</option>")})}}})}});a(document).on("click",".refresh-captcha",function(c){c.preventDefault();a("img[class$='my-captcha']").trigger("click")});a(document).on("click","#refresh-captcha",function(c){c.preventDefault();a("img[id='my-captcha']").trigger("click")});a(".cart-user a span").load("/get-cart")})(jQuery);
!function(ao,a1){function aL(a,f){for(var c,b=[],d=0;d<a.length;++d){if(c=aY[a[d]]||aO(a[d]),!c){throw"module definition dependecy not found: "+a[d]}b.push(c)}f.apply(null,b)}function az(a,b,c){if("string"!=typeof a){throw"invalid module definition, module id must be defined and be a string"}if(b===a1){throw"invalid module definition, dependencies must be specified"}if(c===a1){throw"invalid module definition, definition function must be specified"}aL(b,function(){aY[a]=c.apply(null,arguments)})}function aV(a){return !!aY[a]}function aO(d){for(var b=ao,a=d.split(/[.\/]/),c=0;c<a.length;++c){if(!b[a[c]]){return}b=b[a[c]]}return b}function ac(d){for(var c=0;c<d.length;c++){for(var f=ao,e=d[c],b=e.split(/[.\/]/),g=0;g<b.length-1;++g){f[b[g]]===a1&&(f[b[g]]={}),f=f[b[g]]}f[b[b.length-1]]=aY[e]}}var aY={},a4="moxie/core/utils/Basic",ai="moxie/core/utils/Env",aG="moxie/core/I18n",al="moxie/core/utils/Mime",ar="moxie/core/utils/Dom",ax="moxie/core/Exceptions",aR="moxie/core/EventTarget",aJ="moxie/runtime/Runtime",av="moxie/runtime/RuntimeClient",a7="moxie/file/FileInput",a9="moxie/core/utils/Encode",bd="moxie/file/Blob",ap="moxie/file/File",ab="moxie/file/FileDrop",ag="moxie/file/FileReader",bb="moxie/core/utils/Url",aW="moxie/runtime/RuntimeTarget",aZ="moxie/file/FileReaderSync",ad="moxie/xhr/FormData",a2="moxie/xhr/XMLHttpRequest",aA="moxie/runtime/Transporter",aP="moxie/image/Image",am="moxie/runtime/html5/Runtime",aM="moxie/core/utils/Events",aH="moxie/runtime/html5/file/FileInput",aK="moxie/runtime/html5/file/Blob",aj="moxie/runtime/html5/file/FileDrop",at="moxie/runtime/html5/file/FileReader",aS="moxie/runtime/html5/xhr/XMLHttpRequest",ay="moxie/runtime/html5/utils/BinaryReader",aE="moxie/runtime/html5/image/JPEGHeaders",ah="moxie/runtime/html5/image/ExifParser",aw="moxie/runtime/html5/image/JPEG",a5="moxie/runtime/html5/image/PNG",bf="moxie/runtime/html5/image/ImageInfo",aT="moxie/runtime/html5/image/MegaPixel",bc="moxie/runtime/html5/image/Image",aC="moxie/runtime/flash/Runtime",a8="moxie/runtime/flash/file/FileInput",ba="moxie/runtime/flash/file/Blob",be="moxie/runtime/flash/file/FileReader",aa="moxie/runtime/flash/file/FileReaderSync",aD="moxie/runtime/flash/xhr/XMLHttpRequest",bg="moxie/runtime/flash/runtime/Transporter",aF="moxie/runtime/flash/image/Image",aU="moxie/runtime/silverlight/Runtime",aq="moxie/runtime/silverlight/file/FileInput",a3="moxie/runtime/silverlight/file/Blob",aN="moxie/runtime/silverlight/file/FileDrop",aB="moxie/runtime/silverlight/file/FileReader",aX="moxie/runtime/silverlight/file/FileReaderSync",aQ="moxie/runtime/silverlight/xhr/XMLHttpRequest",af="moxie/runtime/silverlight/runtime/Transporter",a0="moxie/runtime/silverlight/image/Image",a6="moxie/runtime/html4/Runtime",ak="moxie/runtime/html4/file/FileInput",aI="moxie/runtime/html4/file/FileReader",an="moxie/runtime/html4/xhr/XMLHttpRequest",au="moxie/runtime/html4/image/Image";az(a4,[],function(){var k=function(a){var c;return a===c?"undefined":null===a?"null":a.nodeType?"node":{}.toString.call(a).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},A=function(a){var c;return w(arguments,function(d,e){e>0&&w(d,function(f,h){f!==c&&(k(a[h])===k(f)&&~b(k(f),["array","object"])?A(a[h],f):a[h]=f)})}),a},w=function(d,u){var h,f,s,l;if(d){try{h=d.length}catch(c){h=l}if(h===l){for(f in d){if(d.hasOwnProperty(f)&&u(d[f],f)===!1){return}}}else{for(s=0;h>s;s++){if(u(d[s],s)===!1){return}}}}},q=function(c){var a;if(!c||"object"!==k(c)){return !0}for(a in c){return !1}return !0},y=function(f,c){function a(h){"function"===k(f[h])&&f[h](function(i){++h<d&&!i?a(h):c(i)})}var e=0,d=f.length;"function"!==k(c)&&(c=function(){}),f&&f.length||c(),a(e)},x=function(a,h){var c=0,f=a.length,d=new Array(f);w(a,function(i,l){i(function(o){if(o){return h(o)}var n=[].slice.call(arguments);n.shift(),d[l]=n,c++,c===f&&(d.unshift(null),h.apply(this,d))})})},b=function(a,f){if(f){if(Array.prototype.indexOf){return Array.prototype.indexOf.call(f,a)}for(var d=0,c=f.length;c>d;d++){if(f[d]===a){return d}}}return -1},z=function(e,c){var a=[];"array"!==k(e)&&(e=[e]),"array"!==k(c)&&(c=[c]);for(var d in e){-1===b(e[d],c)&&a.push(e[d])}return a.length?a:!1},B=function(a,d){var c=[];return w(a,function(f){-1!==b(f,d)&&c.push(f)}),c.length?c:null},g=function(a){var d,c=[];for(d=0;d<a.length;d++){c[d]=a[d]}return c},v=function(){var a=0;return function(e){var d=(new Date).getTime().toString(32),c;for(c=0;5>c;c++){d+=Math.floor(65535*Math.random()).toString(32)}return(e||"o_")+d+(a++).toString(32)}}(),j=function(a){return a?String.prototype.trim?String.prototype.trim.call(a):a.toString().replace(/^\s*/,"").replace(/\s*$/,""):a},m=function(a){if("string"!=typeof a){return a}var d={t:1099511627776,g:1073741824,m:1048576,k:1024},c;return a=/^([0-9\.]+)([tmgk]?)$/.exec(a.toLowerCase().replace(/[^0-9\.tmkg]/g,"")),c=a[2],a=+a[1],d.hasOwnProperty(c)&&(a*=d[c]),Math.floor(a)},p=function(c){var a=[].slice.call(arguments,1);return c.replace(/%[a-z]/g,function(){var d=a.shift();return"undefined"!==k(d)?d:""})};return{guid:v,typeOf:k,extend:A,each:w,isEmptyObj:q,inSeries:y,inParallel:x,inArray:b,arrayDiff:z,arrayIntersect:B,toArray:g,trim:j,sprintf:p,parseSizeStr:m}}),az(ai,[a4],function(a){function f(h,q,k){var j=0,m=0,l=0,g={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},p=function(i){return i=(""+i).replace(/[_\-+]/g,"."),i=i.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),i.length?i.split("."):[-8]},v=function(i){return i?isNaN(i)?g[i]||-7:parseInt(i,10):0};for(h=p(h),q=p(q),m=Math.max(h.length,q.length),j=0;m>j;j++){if(h[j]!=q[j]){if(h[j]=v(h[j]),q[j]=v(q[j]),h[j]<q[j]){l=-1;break}if(h[j]>q[j]){l=1;break}}}if(!k){return l}switch(k){case">":case"gt":return l>0;case">=":case"ge":return l>=0;case"<=":case"le":return 0>=l;case"==":case"=":case"eq":return 0===l;case"<>":case"!=":case"ne":return 0!==l;case"":case"<":case"lt":return 0>l;default:return null}}var c=function(x){var M="",H="?",D="function",K="undefined",I="object",j="major",L="model",N="name",k="type",F="vendor",q="version",A="architecture",C="console",J="mobile",G="tablet",B={has:function(g,h){return -1!==h.toLowerCase().indexOf(g.toLowerCase())},lowerize:function(g){return g.toLowerCase()}},O={rgx:function(){for(var E,v=0,e,y,R,g,r,i,m=arguments;v<m.length;v+=2){var o=m[v],w=m[v+1];if(typeof E===K){E={};for(R in w){g=w[R],typeof g===I?E[g[0]]=x:E[g]=x}}for(e=y=0;e<o.length;e++){if(r=o[e].exec(this.getUA())){for(R=0;R<w.length;R++){i=r[++y],g=w[R],typeof g===I&&g.length>0?2==g.length?typeof g[1]==D?E[g[0]]=g[1].call(this,i):E[g[0]]=g[1]:3==g.length?typeof g[1]!==D||g[1].exec&&g[1].test?E[g[0]]=i?i.replace(g[1],g[2]):x:E[g[0]]=i?g[1].call(this,i,g[2]):x:4==g.length&&(E[g[0]]=i?g[3].call(this,i.replace(g[1],g[2])):x):E[g]=i?i:x}break}}if(r){break}}return E},str:function(l,g){for(var h in g){if(typeof g[h]===I&&g[h].length>0){for(var e=0;e<g[h].length;e++){if(B.has(g[h][e],l)){return h===H?x:h}}}else{if(B.has(g[h],l)){return h===H?x:h}}}return l}},P={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},Q={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[N,q],[/\s(opr)\/([\w\.]+)/i],[[N,"Opera"],q],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi)\/([\w\.-]+)/i],[N,q],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[N,"IE"],q],[/(edge)\/((\d+)?[\w\.]+)/i],[N,q],[/(yabrowser)\/([\w\.]+)/i],[[N,"Yandex"],q],[/(comodo_dragon)\/([\w\.]+)/i],[[N,/_/g," "],q],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[N,q],[/(dolfin)\/([\w\.]+)/i],[[N,"Dolphin"],q],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[N,"Chrome"],q],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[q,[N,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[q,[N,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[q,[N,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[q,[N,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[q,N],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[N,[q,O.str,P.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[N,q],[/(navigator|netscape)\/([\w\.-]+)/i],[[N,"Netscape"],q],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[N,q]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[q,[N,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[N,q],[/rv\:([\w\.]+).*(gecko)/i],[q,N]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[N,q],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[N,[q,O.str,P.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[N,"Windows"],[q,O.str,P.os.windows.version]],[/\((bb)(10);/i],[[N,"BlackBerry"],q],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[N,q],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[N,"Symbian"],q],[/\((series40);/i],[N],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[N,"Firefox OS"],q],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[N,q],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[N,"Chromium OS"],q],[/(sunos)\s?([\w\.]+\d)*/i],[[N,"Solaris"],q],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[N,q],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[N,"iOS"],[q,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[N,"Mac OS"],[q,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[N,q]]},z=function(g){var h=g||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:M);this.getBrowser=function(){return O.rgx.apply(this,Q.browser)},this.getEngine=function(){return O.rgx.apply(this,Q.engine)},this.getOS=function(){return O.rgx.apply(this,Q.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return h},this.setUA=function(i){return h=i,this},this.setUA(h)};return(new z).getResult()}(),b=function(){var e={define_property:function(){return !1}(),create_canvas:function(){var g=document.createElement("canvas");return !(!g.getContext||!g.getContext("2d"))}(),return_response_type:function(j){try{if(-1!==a.inArray(j,["","text","document"])){return !0}if(window.XMLHttpRequest){var h=new XMLHttpRequest;if(h.open("get","/"),"responseType" in h){return h.responseType=j,h.responseType!==j?!1:!0}}}catch(g){}return !1},use_data_uri:function(){var g=new Image;return g.onload=function(){e.use_data_uri=1===g.width&&1===g.height},setTimeout(function(){g.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="},1),!1}(),use_data_uri_over32kb:function(){return e.use_data_uri&&("IE"!==d.browser||d.version>=9)},use_data_uri_of:function(g){return e.use_data_uri&&33000>g||e.use_data_uri_over32kb()},use_fileinput:function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/)){return !1}var g=document.createElement("input");return g.setAttribute("type","file"),!g.disabled}};return function(h){var g=[].slice.call(arguments);return g.shift(),"function"===a.typeOf(e[h])?e[h].apply(this,g):!!e[h]}}(),d={can:b,browser:c.browser.name,version:parseFloat(c.browser.major),os:c.os.name,osVersion:c.os.version,verComp:f,swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};return d.OS=d.os,d}),az(aG,[a4],function(a){var b={};return{addI18n:function(c){return a.extend(b,c)},translate:function(c){return b[c]||c},_:function(c){return this.translate(c)},sprintf:function(d){var c=[].slice.call(arguments,1);return d.replace(/%[a-z]/g,function(){var e=c.shift();return"undefined"!==a.typeOf(e)?e:""})}}}),az(al,[a4,aG],function(a,d){var c="application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe",b={mimes:{},extensions:{},addMimeType:function(f){var k=f.split(/,/),h,g,j;for(h=0;h<k.length;h+=2){for(j=k[h+1].split(/ /),g=0;g<j.length;g++){this.mimes[j[g]]=k[h]}this.extensions[k[h]]=j}},extList2mimes:function(l,g){var f=this,j,h,e,k,m=[];for(h=0;h<l.length;h++){for(j=l[h].extensions.split(/\s*,\s*/),e=0;e<j.length;e++){if("*"===j[e]){return[]}if(k=f.mimes[j[e]],k&&-1===a.inArray(k,m)&&m.push(k),g&&/^\w+$/.test(j[e])){m.push("."+j[e])}else{if(!k){return[]}}}}return m},mimes2exts:function(g){var f=this,e=[];return a.each(g,function(i){if("*"===i){return e=[],!1}var h=i.match(/^(\w+)\/(\*|\w+)$/);h&&("*"===h[2]?a.each(f.extensions,function(j,k){new RegExp("^"+h[1]+"/").test(k)&&[].push.apply(e,f.extensions[k])}):f.extensions[i]&&[].push.apply(e,f.extensions[i]))}),e},mimes2extList:function(f){var e=[],g=[];return"string"===a.typeOf(f)&&(f=a.trim(f).split(/\s*,\s*/)),g=this.mimes2exts(f),e.push({title:d.translate("Files"),extensions:g.length?g.join(","):"*"}),e.mimes=f,e},getFileExtension:function(f){var g=f&&f.match(/\.([^.]+)$/);return g?g[1].toLowerCase():""},getFileMime:function(f){return this.mimes[this.getFileExtension(f)]||""}};return b.addMimeType(c),b}),az(ar,[ai],function(c){var k=function(a){return"string"!=typeof a?a:document.getElementById(a)},f=function(a,l){if(!a.className){return !1}var i=new RegExp("(^|\\s+)"+l+"(\\s+|$)");return i.test(a.className)},d=function(a,i){f(a,i)||(a.className=a.className?a.className.replace(/\s+$/,"")+" "+i:i)},h=function(a,l){if(a.className){var i=new RegExp("(^|\\s+)"+l+"(\\s+|$)");a.className=a.className.replace(i,function(m,p,o){return" "===p&&" "===o?" ":""})}},g=function(a,i){return a.currentStyle?a.currentStyle[i]:window.getComputedStyle?window.getComputedStyle(a,null)[i]:void 0},b=function(x,p){function m(a){var z,s,o=0,u=0;return a&&(s=a.getBoundingClientRect(),z="CSS1Compat"===w.compatMode?w.documentElement:w.body,o=s.left+z.scrollLeft,u=s.top+z.scrollTop),{x:o,y:u}}var v=0,q=0,e,w=document,y,l;if(x=x,p=p||w.body,x&&x.getBoundingClientRect&&"IE"===c.browser&&(!w.documentMode||w.documentMode<8)){return y=m(x),l=m(p),{x:y.x-l.x,y:y.y-l.y}}for(e=x;e&&e!=p&&e.nodeType;){v+=e.offsetLeft||0,q+=e.offsetTop||0,e=e.offsetParent}for(e=x.parentNode;e&&e!=p&&e.nodeType;){v-=e.scrollLeft||0,q-=e.scrollTop||0,e=e.parentNode}return{x:v,y:q}},j=function(a){return{w:a.offsetWidth||a.clientWidth,h:a.offsetHeight||a.clientHeight}};return{get:k,hasClass:f,addClass:d,removeClass:h,getStyle:g,getPos:b,getSize:j}}),az(ax,[a4],function(a){function b(c,f){var d;for(d in c){if(c[d]===f){return d}}return null}return{RuntimeError:function(){function d(f){this.code=f,this.name=b(c,f),this.message=this.name+": RuntimeError "+this.code}var c={NOT_INIT_ERR:1,NOT_SUPPORTED_ERR:9,JS_ERR:4};return a.extend(d,c),d.prototype=Error.prototype,d}(),OperationNotAllowedException:function(){function c(d){this.code=d,this.name="OperationNotAllowedException"}return a.extend(c,{NOT_ALLOWED_ERR:1}),c.prototype=Error.prototype,c}(),ImageError:function(){function d(f){this.code=f,this.name=b(c,f),this.message=this.name+": ImageError "+this.code}var c={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2};return a.extend(d,c),d.prototype=Error.prototype,d}(),FileException:function(){function d(f){this.code=f,this.name=b(c,f),this.message=this.name+": FileException "+this.code}var c={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return a.extend(d,c),d.prototype=Error.prototype,d}(),DOMException:function(){function d(f){this.code=f,this.name=b(c,f),this.message=this.name+": DOMException "+this.code}var c={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return a.extend(d,c),d.prototype=Error.prototype,d}(),EventException:function(){function c(d){this.code=d,this.name="EventException"}return a.extend(c,{UNSPECIFIED_EVENT_TYPE_ERR:0}),c.prototype=Error.prototype,c}()}}),az(aR,[ai,ax,a4],function(a,d,c){function b(){var f={};c.extend(this,{uid:null,init:function(){this.uid||(this.uid=c.guid("uid_"))},addEventListener:function(l,g,j,h){var e=this,k;return this.hasOwnProperty("uid")||(this.uid=c.guid("uid_")),l=c.trim(l),/\s/.test(l)?void c.each(l.split(/\s+/),function(i){e.addEventListener(i,g,j,h)}):(l=l.toLowerCase(),j=parseInt(j,10)||0,k=f[this.uid]&&f[this.uid][l]||[],k.push({fn:g,priority:j,scope:h||this}),f[this.uid]||(f[this.uid]={}),void (f[this.uid][l]=k))},hasEventListener:function(e){return e?!(!f[this.uid]||!f[this.uid][e]):!!f[this.uid]},removeEventListener:function(j,e){j=j.toLowerCase();var h=f[this.uid]&&f[this.uid][j],g;if(h){if(e){for(g=h.length-1;g>=0;g--){if(h[g].fn===e){h.splice(g,1);break}}}else{h=[]}h.length||(delete f[this.uid][j],c.isEmptyObj(f[this.uid])&&delete f[this.uid])}},removeAllEventListeners:function(){f[this.uid]&&delete f[this.uid]},dispatchEvent:function(j){var n,m,e,p,q={},g=!0,k;if("string"!==c.typeOf(j)){if(p=j,"string"!==c.typeOf(p.type)){throw new d.EventException(d.EventException.UNSPECIFIED_EVENT_TYPE_ERR)}j=p.type,p.total!==k&&p.loaded!==k&&(q.total=p.total,q.loaded=p.loaded),q.async=p.async||!1}if(-1!==j.indexOf("::")?!function(i){n=i[0],j=i[1]}(j.split("::")):n=this.uid,j=j.toLowerCase(),m=f[n]&&f[n][j]){m.sort(function(i,l){return l.priority-i.priority}),e=[].slice.call(arguments),e.shift(),q.type=j,e.unshift(q);var h=[];c.each(m,function(i){e[0].target=i.scope,h.push(q.async?function(l){setTimeout(function(){l(i.fn.apply(i.scope,e)===!1)},1)}:function(l){l(i.fn.apply(i.scope,e)===!1)})}),h.length&&c.inSeries(h,function(i){g=!i})}return g},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},handleEventProps:function(g){var h=this;this.bind(g.join(" "),function(i){var j="on"+i.type.toLowerCase();"function"===c.typeOf(this[j])&&this[j].apply(this,arguments)}),c.each(g,function(i){i="on"+i.toLowerCase(i),"undefined"===c.typeOf(h[i])&&(h[i]=null)})}})}return b.instance=new b,b}),az(aJ,[ai,a4,ar,aR],function(c,j,f,d){function h(m,p,r,t,v){var a=this,q,k=j.guid(p+"_"),n=v||"browser";m=m||{},b[k]=this,r=j.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},r),m.preferred_caps&&(n=h.getMode(t,m.preferred_caps,n)),q=function(){var i={};return{exec:function(s,l,e,o){return q[l]&&(i[s]||(i[s]={context:this,instance:new q[l]}),i[s].instance[e])?i[s].instance[e].apply(this,o):void 0},removeInstance:function(e){delete i[e]},removeAllInstances:function(){var e=this;j.each(i,function(l,o){"function"===j.typeOf(l.instance.destroy)&&l.instance.destroy.call(l.context),e.removeInstance(o)})}}}(),j.extend(this,{initialized:!1,uid:k,type:p,mode:h.getMode(t,m.required_caps,n),shimid:k+"_container",clients:0,options:m,can:function(o,u){var s=arguments[2]||r;if("string"===j.typeOf(o)&&"undefined"===j.typeOf(u)&&(o=h.parseCaps(o)),"object"===j.typeOf(o)){for(var l in o){if(!this.can(l,o[l],s)){return !1}}return !0}return"function"===j.typeOf(s[o])?s[o].call(this,u):u===s[o]},getShimContainer:function(){var l,o=f.get(this.shimid);return o||(l=this.options.container?f.get(this.options.container):document.body,o=document.createElement("div"),o.id=this.shimid,o.className="moxie-shim moxie-shim-"+this.type,j.extend(o.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),l.appendChild(o),l=null),o},getShim:function(){return q},shimExec:function(i,o){var l=[].slice.call(arguments,2);return a.getShim().exec.call(this,this.uid,i,o,l)},exec:function(i,o){var l=[].slice.call(arguments,2);return a[i]&&a[i][o]?a[i][o].apply(this,l):a.shimExec.apply(this,arguments)},destroy:function(){if(a){var i=f.get(this.shimid);i&&i.parentNode.removeChild(i),q&&q.removeAllInstances(),this.unbindAll(),delete b[this.uid],this.uid=null,k=a=q=i=null}}}),this.mode&&m.required_caps&&!this.can(m.required_caps)&&(this.mode=!1)}var g={},b={};return h.order="html5,flash,silverlight,html4",h.getRuntime=function(a){return b[a]?b[a]:!1},h.addConstructor=function(a,i){i.prototype=d.instance,g[a]=i},h.getConstructor=function(a){return g[a]||null},h.getInfo=function(a){var i=h.getRuntime(a);return i?{uid:i.uid,type:i.type,mode:i.mode,can:function(){return i.can.apply(i,arguments)}}:null},h.parseCaps=function(a){var i={};return"string"!==j.typeOf(a)?a||{}:(j.each(a.split(","),function(k){i[k]=!0}),i)},h.can=function(a,p){var l,k=h.getConstructor(a),m;return k?(l=new k({required_caps:p}),m=l.mode,l.destroy(),!!m):!1},h.thatCan=function(a,m){var l=(m||h.order).split(/\s*,\s*/);for(var k in l){if(h.can(l[k],a)){return l[k]}}return null},h.getMode=function(a,l,k){var m=null;if("undefined"===j.typeOf(k)&&(k="browser"),l&&!j.isEmptyObj(a)){if(j.each(l,function(p,e){if(a.hasOwnProperty(e)){var q=a[e](p);if("string"==typeof q&&(q=[q]),m){if(!(m=j.arrayIntersect(m,q))){return m=!1}}else{m=q}}}),m){return -1!==j.inArray(k,m)?k:m[0]}if(m===!1){return !1}}return k},h.capTrue=function(){return !0},h.capFalse=function(){return !1},h.capTest=function(a){return function(){return !!a}},h}),az(av,[ai,ax,a4,aJ],function(a,f,c,b){return function d(){var g;c.extend(this,{connectRuntime:function(i){function h(k){var l,m;return k.length?(l=k.shift().toLowerCase(),(m=b.getConstructor(l))?(g=new m(i),g.bind("Init",function(){g.initialized=!0,setTimeout(function(){g.clients++,e.trigger("RuntimeInit",g)},1)}),g.bind("Error",function(){g.destroy(),h(k)}),g.mode?void g.init():void g.trigger("Error")):void h(k)):(e.trigger("RuntimeError",new f.RuntimeError(f.RuntimeError.NOT_INIT_ERR)),void (g=null))}var e=this,j;if("string"===c.typeOf(i)?j=i:"string"===c.typeOf(i.ruid)&&(j=i.ruid),j){if(g=b.getRuntime(j)){return g.clients++,g}throw new f.RuntimeError(f.RuntimeError.NOT_INIT_ERR)}h((i.runtime_order||b.order).split(/\s*,\s*/))},disconnectRuntime:function(){g&&--g.clients<=0&&g.destroy(),g=null},getRuntime:function(){return g&&g.uid?g:g=null},exec:function(){return g?g.exec.apply(this,arguments):null}})}}),az(a7,[a4,ai,al,ar,ax,aR,aG,aJ,av],function(f,q,j,g,m,k,b,p,v){function d(n){var l=this,a,e,i;if(-1!==f.inArray(f.typeOf(n),["string","node"])&&(n={browse_button:n}),e=g.get(n.browse_button),!e){throw new m.DOMException(m.DOMException.NOT_FOUND_ERR)}i={accept:[{title:b.translate("All Files"),extensions:"*"}],name:"file",multiple:!1,required_caps:!1,container:e.parentNode||document.body},n=f.extend({},i,n),"string"==typeof n.required_caps&&(n.required_caps=p.parseCaps(n.required_caps)),"string"==typeof n.accept&&(n.accept=j.mimes2extList(n.accept)),a=g.get(n.container),a||(a=document.body),"static"===g.getStyle(a,"position")&&(a.style.position="relative"),a=e=null,v.call(l),f.extend(l,{uid:f.guid("uid_"),ruid:null,shimid:null,files:null,init:function(){l.bind("RuntimeInit",function(c,o){l.ruid=o.uid,l.shimid=o.shimid,l.bind("Ready",function(){l.trigger("Refresh")},999),l.bind("Refresh",function(){var t,u,r,w;r=g.get(n.browse_button),w=g.get(o.shimid),r&&(t=g.getPos(r,g.get(n.container)),u=g.getSize(r),w&&f.extend(w.style,{top:t.y+"px",left:t.x+"px",width:u.w+"px",height:u.h+"px"})),w=r=null}),o.exec.call(l,"FileInput","init",n)}),l.connectRuntime(f.extend({},n,{required_caps:{select_file:!0}}))},disable:function(o){var c=this.getRuntime();c&&c.exec.call(this,"FileInput","disable","undefined"===f.typeOf(o)?!0:o)},refresh:function(){l.trigger("Refresh")},destroy:function(){var c=this.getRuntime();c&&(c.exec.call(this,"FileInput","destroy"),this.disconnectRuntime()),"array"===f.typeOf(this.files)&&f.each(this.files,function(o){o.destroy()}),this.files=null,this.unbindAll()}}),this.handleEventProps(h)}var h=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];return d.prototype=k.instance,d}),az(a9,[],function(){var a=function(f){return unescape(encodeURIComponent(f))},d=function(f){return decodeURIComponent(escape(f))},c=function(q,z){if("function"==typeof window.atob){return z?d(window.atob(q)):window.atob(q)}var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",C,A,g,D,E,j,x,k,t=0,v=0,B="",y=[];if(!q){return q}q+="";do{D=w.indexOf(q.charAt(t++)),E=w.indexOf(q.charAt(t++)),j=w.indexOf(q.charAt(t++)),x=w.indexOf(q.charAt(t++)),k=D<<18|E<<12|j<<6|x,C=k>>16&255,A=k>>8&255,g=255&k,64==j?y[v++]=String.fromCharCode(C):64==x?y[v++]=String.fromCharCode(C,A):y[v++]=String.fromCharCode(C,A,g)}while(t<q.length);return B=y.join(""),z?d(B):B},b=function(F,A){if(A&&(F=a(F)),"function"==typeof window.btoa){return window.btoa(F)}var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",D,B,e,E,G,j,y,k,q=0,w=0,C="",z=[];if(!F){return F}do{D=F.charCodeAt(q++),B=F.charCodeAt(q++),e=F.charCodeAt(q++),k=D<<16|B<<8|e,E=k>>18&63,G=k>>12&63,j=k>>6&63,y=63&k,z[w++]=x.charAt(E)+x.charAt(G)+x.charAt(j)+x.charAt(y)}while(q<F.length);C=z.join("");var v=F.length%3;return(v?C.slice(0,v-3):C)+"===".slice(v||3)};return{utf8_encode:a,utf8_decode:d,atob:c,btoa:b}}),az(bd,[a4,a9,av],function(a,f,c){function b(g,e){function h(m,j,k){var i,l=d[this.uid];return"string"===a.typeOf(l)&&l.length?(i=new b(null,{type:k,size:j-m}),i.detach(l.substr(m,i.size)),i):null}c.call(this),g&&this.connectRuntime(g),e?"string"===a.typeOf(e)&&(e={data:e}):e={},a.extend(this,{uid:e.uid||a.guid("uid_"),ruid:g,size:e.size||0,type:e.type||"",slice:function(i,k,j){return this.isDetached()?h.apply(this,arguments):this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),i,k,j)},getSource:function(){return d[this.uid]?d[this.uid]:null},detach:function(i){if(this.ruid&&(this.getRuntime().exec.call(this,"Blob","destroy"),this.disconnectRuntime(),this.ruid=null),i=i||"","data:"==i.substr(0,5)){var j=i.indexOf(";base64,");this.type=i.substring(5,j),i=f.atob(i.substring(j+8))}this.size=i.length,d[this.uid]=i},isDetached:function(){return !this.ruid&&"string"===a.typeOf(d[this.uid])},destroy:function(){this.detach(),delete d[this.uid]}}),e.data?this.detach(e.data):d[this.uid]=e}var d={};return b}),az(ap,[a4,al,bd],function(a,d,c){function b(f,h){h||(h={}),c.apply(this,arguments),this.type||(this.type=d.getFileMime(h.name));var g;if(h.name){g=h.name.replace(/\\/g,"/"),g=g.substr(g.lastIndexOf("/")+1)}else{if(this.type){var e=this.type.split("/")[0];g=a.guid((""!==e?e:"file")+"_"),d.extensions[this.type]&&(g+="."+d.extensions[this.type][0])}}a.extend(this,{name:g||a.guid("file_"),relativePath:"",lastModifiedDate:h.lastModifiedDate||(new Date).toLocaleString()})}return b.prototype=c.prototype,b}),az(ab,[aG,ar,ax,a4,ai,ap,av,aR,al],function(f,q,j,g,m,k,b,p,v){function d(a){var e=this,c;"string"==typeof a&&(a={drop_zone:a}),c={accept:[{title:f.translate("All Files"),extensions:"*"}],required_caps:{drag_and_drop:!0}},a="object"==typeof a?g.extend({},c,a):c,a.container=q.get(a.drop_zone)||document.body,"static"===q.getStyle(a.container,"position")&&(a.container.style.position="relative"),"string"==typeof a.accept&&(a.accept=v.mimes2extList(a.accept)),b.call(e),g.extend(e,{uid:g.guid("uid_"),ruid:null,files:null,init:function(){e.bind("RuntimeInit",function(i,l){e.ruid=l.uid,l.exec.call(e,"FileDrop","init",a),e.dispatchEvent("ready")}),e.connectRuntime(a)},destroy:function(){var i=this.getRuntime();i&&(i.exec.call(this,"FileDrop","destroy"),this.disconnectRuntime()),this.files=null,this.unbindAll()}}),this.handleEventProps(h)}var h=["ready","dragenter","dragleave","drop","error"];return d.prototype=p.instance,d}),az(ag,[a4,a9,ax,aR,bd,av],function(c,k,f,d,h,g){function b(){function a(l,m){var n=this;if(this.trigger("loadstart"),this.readyState===b.LOADING){return this.trigger("error",new f.DOMException(f.DOMException.INVALID_STATE_ERR)),void this.trigger("loadend")}if(!(m instanceof h)){return this.trigger("error",new f.DOMException(f.DOMException.NOT_FOUND_ERR)),void this.trigger("loadend")}if(this.result=null,this.readyState=b.LOADING,m.isDetached()){var p=m.getSource();switch(l){case"readAsText":case"readAsBinaryString":this.result=p;break;case"readAsDataURL":this.result="data:"+m.type+";base64,"+k.btoa(p)}this.readyState=b.DONE,this.trigger("load"),this.trigger("loadend")}else{this.connectRuntime(m.ruid),this.exec("FileReader","read",l,m)}}g.call(this),c.extend(this,{uid:c.guid("uid_"),readyState:b.EMPTY,result:null,error:null,readAsBinaryString:function(i){a.call(this,"readAsBinaryString",i)},readAsDataURL:function(i){a.call(this,"readAsDataURL",i)},readAsText:function(i){a.call(this,"readAsText",i)},abort:function(){this.result=null,-1===c.inArray(this.readyState,[b.EMPTY,b.DONE])&&(this.readyState===b.LOADING&&(this.readyState=b.DONE),this.exec("FileReader","abort"),this.trigger("abort"),this.trigger("loadend"))},destroy:function(){this.abort(),this.exec("FileReader","destroy"),this.disconnectRuntime(),this.unbindAll()}}),this.handleEventProps(j),this.bind("Error",function(i,l){this.readyState=b.DONE,this.error=l},999),this.bind("Load",function(i){this.readyState=b.DONE},999)}var j=["loadstart","progress","load","abort","error","loadend"];return b.EMPTY=0,b.LOADING=1,b.DONE=2,b.prototype=d.instance,b}),az(bb,[],function(){var a=function(l,g){for(var f=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],j=f.length,h={http:80,https:443},d={},k=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,m=k.exec(l||"");j--;){m[j]&&(d[f[j]]=m[j])}if(!d.scheme){g&&"string"!=typeof g||(g=a(g||document.location.href)),d.scheme=g.scheme,d.host=g.host,d.port=g.port;var e="";/^[^\/]/.test(d.path)&&(e=g.path,e=/\/[^\/]*\.[^\/]*$/.test(e)?e.replace(/\/[^\/]+$/,"/"):e.replace(/\/?$/,"/")),d.path=e+(d.path||"")}return d.port||(d.port=h[d.scheme]||80),d.port=parseInt(d.port,10),d.path||(d.path="/"),delete d.source,d},c=function(f){var e={http:80,https:443},d="string"==typeof f?a(f):f;return d.scheme+"://"+d.host+(d.port!==e[d.scheme]?":"+d.port:"")+d.path+(d.query?d.query:"")},b=function(e){function d(f){return[f.scheme,f.host,f.port].join("/")}return"string"==typeof e&&(e=a(e)),d(a())===d(e)};return{parseUrl:a,resolveUrl:c,hasSameOrigin:b}}),az(aW,[a4,av,aR],function(a,d,c){function b(){this.uid=a.guid("uid_"),d.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return b.prototype=c.instance,b}),az(aZ,[a4,av,a9],function(a,c,b){return function(){function d(g,m){if(!m.isDetached()){var h=this.connectRuntime(m.ruid).exec.call(this,"FileReaderSync","read",g,m);return this.disconnectRuntime(),h}var k=m.getSource();switch(g){case"readAsBinaryString":return k;case"readAsDataURL":return"data:"+m.type+";base64,"+b.btoa(k);case"readAsText":for(var j="",f=0,l=k.length;l>f;f++){j+=String.fromCharCode(k[f])}return j}}c.call(this),a.extend(this,{uid:a.guid("uid_"),readAsBinaryString:function(f){return d.call(this,"readAsBinaryString",f)},readAsDataURL:function(f){return d.call(this,"readAsDataURL",f)},readAsText:function(f){return d.call(this,"readAsText",f)}})}}),az(ad,[ax,a4,bd],function(a,d,c){function b(){var f,g=[];d.extend(this,{append:function(i,h){var e=this,j=d.typeOf(h);h instanceof c?f={name:i,value:h}:"array"===j?(i+="[]",d.each(h,function(k){e.append(i,k)})):"object"===j?d.each(h,function(k,l){e.append(i+"["+l+"]",k)}):"null"===j||"undefined"===j||"number"===j&&isNaN(h)?e.append(i,"false"):g.push({name:i,value:h.toString()})},hasBlob:function(){return !!this.getBlob()},getBlob:function(){return f&&f.value||null},getBlobName:function(){return f&&f.name||null},each:function(e){d.each(g,function(h){e(h.value,h.name)}),f&&e(f.value,f.name)},destroy:function(){f=null,g=[]}})}return b}),az(a2,[a4,ax,aR,a9,bb,aJ,aW,bd,aZ,ad,ai,al],function(q,H,C,z,F,D,b,G,I,j,A,k){function w(){this.uid=q.guid("uid_")}function y(){function Q(g,n){return bi.hasOwnProperty(g)?1===arguments.length?A.can("define_property")?bi[g]:bh[g]:void (A.can("define_property")?bi[g]=n:bh[g]=n):void 0}function ae(v){function g(){s&&(s.destroy(),s=null),u.dispatchEvent("loadend"),u=null}function n(L){s.bind("LoadStart",function(M){Q("readyState",y.LOADING),u.dispatchEvent("readystatechange"),u.dispatchEvent(M),V&&u.upload.dispatchEvent(M)}),s.bind("Progress",function(M){Q("readyState")!==y.LOADING&&(Q("readyState",y.LOADING),u.dispatchEvent("readystatechange")),u.dispatchEvent(M)}),s.bind("UploadProgress",function(M){V&&u.upload.dispatchEvent({type:"progress",lengthComputable:!1,total:M.total,loaded:M.loaded})}),s.bind("Load",function(M){Q("readyState",y.DONE),Q("status",Number(L.exec.call(s,"XMLHttpRequest","getStatus")||0)),Q("statusText",E[Q("status")]||""),Q("response",L.exec.call(s,"XMLHttpRequest","getResponse",Q("responseType"))),~q.inArray(Q("responseType"),["text",""])?Q("responseText",Q("response")):"document"===Q("responseType")&&Q("responseXML",Q("response")),e=L.exec.call(s,"XMLHttpRequest","getAllResponseHeaders"),u.dispatchEvent("readystatechange"),Q("status")>0?(V&&u.upload.dispatchEvent(M),u.dispatchEvent(M)):(U=!0,u.dispatchEvent("error")),g()}),s.bind("Abort",function(M){u.dispatchEvent(M),g()}),s.bind("Error",function(M){U=!0,Q("readyState",y.DONE),u.dispatchEvent("readystatechange"),h=!0,u.dispatchEvent(M),g()}),L.exec.call(s,"XMLHttpRequest","send",{url:i,method:a,async:bk,user:bj,password:X,headers:d,mimeType:c,encoding:Y,responseType:u.responseType,withCredentials:u.withCredentials,options:p},v)}var u=this;K=(new Date).getTime(),s=new b,"string"==typeof p.required_caps&&(p.required_caps=D.parseCaps(p.required_caps)),p.required_caps=q.extend({},p.required_caps,{return_response_type:u.responseType}),v instanceof j&&(p.required_caps.send_multipart=!0),q.isEmptyObj(d)||(p.required_caps.send_custom_headers=!0),t||(p.required_caps.do_cors=!0),p.ruid?n(s.connectRuntime(p)):(s.bind("RuntimeInit",function(L,M){n(M)}),s.bind("RuntimeError",function(L,M){u.dispatchEvent("RuntimeError",M)}),s.connectRuntime(p))}function m(){Q("responseText",""),Q("responseXML",null),Q("response",null),Q("status",0),Q("statusText",""),K=f=null}var bh=this,bi={timeout:0,readyState:y.UNSENT,withCredentials:!1,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},bk=!0,i,a,d={},bj,X,Y=null,c=null,Z=!1,r=!1,V=!1,h=!1,U=!1,t=!1,K,f,l=null,W=null,p={},s,e="",o;q.extend(this,bi,{uid:q.guid("uid_"),upload:new w,open:function(L,g,M,N,n){var v;if(!L||!g){throw new H.DOMException(H.DOMException.SYNTAX_ERR)}if(/[\u0100-\uffff]/.test(L)||z.utf8_encode(L)!==L){throw new H.DOMException(H.DOMException.SYNTAX_ERR)}if(~q.inArray(L.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])&&(a=L.toUpperCase()),~q.inArray(a,["CONNECT","TRACE","TRACK"])){throw new H.DOMException(H.DOMException.SECURITY_ERR)}if(g=z.utf8_encode(g),v=F.parseUrl(g),t=F.hasSameOrigin(v),i=F.resolveUrl(g),(N||n)&&!t){throw new H.DOMException(H.DOMException.INVALID_ACCESS_ERR)}if(bj=N||v.user,X=n||v.pass,bk=M||!0,bk===!1&&(Q("timeout")||Q("withCredentials")||""!==Q("responseType"))){throw new H.DOMException(H.DOMException.INVALID_ACCESS_ERR)}Z=!bk,r=!1,d={},m.call(this),Q("readyState",y.OPENED),this.dispatchEvent("readystatechange")},setRequestHeader:function(u,n){var g=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];if(Q("readyState")!==y.OPENED||r){throw new H.DOMException(H.DOMException.INVALID_STATE_ERR)}if(/[\u0100-\uffff]/.test(u)||z.utf8_encode(u)!==u){throw new H.DOMException(H.DOMException.SYNTAX_ERR)}return u=q.trim(u).toLowerCase(),~q.inArray(u,g)||/^(proxy\-|sec\-)/.test(u)?!1:(d[u]?d[u]+=", "+n:d[u]=n,!0)},getAllResponseHeaders:function(){return e||""},getResponseHeader:function(g){return g=g.toLowerCase(),U||~q.inArray(g,["set-cookie","set-cookie2"])?null:e&&""!==e&&(o||(o={},q.each(e.split(/\r\n/),function(v){var u=v.split(/:\s+/);2===u.length&&(u[0]=q.trim(u[0]),o[u[0].toLowerCase()]={header:u[0],value:q.trim(u[1])})})),o.hasOwnProperty(g))?o[g].header+": "+o[g].value:null},overrideMimeType:function(g){var u,n;if(~q.inArray(Q("readyState"),[y.LOADING,y.DONE])){throw new H.DOMException(H.DOMException.INVALID_STATE_ERR)}if(g=q.trim(g.toLowerCase()),/;/.test(g)&&(u=g.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))&&(g=u[1],u[2]&&(n=u[2])),!k.mimes[g]){throw new H.DOMException(H.DOMException.SYNTAX_ERR)}l=g,W=n},send:function(g,v){if(p="string"===q.typeOf(v)?{ruid:v}:v?v:{},this.readyState!==y.OPENED||r){throw new H.DOMException(H.DOMException.INVALID_STATE_ERR)}if(g instanceof G){p.ruid=g.ruid,c=g.type||"application/octet-stream"}else{if(g instanceof j){if(g.hasBlob()){var u=g.getBlob();p.ruid=u.ruid,c=u.type||"application/octet-stream"}}else{"string"==typeof g&&(Y="UTF-8",c="text/plain;charset=UTF-8",g=z.utf8_encode(g))}}this.withCredentials||(this.withCredentials=p.required_caps&&p.required_caps.send_browser_cookies&&!t),V=!Z&&this.upload.hasEventListener(),U=!1,h=!g,Z||(r=!0),ae.call(this,g)},abort:function(){if(U=!0,Z=!1,~q.inArray(Q("readyState"),[y.UNSENT,y.OPENED,y.DONE])){Q("readyState",y.UNSENT)}else{if(Q("readyState",y.DONE),r=!1,!s){throw new H.DOMException(H.DOMException.INVALID_STATE_ERR)}s.getRuntime().exec.call(s,"XMLHttpRequest","abort",h),h=!0}},destroy:function(){s&&("function"===q.typeOf(s.destroy)&&s.destroy(),s=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}}),this.handleEventProps(B.concat(["readystatechange"])),this.upload.handleEventProps(B)}var E={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Reserved",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended"};w.prototype=C.instance;var B=["loadstart","progress","abort","error","load","timeout","loadend"],x=1,J=2;return y.UNSENT=0,y.OPENED=1,y.HEADERS_RECEIVED=2,y.LOADING=3,y.DONE=4,y.prototype=C.instance,y}),az(aA,[a4,a9,av,aR],function(a,f,c,b){function d(){function k(){m=h=0,g=this.result=null}function n(r,o){var l=this;q=o,l.bind("TransportingProgress",function(i){h=i.loaded,m>h&&-1===a.inArray(l.state,[d.IDLE,d.DONE])&&e.call(l)},999),l.bind("TransportingComplete",function(){h=m,l.state=d.DONE,g=null,l.result=q.exec.call(l,"Transporter","getAsBlob",r||"")},999),l.state=d.BUSY,l.trigger("TransportingStarted"),e.call(l)}function e(){var l=this,r,o=m-h;j>o&&(j=o),r=f.btoa(g.substr(h,j)),q.exec.call(l,"Transporter","receive",r,m)}var p,q,g,m,h,j;c.call(this),a.extend(this,{uid:a.guid("uid_"),state:d.IDLE,result:null,transport:function(s,l,o){var i=this;if(o=a.extend({chunk_size:204798},o),(p=o.chunk_size%3)&&(o.chunk_size+=3-p),j=o.chunk_size,k.call(this),g=s,m=s.length,"string"===a.typeOf(o)||o.ruid){n.call(i,l,this.connectRuntime(o))}else{var v=function(r,u){i.unbind("RuntimeInit",v),n.call(i,l,u)};this.bind("RuntimeInit",v),this.connectRuntime(o)}},abort:function(){var i=this;i.state=d.IDLE,q&&(q.exec.call(i,"Transporter","clear"),i.trigger("TransportingAborted")),k.call(i)},destroy:function(){this.unbindAll(),q=null,this.disconnectRuntime(),k.call(this)}})}return d.IDLE=0,d.BUSY=1,d.DONE=2,d.prototype=b.instance,d}),az(aP,[a4,ar,ax,aZ,a2,aJ,av,aA,ai,aR,bd,ap,a9],function(k,C,x,v,A,y,b,B,D,g,w,j,m){function q(){function e(c){c||(c=this.exec("Image","getInfo")),this.size=c.size,this.width=c.width,this.height=c.height,this.type=c.type,this.meta=c.meta,""===this.name&&(this.name=c.name)}function a(n){var c=k.typeOf(n);try{if(n instanceof q){if(!n.size){throw new x.DOMException(x.DOMException.INVALID_STATE_ERR)}f.apply(this,arguments)}else{if(n instanceof w){if(!~k.inArray(n.type,["image/jpeg","image/png"])){throw new x.ImageError(x.ImageError.WRONG_FORMAT)}d.apply(this,arguments)}else{if(-1!==k.inArray(c,["blob","file"])){a.call(this,new j(null,n),arguments[1])}else{if("string"===c){/^data:[^;]*;base64,/.test(n)?a.call(this,new w(null,{data:n}),arguments[1]):h.apply(this,arguments)}else{if("node"!==c||"img"!==n.nodeName.toLowerCase()){throw new x.DOMException(x.DOMException.TYPE_MISMATCH_ERR)}a.call(this,n.src,arguments[1])}}}}}catch(l){this.trigger("error",l.code)}}function f(o,l){var c=this.connectRuntime(o.ruid);this.ruid=c.uid,c.exec.call(this,"Image","loadFromImage",o,"undefined"===k.typeOf(l)?!0:l)}function d(p,l){function c(i){o.ruid=i.uid,i.exec.call(o,"Image","loadFromBlob",p)}var o=this;o.name=p.name||"",p.isDetached()?(this.bind("RuntimeInit",function(i,n){c(n)}),l&&"string"==typeof l.required_caps&&(l.required_caps=y.parseCaps(l.required_caps)),this.connectRuntime(k.extend({required_caps:{access_image_binary:!0,resize_image:!0}},l))):c(this.connectRuntime(p.ruid))}function h(c,p){var o=this,l;l=new A,l.open("get",c),l.responseType="blob",l.onprogress=function(i){o.trigger(i)},l.onload=function(){d.call(o,l.response,!0)},l.onerror=function(i){o.trigger(i)},l.onloadend=function(){l.destroy()},l.bind("RuntimeError",function(i,n){o.trigger("RuntimeError",n)}),l.send(null,p)}b.call(this),k.extend(this,{uid:k.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){a.apply(this,arguments)},downsize:function(n){var c={width:this.width,height:this.height,type:this.type||"image/jpeg",quality:90,crop:!1,preserveHeaders:!0,resample:!1};n="object"==typeof n?k.extend(c,n):k.extend(c,{width:arguments[0],height:arguments[1],crop:arguments[2],preserveHeaders:arguments[3]});try{if(!this.size){throw new x.DOMException(x.DOMException.INVALID_STATE_ERR)}if(this.width>q.MAX_RESIZE_WIDTH||this.height>q.MAX_RESIZE_HEIGHT){throw new x.ImageError(x.ImageError.MAX_RESOLUTION_ERR)}this.exec("Image","downsize",n.width,n.height,n.crop,n.preserveHeaders)}catch(l){this.trigger("error",l.code)}},crop:function(c,l,i){this.downsize(c,l,!0,i)},getAsCanvas:function(){if(!D.can("create_canvas")){throw new x.RuntimeError(x.RuntimeError.NOT_SUPPORTED_ERR)}var c=this.connectRuntime(this.ruid);return c.exec.call(this,"Image","getAsCanvas")},getAsBlob:function(c,i){if(!this.size){throw new x.DOMException(x.DOMException.INVALID_STATE_ERR)}return this.exec("Image","getAsBlob",c||"image/jpeg",i||90)},getAsDataURL:function(c,i){if(!this.size){throw new x.DOMException(x.DOMException.INVALID_STATE_ERR)}return this.exec("Image","getAsDataURL",c||"image/jpeg",i||90)},getAsBinaryString:function(c,l){var i=this.getAsDataURL(c,l);return m.atob(i.substring(i.indexOf("base64,")+7))},embed:function(t,F){function E(J,I){var H=this;if(D.can("create_canvas")){var G=H.getAsCanvas();if(G){return t.appendChild(G),G=null,H.destroy(),void n.trigger("embedded")}}var c=H.getAsDataURL(J,I);if(!c){throw new x.ImageError(x.ImageError.WRONG_FORMAT)}if(D.can("use_data_uri_of",c.length)){t.innerHTML='<img src="'+c+'" width="'+H.width+'" height="'+H.height+'" />',H.destroy(),n.trigger("embedded")}else{var i=new B;i.bind("TransportingComplete",function(){p=n.connectRuntime(this.result.ruid),n.bind("Embedded",function(){k.extend(p.getShimContainer().style,{top:"0px",left:"0px",width:H.width+"px",height:H.height+"px"}),p=null},999),p.exec.call(n,"ImageView","display",this.result.uid,width,height),H.destroy()}),i.transport(m.atob(c.substring(c.indexOf("base64,")+7)),J,{required_caps:{display_media:!0},runtime_order:"flash,silverlight",container:t})}}var n=this,p;F=k.extend({width:this.width,height:this.height,type:this.type||"image/jpeg",quality:90},F||{});try{if(!(t=C.get(t))){throw new x.DOMException(x.DOMException.INVALID_NODE_TYPE_ERR)}if(!this.size){throw new x.DOMException(x.DOMException.INVALID_STATE_ERR)}this.width>q.MAX_RESIZE_WIDTH||this.height>q.MAX_RESIZE_HEIGHT;var u=new q;return u.bind("Resize",function(){E.call(this,F.type,F.quality)}),u.bind("Load",function(){u.downsize(F)}),this.meta.thumb&&this.meta.thumb.width>=F.width&&this.meta.thumb.height>=F.height?u.load(this.meta.thumb.data):u.clone(this,!1),u}catch(s){this.trigger("error",s.code)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,"Image","destroy"),this.disconnectRuntime()),this.unbindAll()}}),this.handleEventProps(z),this.bind("Load Resize",function(){e.call(this)},999)}var z=["progress","load","error","resize","embedded"];return q.MAX_RESIZE_WIDTH=8192,q.MAX_RESIZE_HEIGHT=8192,q.prototype=g.instance,q}),az(am,[a4,ax,aJ,ai],function(c,j,f,d){function h(k){var e=this,i=f.capTest,l=f.capTrue,a=c.extend({access_binary:i(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return e.can("access_binary")&&!!b.Image},display_media:i(d.can("create_canvas")||d.can("use_data_uri_over32kb")),do_cors:i(window.XMLHttpRequest&&"withCredentials" in new XMLHttpRequest),drag_and_drop:i(function(){var m=document.createElement("div");return("draggable" in m||"ondragstart" in m&&"ondrop" in m)&&("IE"!==d.browser||d.version>9)}()),filter_by_extension:i(function(){return"Chrome"===d.browser&&d.version>=28||"IE"===d.browser&&d.version>=10||"Safari"===d.browser&&d.version>=7}()),return_response_headers:l,return_response_type:function(m){return"json"===m&&window.JSON?!0:d.can("return_response_type",m)},return_status_code:l,report_upload_progress:i(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return e.can("access_binary")&&d.can("create_canvas")},select_file:function(){return d.can("use_fileinput")&&window.File},select_folder:function(){return e.can("select_file")&&"Chrome"===d.browser&&d.version>=21},select_multiple:function(){return !(!e.can("select_file")||"Safari"===d.browser&&"Windows"===d.os||"iOS"===d.os&&d.verComp(d.osVersion,"7.0.0",">")&&d.verComp(d.osVersion,"8.0.0","<"))},send_binary_string:i(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:i(window.XMLHttpRequest),send_multipart:function(){return !!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||e.can("send_binary_string")},slice_blob:i(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return e.can("slice_blob")&&e.can("send_multipart")},summon_file_dialog:function(){return e.can("select_file")&&("Firefox"===d.browser&&d.version>=4||"Opera"===d.browser&&d.version>=12||"IE"===d.browser&&d.version>=10||!!~c.inArray(d.browser,["Chrome","Safari"]))},upload_filesize:l},arguments[2]);f.call(this,k,arguments[1]||g,a),c.extend(this,{init:function(){this.trigger("Init")},destroy:function(m){return function(){m.call(e),m=e=null}}(this.destroy)}),c.extend(this.getShim(),b)}var g="html5",b={};return f.addConstructor(g,h),b}),az(aM,[a4],function(c){function k(){this.returnValue=!1}function f(){this.cancelBubble=!0}var d={},h="moxie_"+c.guid(),g=function(n,e,p,q){var i,m;e=e.toLowerCase(),n.addEventListener?(i=p,n.addEventListener(e,i,!1)):n.attachEvent&&(i=function(){var a=window.event;a.target||(a.target=a.srcElement),a.preventDefault=k,a.stopPropagation=f,p(a)},n.attachEvent("on"+e,i)),n[h]||(n[h]=c.guid()),d.hasOwnProperty(n[h])||(d[n[h]]={}),m=d[n[h]],m.hasOwnProperty(e)||(m[e]=[]),m[e].push({func:i,orig:p,key:q})},b=function(q,l,m){var e,p;if(l=l.toLowerCase(),q[h]&&d[q[h]]&&d[q[h]][l]){e=d[q[h]][l];for(var r=e.length-1;r>=0&&(e[r].orig!==m&&e[r].key!==m||(q.removeEventListener?q.removeEventListener(l,e[r].func,!1):q.detachEvent&&q.detachEvent("on"+l,e[r].func),e[r].orig=null,e[r].func=null,e.splice(r,1),m===p));r--){}if(e.length||delete d[q[h]][l],c.isEmptyObj(d[q[h]])){delete d[q[h]];try{delete q[h]}catch(i){q[h]=p}}}},j=function(e,a){e&&e[h]&&c.each(d[e[h]],function(l,m){b(e,m,a)})};return{addEvent:g,removeEvent:b,removeAllEvents:j}}),az(aH,[am,ap,a4,ar,aM,al,ai],function(c,k,f,d,h,g,b){function j(){var a;f.extend(this,{init:function(w){var x=this,e=x.getRuntime(),r,i,n,q,v,t;a=w,n=a.accept.mimes||g.extList2mimes(a.accept,e.can("filter_by_extension")),i=e.getShimContainer(),i.innerHTML='<input id="'+e.uid+'" type="file" style="font-size:999px;opacity:0;"'+(a.multiple&&e.can("select_multiple")?"multiple":"")+(a.directory&&e.can("select_folder")?"webkitdirectory directory":"")+(n?' accept="'+n.join(",")+'"':"")+" />",r=d.get(e.uid),f.extend(r.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),q=d.get(a.browse_button),e.can("summon_file_dialog")&&("static"===d.getStyle(q,"position")&&(q.style.position="relative"),v=parseInt(d.getStyle(q,"z-index"),10)||1,q.style.zIndex=v,i.style.zIndex=v-1,h.addEvent(q,"click",function(l){var m=d.get(e.uid);m&&!m.disabled&&m.click(),l.preventDefault()},x.uid)),t=e.can("summon_file_dialog")?q:i,h.addEvent(t,"mouseover",function(){x.trigger("mouseenter")},x.uid),h.addEvent(t,"mouseout",function(){x.trigger("mouseleave")},x.uid),h.addEvent(t,"mousedown",function(){x.trigger("mousedown")},x.uid),h.addEvent(d.get(a.container),"mouseup",function(){x.trigger("mouseup")},x.uid),r.onchange=function o(l){if(x.files=[],f.each(this.files,function(s){var p="";return a.directory&&"."==s.name?!0:(s.webkitRelativePath&&(p="/"+s.webkitRelativePath.replace(/^\//,"")),s=new k(e.uid,s),s.relativePath=p,void x.files.push(s))}),"IE"!==b.browser&&"IEMobile"!==b.browser){this.value=""}else{var m=this.cloneNode(!0);this.parentNode.replaceChild(m,this),m.onchange=o}x.files.length&&x.trigger("change")},x.trigger({type:"ready",async:!0}),i=null},disable:function(i){var m=this.getRuntime(),l;(l=d.get(m.uid))&&(l.disabled=!!i)},destroy:function(){var l=this.getRuntime(),e=l.getShim(),i=l.getShimContainer();h.removeAllEvents(i,this.uid),h.removeAllEvents(a&&d.get(a.container),this.uid),h.removeAllEvents(a&&d.get(a.browse_button),this.uid),i&&(i.innerHTML=""),e.removeInstance(this.uid),a=i=e=null}})}return c.FileInput=j}),az(aK,[am,bd],function(a,c){function b(){function d(f,k,h){var g;if(!window.File.prototype.slice){return(g=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?g.call(f,k,h):null}try{return f.slice(),f.slice(k,h)}catch(j){return f.slice(k,h-k)}}this.slice=function(){return new c(this.getRuntime().uid,d.apply(this,arguments))}}return a.Blob=b}),az(aj,[am,ap,a4,ar,aM,al],function(c,j,f,d,h,g){function b(){function o(a){if(!a.dataTransfer||!a.dataTransfer.types){return !1}var l=f.toArray(a.dataTransfer.types||[]);return -1!==f.inArray("Files",l)||-1!==f.inArray("public.file-url",l)||-1!==f.inArray("application/x-moz-file",l)}function i(a,m){if(z(a)){var l=new j(r,a);l.relativePath=m||"",t.push(l)}}function y(a){for(var m=[],l=0;l<a.length;l++){[].push.apply(m,a[l].extensions.split(/\s*,\s*/))}return -1===f.inArray("*",m)?m:[]}function z(a){if(!x.length){return !0}var l=g.getFileExtension(a.name);return !l||-1!==f.inArray(l,x)}function k(a,m){var l=[];f.each(a,function(p){var s=p.webkitGetAsEntry();s&&(s.isFile?i(p.getAsFile(),s.fullPath):l.push(s))}),l.length?v(l,m):m()}function v(a,m){var l=[];f.each(a,function(p){l.push(function(e){n(p,e)})}),f.inSeries(l,function(){m()})}function n(a,l){a.isFile?a.file(function(e){i(e,a.fullPath),l()},function(){l()}):a.isDirectory?q(a,l):l()}function q(a,s){function m(u){p.readEntries(function(e){e.length?([].push.apply(l,e),m(u)):u()},u)}var l=[],p=a.createReader();m(function(){v(l,s)})}var t=[],x=[],w,r;f.extend(this,{init:function(l){var a=this,e;w=l,r=a.ruid,x=y(w.accept),e=w.container,h.addEvent(e,"dragover",function(m){o(m)&&(m.preventDefault(),m.dataTransfer.dropEffect="copy")},a.uid),h.addEvent(e,"drop",function(m){o(m)&&(m.preventDefault(),t=[],m.dataTransfer.items&&m.dataTransfer.items[0].webkitGetAsEntry?k(m.dataTransfer.items,function(){a.files=t,a.trigger("drop")}):(f.each(m.dataTransfer.files,function(p){i(p)}),a.files=t,a.trigger("drop")))},a.uid),h.addEvent(e,"dragenter",function(m){a.trigger("dragenter")},a.uid),h.addEvent(e,"dragleave",function(m){a.trigger("dragleave")},a.uid)},destroy:function(){h.removeAllEvents(w&&d.get(w.container),this.uid),r=t=x=w=null}})}return c.FileDrop=b}),az(at,[am,a9,a4],function(a,d,c){function b(){function f(i){return d.atob(i.substring(i.indexOf("base64,")+7))}var g,h=!1;c.extend(this,{read:function(j,i){var e=this;e.result="",g=new window.FileReader,g.addEventListener("progress",function(k){e.trigger(k)}),g.addEventListener("load",function(k){e.result=h?f(g.result):g.result,e.trigger(k)}),g.addEventListener("error",function(k){e.trigger(k,g.error)}),g.addEventListener("loadend",function(k){g=null,e.trigger(k)}),"function"===c.typeOf(g[j])?(h=!1,g[j](i.getSource())):"readAsBinaryString"===j&&(h=!0,g.readAsDataURL(i.getSource()))},abort:function(){g&&g.abort()},destroy:function(){g=null}})}return a.FileReader=b}),az(aS,[am,a4,al,bb,ap,bd,ad,ax,ai],function(f,m,h,g,k,j,b,l,p){function d(){function n(c,x){var v=this,u,w;u=x.getBlob().getSource(),w=new window.FileReader,w.onload=function(){x.append(x.getBlobName(),new j(null,{type:u.type,data:w.result})),o.send.call(v,c,x)},w.readAsBinaryString(u)}function a(){return !window.XMLHttpRequest||"IE"===p.browser&&p.version<8?function(){for(var c=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"],v=0;v<c.length;v++){try{return new ActiveXObject(c[v])}catch(u){}}}():new window.XMLHttpRequest}function r(c){var v=c.responseXML,u=c.responseText;return"IE"===p.browser&&u&&v&&!v.documentElement&&/[^\/]+\/[^\+]+\+xml/.test(c.getResponseHeader("Content-Type"))&&(v=new window.ActiveXObject("Microsoft.XMLDOM"),v.async=!1,v.validateOnParse=!1,v.loadXML(u)),v&&("IE"===p.browser&&0!==v.parseError||!v.documentElement||"parsererror"===v.documentElement.tagName)?null:v}function i(u){var y="----moxieboundary"+(new Date).getTime(),w="--",v="\r\n",x="",c=this.getRuntime();if(!c.can("send_binary_string")){throw new l.RuntimeError(l.RuntimeError.NOT_SUPPORTED_ERR)}return q.setRequestHeader("Content-Type","multipart/form-data; boundary="+y),u.each(function(z,t){x+=z instanceof j?w+y+v+'Content-Disposition: form-data; name="'+t+'"; filename="'+unescape(encodeURIComponent(z.name||"blob"))+'"'+v+"Content-Type: "+(z.type||"application/octet-stream")+v+v+z.getSource()+v:w+y+v+'Content-Disposition: form-data; name="'+t+'"'+v+v+unescape(encodeURIComponent(z))+v}),x+=w+y+w+v}var o=this,q,s;m.extend(this,{send:function(w,x){var y=this,t="Mozilla"===p.browser&&p.version>=4&&p.version<7,c="Android Browser"===p.browser,u=!1;if(s=w.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase(),q=a(),q.open(w.method,w.url,w.async,w.user,w.password),x instanceof j){x.isDetached()&&(u=!0),x=x.getSource()}else{if(x instanceof b){if(x.hasBlob()){if(x.getBlob().isDetached()){x=i.call(y,x),u=!0}else{if((t||c)&&"blob"===m.typeOf(x.getBlob().getSource())&&window.FileReader){return void n.call(y,w,x)}}}if(x instanceof b){var e=new window.FormData;x.each(function(v,A){v instanceof j?e.append(A,v.getSource()):e.append(A,v)}),x=e}}}q.upload?(w.withCredentials&&(q.withCredentials=!0),q.addEventListener("load",function(v){y.trigger(v)}),q.addEventListener("error",function(v){y.trigger(v)}),q.addEventListener("progress",function(v){y.trigger(v)}),q.upload.addEventListener("progress",function(v){y.trigger({type:"UploadProgress",loaded:v.loaded,total:v.total})})):q.onreadystatechange=function z(){switch(q.readyState){case 1:break;case 2:break;case 3:var v,B;try{g.hasSameOrigin(w.url)&&(v=q.getResponseHeader("Content-Length")||0),q.responseText&&(B=q.responseText.length)}catch(A){v=B=0}y.trigger({type:"progress",lengthComputable:!!v,total:parseInt(v,10),loaded:B});break;case 4:q.onreadystatechange=function(){},y.trigger(0===q.status?"error":"load")}},m.isEmptyObj(w.headers)||m.each(w.headers,function(v,A){q.setRequestHeader(A,v)}),""!==w.responseType&&"responseType" in q&&("json"!==w.responseType||p.can("return_response_type","json")?q.responseType=w.responseType:q.responseType="text"),u?q.sendAsBinary?q.sendAsBinary(x):!function(){for(var v=new Uint8Array(x.length),A=0;A<x.length;A++){v[A]=255&x.charCodeAt(A)}q.send(v.buffer)}():q.send(x),y.trigger("loadstart")},getStatus:function(){try{if(q){return q.status}}catch(c){}return 0},getResponse:function(u){var y=this.getRuntime();try{switch(u){case"blob":var v=new k(y.uid,q.response),w=q.getResponseHeader("Content-Disposition");if(w){var c=w.match(/filename=([\'\"'])([^\1]+)\1/);c&&(s=c[2])}return v.name=s,v.type||(v.type=h.getFileMime(s)),v;case"json":return p.can("return_response_type","json")?q.response:200===q.status&&window.JSON?JSON.parse(q.responseText):null;case"document":return r(q);default:return""!==q.responseText?q.responseText:null}}catch(x){return null}},getAllResponseHeaders:function(){try{return q.getAllResponseHeaders()}catch(c){}return""},abort:function(){q&&q.abort()},destroy:function(){o=s=null}})}return f.XMLHttpRequest=d}),az(ay,[],function(){return function(){function a(h,l){var k=f?0:-8*(l-1),j=0,g;for(g=0;l>g;g++){j|=d.charCodeAt(h+g)<<Math.abs(k+8*g)}return j}function c(g,i,h){h=3===arguments.length?h:d.length-i-1,d=d.substr(0,i)+g+d.substr(h+i)}function b(h,m,j){var k="",g=f?0:-8*(j-1),l;for(l=0;j>l;l++){k+=String.fromCharCode(m>>Math.abs(g+8*l)&255)}c(k,h,j)}var f=!1,d;return{II:function(g){return g===a1?f:void (f=g)},init:function(g){f=!1,d=g},SEGMENT:function(g,j,h){switch(arguments.length){case 1:return d.substr(g,d.length-g-1);case 2:return d.substr(g,j);case 3:c(h,g,j);break;default:return d}},BYTE:function(e){return a(e,1)},SHORT:function(e){return a(e,2)},LONG:function(e,g){return g===a1?a(e,4):void b(e,g,4)},SLONG:function(g){var e=a(g,4);return e>2147483647?e-4294967296:e},STRING:function(h,g){var e="";for(g+=h;g>h;h++){e+=String.fromCharCode(a(h,1))}return e},length:function(){return d.length}}}}),az(aE,[ay],function(a){return function b(e){var d=[],g,f,c,h=0;if(g=new a,g.init(e),65496===g.SHORT(0)){for(f=2;f<=e.length;){if(c=g.SHORT(f),c>=65488&&65495>=c){f+=2}else{if(65498===c||65497===c){break}h=g.SHORT(f+2)+2,c>=65505&&65519>=c&&d.push({hex:c,name:"APP"+(15&c),start:f,length:h,segment:g.SEGMENT(f,h)}),f+=h}}return g.init(null),{headers:d,restore:function(i){var k,j;for(g.init(i),f=65504==g.SHORT(2)?4+g.SHORT(4):2,j=0,k=d.length;k>j;j++){g.SEGMENT(f,0,d[j].segment),f+=d[j].length}return i=g.SEGMENT(),g.init(null),i},strip:function(j){var l,k,m;for(k=new b(j),l=k.headers,k.purge(),g.init(j),m=l.length;m--;){g.SEGMENT(l[m].start,l[m].length,"")}return j=g.SEGMENT(),g.init(null),j},get:function(i){for(var l=[],j=0,k=d.length;k>j;j++){d[j].name===i.toUpperCase()&&l.push(d[j].segment)}return l},set:function(j,p){var k=[],m,l,i;for("string"==typeof p?k.push(p):k=p,m=l=0,i=d.length;i>m&&(d[m].name===j.toUpperCase()&&(d[m].segment=k[l],d[m].length=k[l].length,l++),!(l>=k.length));m++){}},purge:function(){d=[],g.init(null),g=null}}}}}),az(ah,[a4,ay],function(a,c){return function b(){function f(q,z){var x=d.SHORT(q),C,A,D,E,l,t,w,B,y=[],v={};for(C=0;x>C;C++){if(w=t=q+12*C+2,D=z[d.SHORT(w)],D!==a1){switch(E=d.SHORT(w+=2),l=d.LONG(w+=2),w+=4,y=[],E){case 1:case 7:for(l>4&&(w=d.LONG(w)+e.tiffHeader),A=0;l>A;A++){y[A]=d.BYTE(w+A)}break;case 2:l>4&&(w=d.LONG(w)+e.tiffHeader),v[D]=d.STRING(w,l-1);continue;case 3:for(l>2&&(w=d.LONG(w)+e.tiffHeader),A=0;l>A;A++){y[A]=d.SHORT(w+2*A)}break;case 4:for(l>1&&(w=d.LONG(w)+e.tiffHeader),A=0;l>A;A++){y[A]=d.LONG(w+4*A)}break;case 5:for(w=d.LONG(w)+e.tiffHeader,A=0;l>A;A++){y[A]=d.LONG(w+8*A)/d.LONG(w+8*A+4)}break;case 9:for(w=d.LONG(w)+e.tiffHeader,A=0;l>A;A++){y[A]=d.SLONG(w+4*A)}break;case 10:for(w=d.LONG(w)+e.tiffHeader,A=0;l>A;A++){y[A]=d.SLONG(w+8*A)/d.SLONG(w+8*A+4)}break;default:continue}B=1==l?y[0]:y,g.hasOwnProperty(D)&&"object"!=typeof B?v[D]=g[D][B]:v[D]=B}}return v}function j(){var i=e.tiffHeader;if(d.II(18761==d.SHORT(i)),42!==d.SHORT(i+=2)){return !1}e.IFD0=e.tiffHeader+d.LONG(i+=2),m=f(e.IFD0,k.tiff),"ExifIFDPointer" in m&&(e.exifIFD=e.tiffHeader+m.ExifIFDPointer,delete m.ExifIFDPointer),"GPSInfoIFDPointer" in m&&(e.gpsIFD=e.tiffHeader+m.GPSInfoIFDPointer,delete m.GPSInfoIFDPointer);var l=d.LONG(e.IFD0+12*d.SHORT(e.IFD0)+2);return l&&(e.IFD1=e.tiffHeader+l),!0}function h(q,A,x){var v,z,y,B=0;if("string"==typeof A){var w=k[q.toLowerCase()];for(var p in w){if(w[p]===A){A=p;break}}}v=e[q.toLowerCase()+"IFD"],z=d.SHORT(v);for(var s=0;z>s;s++){if(y=v+12*s+2,d.SHORT(y)==A){B=y+8;break}}return B?(d.LONG(B,x),!0):!1}var d,k,m,e={},g;return d=new c,k={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"},thumb:{513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength"}},g={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},{init:function(i){return e={tiffHeader:10},i!==a1&&i.length?(d.init(i),65505===d.SHORT(0)&&"EXIF\x00"===d.STRING(4,5).toUpperCase()?j():!1):!1},TIFF:function(){return m},EXIF:function(){var o=null;if(e.exifIFD&&(o=f(e.exifIFD,k.exif),o.ExifVersion&&"array"===a.typeOf(o.ExifVersion))){for(var i=0,l="";i<o.ExifVersion.length;i++){l+=String.fromCharCode(o.ExifVersion[i])}o.ExifVersion=l}return o},GPS:function(){var i=null;if(e.gpsIFD){var i=f(e.gpsIFD,k.gps);i.GPSVersionID&&"array"===a.typeOf(i.GPSVersionID)&&(i.GPSVersionID=i.GPSVersionID.join("."))}return i},thumb:function(){if(e.IFD1){var i=f(e.IFD1,k.thumb);if("JPEGInterchangeFormat" in i){return d.SEGMENT(e.tiffHeader+i.JPEGInterchangeFormat,i.JPEGInterchangeFormatLength)}}return null},setExif:function(i,l){return"PixelXDimension"!==i&&"PixelYDimension"!==i?!1:h("exif",i,l)},getBinary:function(){return d.SEGMENT()},purge:function(){d.init(null),d=m=null,e={}}}}}),az(aw,[a4,ax,aE,ay,ah],function(a,g,c,b,f){function d(q){function e(h){var p=0,o,l;for(h||(h=n);p<=h.length();){if(o=h.SHORT(p+=2),o>=65472&&65475>=o){return p+=5,{height:h.SHORT(p),width:h.SHORT(p+=2)}}l=h.SHORT(p+=2),p+=l-2}return null}function t(){var h=k.thumb(),o=new b,l;return h&&(o.init(h),l=e(o),o.init(null),l)?(l.data=h,l):null}function v(){k&&j&&n&&(k.purge(),j.purge(),n.init(null),i=m=j=k=n=null)}var i,n,j,k,m,r;if(i=q,n=new b,n.init(i),65496!==n.SHORT(0)){throw new g.ImageError(g.ImageError.WRONG_FORMAT)}j=new c(q),k=new f,r=!!k.init(j.get("app1")[0]),m=e.call(this),a.extend(this,{type:"image/jpeg",size:i.length,width:m&&m.width||0,height:m&&m.height||0,setExif:function(l,h){return r?("object"===a.typeOf(l)?a.each(l,function(o,p){k.setExif(p,o)}):k.setExif(l,h),void j.set("app1",k.getBinary())):!1},writeHeaders:function(){return arguments.length?j.restore(arguments[0]):i=j.restore(i)},stripHeaders:function(h){return j.strip(h)},purge:function(){v.call(this)}}),r&&(this.meta={tiff:k.TIFF(),exif:k.EXIF(),gps:k.GPS(),thumb:t()})}return d}),az(a5,[ax,a4,ay],function(a,d,c){function b(h){function m(){var i,l;return i=e.call(this,8),"IHDR"==i.type?(l=i.start,{width:p.LONG(l),height:p.LONG(l+=4)}):null}function k(){p&&(p.init(null),n=g=f=j=p=null)}function e(l){var u,q,o,s;return u=p.LONG(l),q=p.STRING(l+=4,4),o=l+=4,s=p.LONG(l+u),{length:u,type:q,start:o,CRC:s}}var n,p,f,j,g;n=h,p=new c,p.init(n),function(){var q=0,o=0,l=[35152,20039,3338,6666];for(o=0;o<l.length;o++,q+=2){if(l[o]!=p.SHORT(q)){throw new a.ImageError(a.ImageError.WRONG_FORMAT)}}}(),g=m.call(this),d.extend(this,{type:"image/png",size:n.length,width:g.width,height:g.height,purge:function(){k.call(this)}}),k.call(this)}return b}),az(bf,[a4,ax,aw,a5],function(a,d,c,b){return function(g){var f=[c,b],e;e=function(){for(var h=0;h<f.length;h++){try{return new f[h](g)}catch(i){}}throw new d.ImageError(d.ImageError.WRONG_FORMAT)}(),a.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(h){return h},stripHeaders:function(h){return h},purge:function(){}}),a.extend(this,e),this.purge=function(){e.purge(),e=null}}}),az(aT,[],function(){function a(z,F,K){var I=z.naturalWidth,k=z.naturalHeight,L=K.width,M=K.height,q=K.x||0,G=K.y||0,t=F.getContext("2d");c(z)&&(I/=2,k/=2);var B=1024,D=document.createElement("canvas");D.width=D.height=B;for(var J=D.getContext("2d"),H=b(z,I,k),C=0;k>C;){for(var N=C+B>k?k-C:B,O=0;I>O;){var Q=O+B>I?I-O:B;J.clearRect(0,0,B,B),J.drawImage(z,-O,-C);var A=O*L/I+q<<0,j=Math.ceil(Q*L/I),n=C*M/k/H+G<<0,P=Math.ceil(N*M/k/H);t.drawImage(D,0,0,Q,N,A,n,j,P),O+=B}C+=B}D=J=null}function c(d){var j=d.naturalWidth,g=d.naturalHeight;if(j*g>1048576){var f=document.createElement("canvas");f.width=f.height=1;var h=f.getContext("2d");return h.drawImage(d,-j+1,0),0===h.getImageData(0,0,1,1).data[3]}return !1}function b(g,v,k){var h=document.createElement("canvas");h.width=1,h.height=k;var p=h.getContext("2d");p.drawImage(g,0,0);for(var m=p.getImageData(0,0,1,k).data,d=0,q=k,w=k;w>d;){var f=m[4*(w-1)+3];0===f?q=w:d=w,w=q+d>>1}h=null;var j=w/k;return 0===j?1:j}return{isSubsampled:c,renderTo:a}}),az(bc,[am,a4,ax,a9,bd,ap,bf,aT,al,ai],function(f,q,j,g,m,k,b,p,v,d){function h(){function n(){if(!a&&!H){throw new j.ImageError(j.DOMException.INVALID_STATE_ERR)}return a||H}function u(l){return g.atob(l.substring(l.indexOf("base64,")+7))}function i(l,w){return"data:"+(w||"")+";base64,"+g.btoa(l)}function r(l){var w=this;H=new Image,H.onerror=function(){D.call(this),w.trigger("error",j.ImageError.WRONG_FORMAT)},H.onload=function(){w.trigger("load")},H.src="data:"==l.substr(0,5)?l:i(l,G.type)}function t(l,y){var w=this,x;return window.FileReader?(x=new FileReader,x.onload=function(){y(this.result)},x.onerror=function(){w.trigger("error",j.ImageError.WRONG_FORMAT)},x.readAsDataURL(l),void 0):y(l.getAsDataURL())}function A(K,I,N,L){var e=this,O,P,w=0,J=0,x,y,E,M;if(C=L,M=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1,-1!==q.inArray(M,[5,6,7,8])){var Q=K;K=I,I=Q}return x=n(),N?(K=Math.min(K,x.width),I=Math.min(I,x.height),O=Math.max(K/x.width,I/x.height)):O=Math.min(K/x.width,I/x.height),O>1&&!N&&L?void this.trigger("Resize"):(a||(a=document.createElement("canvas")),y=Math.round(x.width*O),E=Math.round(x.height*O),N?(a.width=K,a.height=I,y>K&&(w=Math.round((y-K)/2)),E>I&&(J=Math.round((E-I)/2))):(a.width=y,a.height=E),C||s(a.width,a.height,M),z.call(this,x,a,-w,-J,y,E),this.width=a.width,this.height=a.height,B=!0,void e.trigger("Resize"))}function z(w,J,y,x,I,E){if("iOS"===d.OS){p.renderTo(w,J,{width:I,height:E,x:y,y:x})}else{var l=J.getContext("2d");l.drawImage(w,y,x,I,E)}}function s(l,y,x){switch(x){case 5:case 6:case 7:case 8:a.width=y,a.height=l;break;default:a.width=l,a.height=y}var w=a.getContext("2d");switch(x){case 2:w.translate(l,0),w.scale(-1,1);break;case 3:w.translate(l,y),w.rotate(Math.PI);break;case 4:w.translate(0,y),w.scale(1,-1);break;case 5:w.rotate(0.5*Math.PI),w.scale(1,-1);break;case 6:w.rotate(0.5*Math.PI),w.translate(0,-y);break;case 7:w.rotate(0.5*Math.PI),w.translate(l,-y),w.scale(-1,1);break;case 8:w.rotate(-0.5*Math.PI),w.translate(-l,0)}}function D(){o&&(o.purge(),o=null),c=H=a=G=null,B=!1}var F=this,H,o,a,c,G,B=!1,C=!0;q.extend(this,{loadFromBlob:function(l){var y=this,w=y.getRuntime(),x=arguments.length>1?arguments[1]:!0;if(!w.can("access_binary")){throw new j.RuntimeError(j.RuntimeError.NOT_SUPPORTED_ERR)}return G=l,l.isDetached()?(c=l.getSource(),void r.call(this,c)):void t.call(this,l.getSource(),function(E){x&&(c=u(E)),r.call(y,E)})},loadFromImage:function(l,w){this.meta=l.meta,G=new k(null,{name:l.name,size:l.size,type:l.type}),r.call(this,w?c=l.getAsBinaryString():l.getAsDataURL())},getInfo:function(){var l=this.getRuntime(),e;return !o&&c&&l.can("access_image_binary")&&(o=new b(c)),e={width:n().width||0,height:n().height||0,type:G.type||v.getFileMime(G.name),size:c&&c.length||G.size||0,name:G.name||"",meta:o&&o.meta||this.meta||{}},e.meta.thumb&&(e.meta.thumb.data=new m(null,{type:"image/jpeg",data:e.meta.thumb.data})),e},downsize:function(){A.apply(this,arguments)},getAsCanvas:function(){return a&&(a.id=this.uid+"_canvas"),a},getAsBlob:function(l,w){return l!==this.type&&A.call(this,this.width,this.height,!1),new k(null,{name:G.name||"",type:l,data:F.getAsBinaryString.call(this,l,w)})},getAsDataURL:function(l){var x=arguments[1]||90;if(!B){return H.src}if("image/jpeg"!==l){return a.toDataURL("image/png")}try{return a.toDataURL("image/jpeg",x/100)}catch(w){return a.toDataURL("image/jpeg")}},getAsBinaryString:function(l,y){if(!B){return c||(c=u(F.getAsDataURL(l,y))),c}if("image/jpeg"!==l){c=u(F.getAsDataURL(l,y))}else{var x;y||(y=90);try{x=a.toDataURL("image/jpeg",y/100)}catch(w){x=a.toDataURL("image/jpeg")}c=u(x),o&&(c=o.stripHeaders(c),C&&(o.meta&&o.meta.exif&&o.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),c=o.writeHeaders(c)),o.purge(),o=null)}return B=!1,c},destroy:function(){F=null,D.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}return f.Image=h}),az(aC,[a4,ai,ar,ax,aJ],function(f,q,j,g,m){function k(){var a;try{a=navigator.plugins["Shockwave Flash"],a=a.description}catch(i){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(c){a="0.0"}}return a=a.match(/\d+/g),parseFloat(a[0]+"."+a[1])}function b(a){var c=j.get(a);c&&"OBJECT"==c.nodeName&&("IE"===q.browser?(c.style.display="none",function l(){4==c.readyState?p(a):setTimeout(l,10)}()):c.parentNode.removeChild(c))}function p(a){var l=j.get(a);if(l){for(var c in l){"function"==typeof l[c]&&(l[c]=null)}l.parentNode.removeChild(l)}}function v(c){var e=this,a;c=f.extend({swf_url:q.swf_url},c),m.call(this,c,d,{access_binary:function(i){return i&&"browser"===e.mode},access_image_binary:function(i){return i&&"browser"===e.mode},display_media:m.capTrue,do_cors:m.capTrue,drag_and_drop:!1,report_upload_progress:function(){return"client"===e.mode},resize_image:m.capTrue,return_response_headers:!1,return_response_type:function(i){return"json"===i&&window.JSON?!0:!f.arrayDiff(i,["","text","document"])||"browser"===e.mode},return_status_code:function(i){return"browser"===e.mode||!f.arrayDiff(i,[200,404])},select_file:m.capTrue,select_multiple:m.capTrue,send_binary_string:function(i){return i&&"browser"===e.mode},send_browser_cookies:function(i){return i&&"browser"===e.mode},send_custom_headers:function(i){return i&&"browser"===e.mode},send_multipart:m.capTrue,slice_blob:function(i){return i&&"browser"===e.mode},stream_upload:function(i){return i&&"browser"===e.mode},summon_file_dialog:!1,upload_filesize:function(i){return f.parseSizeStr(i)<=2097152||"client"===e.mode},use_http_method:function(i){return !f.arrayDiff(i,["GET","POST"])}},{access_binary:function(i){return i?"browser":"client"},access_image_binary:function(i){return i?"browser":"client"},report_upload_progress:function(i){return i?"browser":"client"},return_response_type:function(i){return f.arrayDiff(i,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(i){return f.arrayDiff(i,[200,404])?"browser":["client","browser"]},send_binary_string:function(i){return i?"browser":"client"},send_browser_cookies:function(i){return i?"browser":"client"},send_custom_headers:function(i){return i?"browser":"client"},stream_upload:function(i){return i?"client":"browser"},upload_filesize:function(i){return f.parseSizeStr(i)>=2097152?"client":"browser"}},"client"),k()<10&&(this.mode=!1),f.extend(this,{getShim:function(){return j.get(this.uid)},shimExec:function(i,o){var l=[].slice.call(arguments,2);return e.getShim().exec(this.uid,i,o,l)},init:function(){var i,s,l;l=this.getShimContainer(),f.extend(l.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),i='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+c.swf_url+'" ',"IE"===q.browser&&(i+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),i+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+c.swf_url+'" /><param name="flashvars" value="uid='+escape(this.uid)+"&target="+q.global_event_dispatcher+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',"IE"===q.browser?(s=document.createElement("div"),l.appendChild(s),s.outerHTML=i,s=l=null):l.innerHTML=i,a=setTimeout(function(){e&&!e.initialized&&e.trigger("Error",new g.RuntimeError(g.RuntimeError.NOT_INIT_ERR))},5000)},destroy:function(i){return function(){b(e.uid),i.call(e),clearTimeout(a),c=a=i=e=null}}(this.destroy)},h)}var d="flash",h={};return m.addConstructor(d,v),h}),az(a8,[aC,ap,a4],function(a,d,c){var b={init:function(f){var g=this,h=this.getRuntime();this.bind("Change",function(){var i=h.shimExec.call(g,"FileInput","getFiles");g.files=[],c.each(i,function(j){g.files.push(new d(h.uid,j))})},999),this.getRuntime().shimExec.call(this,"FileInput","init",{name:f.name,accept:f.accept,multiple:f.multiple}),this.trigger("ready")}};return a.FileInput=b}),az(ba,[aC,bd],function(a,c){var b={slice:function(d,g,f,j){var h=this.getRuntime();return 0>g?g=Math.max(d.size+g,0):g>0&&(g=Math.min(g,d.size)),0>f?f=Math.max(d.size+f,0):f>0&&(f=Math.min(f,d.size)),d=h.shimExec.call(this,"Blob","slice",g,f,j||""),d&&(d=new c(h.uid,d)),d}};return a.Blob=b}),az(be,[aC,a9],function(a,d){function c(f,g){switch(g){case"readAsText":return d.atob(f,"utf8");case"readAsBinaryString":return d.atob(f);case"readAsDataURL":return f}return null}var b={read:function(f,h){var g=this;return g.result="","readAsDataURL"===f&&(g.result="data:"+(h.type||"")+";base64,"),g.bind("Progress",function(i,e){e&&(g.result+=c(e,f))},999),g.getRuntime().shimExec.call(this,"FileReader","readAsBase64",h.uid)}};return a.FileReader=b}),az(aa,[aC,a9],function(a,d){function c(f,g){switch(g){case"readAsText":return d.atob(f,"utf8");case"readAsBinaryString":return d.atob(f);case"readAsDataURL":return f}return null}var b={read:function(f,j){var g,h=this.getRuntime();return(g=h.shimExec.call(this,"FileReaderSync","readAsBase64",j.uid))?("readAsDataURL"===f&&(g="data:"+(j.type||"")+";base64,"+g),c(g,f,j.type)):null}};return a.FileReaderSync=b}),az(aD,[aC,a4,bd,ap,aZ,ad,aA],function(c,k,f,d,h,g,b){var j={send:function(n,p){function t(){n.transport=q.mode,q.shimExec.call(a,"XMLHttpRequest","send",n,p)}function v(i,l){q.shimExec.call(a,"XMLHttpRequest","appendBlob",i,l.uid),p=null,t()}function w(i,r){var l=new b;l.bind("TransportingComplete",function(){r(this.result)}),l.transport(i.getSource(),i.type,{ruid:q.uid})}var a=this,q=a.getRuntime();if(k.isEmptyObj(n.headers)||k.each(n.headers,function(i,l){q.shimExec.call(a,"XMLHttpRequest","setRequestHeader",l,i.toString())}),p instanceof g){var m;if(p.each(function(i,l){i instanceof f?m=l:q.shimExec.call(a,"XMLHttpRequest","append",l,i)}),p.hasBlob()){var o=p.getBlob();o.isDetached()?w(o,function(i){o.destroy(),v(m,i)}):v(m,o)}else{p=null,t()}}else{p instanceof f?p.isDetached()?w(p,function(i){p.destroy(),p=i.uid,t()}):(p=p.uid,t()):t()}},getResponse:function(l){var m,p,i=this.getRuntime();if(p=i.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob")){if(p=new d(i.uid,p),"blob"===l){return p}try{if(m=new h,~k.inArray(l,["","text"])){return m.readAsText(p)}if("json"===l&&window.JSON){return JSON.parse(m.readAsText(p))}}finally{p.destroy()}}return null},abort:function(a){var i=this.getRuntime();i.shimExec.call(this,"XMLHttpRequest","abort"),this.dispatchEvent("readystatechange"),this.dispatchEvent("abort")}};return c.XMLHttpRequest=j}),az(bg,[aC,bd],function(a,c){var b={getAsBlob:function(d){var g=this.getRuntime(),f=g.shimExec.call(this,"Transporter","getAsBlob",d);return f?new c(g.uid,f):null}};return a.Transporter=b}),az(aF,[aC,a4,aA,bd,aZ],function(a,g,c,b,f){var d={loadFromBlob:function(h){function m(i){l.shimExec.call(j,"Image","loadFromBlob",i.uid),j=l=null}var j=this,l=j.getRuntime();if(h.isDetached()){var k=new c;k.bind("TransportingComplete",function(){m(k.result.getSource())}),k.transport(h.getSource(),h.type,{ruid:l.uid})}else{m(h.getSource())}},getInfo:function(){var h=this.getRuntime(),i=h.shimExec.call(this,"Image","getInfo");return i.meta&&i.meta.thumb&&(i.meta.thumb.data=new b(h.uid,i.meta.thumb.data)),i},loadFromImage:function(h){var i=this.getRuntime();return i.shimExec.call(this,"Image","loadFromImage",h.uid)},getAsBlob:function(h,k){var i=this.getRuntime(),j=i.shimExec.call(this,"Image","getAsBlob",h,k);return j?new b(i.uid,j):null},getAsDataURL:function(){var h=this.getRuntime(),j=h.Image.getAsBlob.apply(this,arguments),i;return j?(i=new f,i.readAsDataURL(j)):null}};return a.Image=d}),az(aU,[a4,ai,ar,ax,aJ],function(c,k,f,d,h){function g(v){var C=!1,y=null,w,A,z,m,B,D=0;try{try{y=new ActiveXObject("AgControl.AgControl"),y.IsVersionSupported(v)&&(C=!0),y=null}catch(p){var x=navigator.plugins["Silverlight Plug-In"];if(x){for(w=x.description,"1.0.30226.2"===w&&(w="2.0.30226.2"),A=w.split(".");A.length>3;){A.pop()}for(;A.length<4;){A.push(0)}for(z=v.split(".");z.length>4;){z.pop()}do{m=parseInt(z[D],10),B=parseInt(A[D],10),D++}while(D<z.length&&m===B);B>=m&&!isNaN(m)&&(C=!0)}}}catch(q){C=!1}return C}function b(e){var i=this,m;e=c.extend({xap_url:k.xap_url},e),h.call(this,e,j,{access_binary:h.capTrue,access_image_binary:h.capTrue,display_media:h.capTrue,do_cors:h.capTrue,drag_and_drop:!1,report_upload_progress:h.capTrue,resize_image:h.capTrue,return_response_headers:function(a){return a&&"client"===i.mode},return_response_type:function(a){return"json"!==a?!0:!!window.JSON},return_status_code:function(a){return"client"===i.mode||!c.arrayDiff(a,[200,404])},select_file:h.capTrue,select_multiple:h.capTrue,send_binary_string:h.capTrue,send_browser_cookies:function(a){return a&&"browser"===i.mode},send_custom_headers:function(a){return a&&"client"===i.mode},send_multipart:h.capTrue,slice_blob:h.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:h.capTrue,use_http_method:function(a){return"client"===i.mode||!c.arrayDiff(a,["GET","POST"])}},{return_response_headers:function(a){return a?"client":"browser"},return_status_code:function(a){return c.arrayDiff(a,[200,404])?"client":["client","browser"]},send_browser_cookies:function(a){return a?"browser":"client"},send_custom_headers:function(a){return a?"client":"browser"},use_http_method:function(a){return c.arrayDiff(a,["GET","POST"])?"client":["client","browser"]}}),g("2.0.31005.0")&&"Opera"!==k.browser||(this.mode=!1),c.extend(this,{getShim:function(){return f.get(this.uid).content.Moxie},shimExec:function(a,p){var o=[].slice.call(arguments,2);return i.getShim().exec(this.uid,a,p,o)},init:function(){var a;a=this.getShimContainer(),a.innerHTML='<object id="'+this.uid+'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;"><param name="source" value="'+e.xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="uid='+this.uid+",target="+k.global_event_dispatcher+'"/></object>',m=setTimeout(function(){i&&!i.initialized&&i.trigger("Error",new d.RuntimeError(d.RuntimeError.NOT_INIT_ERR))},"Windows"!==k.OS?10000:5000)},destroy:function(a){return function(){a.call(i),clearTimeout(m),e=m=a=i=null}}(this.destroy)},l)}var j="silverlight",l={};return h.addConstructor(j,b),l}),az(aq,[aU,ap,a4],function(a,d,c){var b={init:function(f){function g(i){for(var l="",k=0;k<i.length;k++){l+=(""!==l?"|":"")+i[k].title+" | *."+i[k].extensions.replace(/,/g,";*.")}return l}var j=this,h=this.getRuntime();this.bind("Change",function(){var i=h.shimExec.call(j,"FileInput","getFiles");j.files=[],c.each(i,function(k){j.files.push(new d(h.uid,k))})},999),this.getRuntime().shimExec.call(this,"FileInput","init",g(f.accept),f.name,f.multiple),this.trigger("ready")}};return a.FileInput=b}),az(a3,[aU,a4,ba],function(a,c,b){return a.Blob=c.extend({},b)}),az(aN,[aU,ar,aM],function(a,d,c){var b={init:function(){var f=this,g=f.getRuntime(),h;return h=g.getShimContainer(),c.addEvent(h,"dragover",function(i){i.preventDefault(),i.stopPropagation(),i.dataTransfer.dropEffect="copy"},f.uid),c.addEvent(h,"dragenter",function(i){i.preventDefault();var j=d.get(g.uid).dragEnter(i);j&&i.stopPropagation()},f.uid),c.addEvent(h,"drop",function(i){i.preventDefault();var j=d.get(g.uid).dragDrop(i);j&&i.stopPropagation()},f.uid),g.shimExec.call(this,"FileDrop","init")}};return a.FileDrop=b}),az(aB,[aU,a4,be],function(a,c,b){return a.FileReader=c.extend({},b)}),az(aX,[aU,a4,aa],function(a,c,b){return a.FileReaderSync=c.extend({},b)}),az(aQ,[aU,a4,aD],function(a,c,b){return a.XMLHttpRequest=c.extend({},b)}),az(af,[aU,a4,bg],function(a,c,b){return a.Transporter=c.extend({},b)}),az(a0,[aU,a4,bd,aF],function(a,d,c,b){return a.Image=d.extend({},b,{getInfo:function(){var f=this.getRuntime(),g=["tiff","exif","gps","thumb"],j={meta:{}},h=f.shimExec.call(this,"Image","getInfo");return h.meta&&(d.each(g,function(l){var q=h.meta[l],o,m,k,p;if(q&&q.keys){for(j.meta[l]={},m=0,k=q.keys.length;k>m;m++){o=q.keys[m],p=q[o],p&&(/^(\d|[1-9]\d+)$/.test(p)?p=parseInt(p,10):/^\d*\.\d+$/.test(p)&&(p=parseFloat(p)),j.meta[l][o]=p)}}}),j.meta&&j.meta.thumb&&(j.meta.thumb.data=new c(f.uid,j.meta.thumb.data))),j.width=parseInt(h.width,10),j.height=parseInt(h.height,10),j.size=parseInt(h.size,10),j.type=h.type,j.name=h.name,j}})}),az(a6,[a4,ax,aJ,ai],function(c,j,f,d){function h(i){var a=this,e=f.capTest,k=f.capTrue;f.call(this,i,g,{access_binary:e(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:e(b.Image&&(d.can("create_canvas")||d.can("use_data_uri_over32kb"))),do_cors:!1,drag_and_drop:!1,filter_by_extension:e(function(){return"Chrome"===d.browser&&d.version>=28||"IE"===d.browser&&d.version>=10||"Safari"===d.browser&&d.version>=7}()),resize_image:function(){return b.Image&&a.can("access_binary")&&d.can("create_canvas")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(l){return"json"===l&&window.JSON?!0:!!~c.inArray(l,["text","document",""])},return_status_code:function(l){return !c.arrayDiff(l,[200,404])},select_file:function(){return d.can("use_fileinput")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return a.can("select_file")},summon_file_dialog:function(){return a.can("select_file")&&("Firefox"===d.browser&&d.version>=4||"Opera"===d.browser&&d.version>=12||"IE"===d.browser&&d.version>=10||!!~c.inArray(d.browser,["Chrome","Safari"]))},upload_filesize:k,use_http_method:function(l){return !c.arrayDiff(l,["GET","POST"])}}),c.extend(this,{init:function(){this.trigger("Init")},destroy:function(l){return function(){l.call(a),l=a=null}}(this.destroy)}),c.extend(this.getShim(),b)}var g="html4",b={};return f.addConstructor(g,h),b}),az(ak,[a6,ap,a4,ar,aM,al,ai],function(c,k,f,d,h,g,b){function j(){function i(){var u=this,s=u.getRuntime(),e,n,r,v,t,q;q=f.guid("uid_"),e=s.getShimContainer(),l&&(r=d.get(l+"_form"),r&&f.extend(r.style,{top:"100%"})),v=document.createElement("form"),v.setAttribute("id",q+"_form"),v.setAttribute("method","post"),v.setAttribute("enctype","multipart/form-data"),v.setAttribute("encoding","multipart/form-data"),f.extend(v.style,{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),t=document.createElement("input"),t.setAttribute("id",q),t.setAttribute("type","file"),t.setAttribute("name",a.name||"Filedata"),t.setAttribute("accept",m.join(",")),f.extend(t.style,{fontSize:"999px",opacity:0}),v.appendChild(t),e.appendChild(v),f.extend(t.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),"IE"===b.browser&&b.version<10&&f.extend(t.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}),t.onchange=function(){var o;if(this.value){if(this.files){if(o=this.files[0],0===o.size){return void v.parentNode.removeChild(v)}}else{o={name:this.value}}o=new k(s.uid,o),this.onchange=function(){},i.call(u),u.files=[o],t.setAttribute("id",o.uid),v.setAttribute("id",o.uid+"_form"),u.trigger("change"),t=v=null}},s.can("summon_file_dialog")&&(n=d.get(a.browse_button),h.removeEvent(n,"click",u.uid),h.addEvent(n,"click",function(o){t&&!t.disabled&&t.click(),o.preventDefault()},u.uid)),l=q,e=r=n=null}var l,m=[],a;f.extend(this,{init:function(q){var o=this,e=o.getRuntime(),p;a=q,m=q.accept.mimes||g.extList2mimes(q.accept,e.can("filter_by_extension")),p=e.getShimContainer(),function(){var n,r,s;n=d.get(q.browse_button),e.can("summon_file_dialog")&&("static"===d.getStyle(n,"position")&&(n.style.position="relative"),r=parseInt(d.getStyle(n,"z-index"),10)||1,n.style.zIndex=r,p.style.zIndex=r-1),s=e.can("summon_file_dialog")?n:p,h.addEvent(s,"mouseover",function(){o.trigger("mouseenter")},o.uid),h.addEvent(s,"mouseout",function(){o.trigger("mouseleave")},o.uid),h.addEvent(s,"mousedown",function(){o.trigger("mousedown")},o.uid),h.addEvent(d.get(q.container),"mouseup",function(){o.trigger("mouseup")},o.uid),n=null}(),i.call(this),p=null,o.trigger({type:"ready",async:!0})},disable:function(n){var o;(o=d.get(l))&&(o.disabled=!!n)},destroy:function(){var o=this.getRuntime(),q=o.getShim(),p=o.getShimContainer();h.removeAllEvents(p,this.uid),h.removeAllEvents(a&&d.get(a.container),this.uid),h.removeAllEvents(a&&d.get(a.browse_button),this.uid),p&&(p.innerHTML=""),q.removeInstance(this.uid),l=m=a=p=q=null}})}return c.FileInput=j}),az(aI,[a6,at],function(a,b){return a.FileReader=b}),az(an,[a6,a4,ar,bb,ax,aM,bd,ad],function(c,k,f,d,h,g,b,j){function l(){function i(p){var x=this,q,v,o,w,y=!1;if(m){if(q=m.id.replace(/_iframe$/,""),v=f.get(q+"_form")){for(o=v.getElementsByTagName("input"),w=o.length;w--;){switch(o[w].getAttribute("type")){case"hidden":o[w].parentNode.removeChild(o[w]);break;case"file":y=!0}}o=[],y||v.parentNode.removeChild(v),v=null}setTimeout(function(){g.removeEvent(m,"load",x.uid),m.parentNode&&m.parentNode.removeChild(m);var e=x.getRuntime().getShimContainer();e.children.length||e.parentNode.removeChild(e),e=m=null,p()},1)}}var n,a,m;k.extend(this,{send:function(e,o){function r(){var p=s.getShimContainer()||document.body,v=document.createElement("div");v.innerHTML='<iframe id="'+q+'_iframe" name="'+q+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>',m=v.firstChild,p.appendChild(m),g.addEvent(m,"load",function(){var w;try{w=m.contentWindow.document||m.contentDocument||window.frames[m.id].document,/^4(0[0-9]|1[0-7]|2[2346])\s/.test(w.title)?n=w.title.replace(/^(\d+).*$/,"$1"):(n=200,a=k.trim(w.body.innerHTML),t.trigger({type:"progress",loaded:a.length,total:a.length}),z&&t.trigger({type:"uploadprogress",loaded:z.size||1025,total:z.size||1025}))}catch(y){if(!d.hasSameOrigin(e.url)){return void i.call(t,function(){t.trigger("error")})}n=404}i.call(t,function(){t.trigger("load")})},t.uid)}var t=this,s=t.getRuntime(),q,u,x,z;if(n=a=null,o instanceof j&&o.hasBlob()){if(z=o.getBlob(),q=z.uid,x=f.get(q),u=f.get(q+"_form"),!u){throw new h.DOMException(h.DOMException.NOT_FOUND_ERR)}}else{q=k.guid("uid_"),u=document.createElement("form"),u.setAttribute("id",q+"_form"),u.setAttribute("method",e.method),u.setAttribute("enctype","multipart/form-data"),u.setAttribute("encoding","multipart/form-data"),s.getShimContainer().appendChild(u)}u.setAttribute("target",q+"_iframe"),o instanceof j&&o.each(function(p,w){if(p instanceof b){x&&x.setAttribute("name",w)}else{var v=document.createElement("input");k.extend(v,{type:"hidden",name:w,value:p}),x?u.insertBefore(v,x):u.appendChild(v)}}),u.setAttribute("action",e.url),r(),u.submit(),t.trigger("loadstart")},getStatus:function(){return n},getResponse:function(o){if("json"===o&&"string"===k.typeOf(a)&&window.JSON){try{return JSON.parse(a.replace(/^\s*<pre[^>]*>/,"").replace(/<\/pre>\s*$/,""))}catch(p){return null}}return a},abort:function(){var e=this;m&&m.contentWindow&&(m.contentWindow.stop?m.contentWindow.stop():m.contentWindow.document.execCommand?m.contentWindow.document.execCommand("Stop"):m.src="about:blank"),i.call(this,function(){e.dispatchEvent("abort")})}})}return c.XMLHttpRequest=l}),az(au,[a6,bc],function(a,b){return a.Image=b}),ac([a4,ai,aG,al,ar,ax,aR,aJ,av,a7,a9,bd,ap,ab,ag,bb,aW,aZ,ad,a2,aA,aP,aM])}(this);(function(a){var d={},b=a.moxie.core.utils.Basic.inArray;return function c(f){var g,h;for(g in f){h=typeof f[g],h==="object"&&!~b(g,["Exceptions","Env","Mime"])?c(f[g]):h==="function"&&(d[g]=f[g])}}(a.moxie),d.Env=a.moxie.core.utils.Env,d.Mime=a.moxie.core.utils.Mime,d.Exceptions=a.moxie.core.Exceptions,a.mOxie=d,a.o||(a.o=d),d})(this);(function(a,h,c){function g(i){function k(m,p,o){var n={chunks:"slice_blob",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",urlstream_upload:"send_binary_string",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};n[m]?j[n[m]]=p:o||(j[m]=p)}var l=i.required_features,j={};if(typeof l=="string"){d.each(l.split(/\s*,\s*/),function(m){k(m,!0)})}else{if(typeof l=="object"){d.each(l,function(m,n){k(n,m)})}else{if(l===!0){i.chunk_size>0&&(j.slice_blob=!0);if(i.resize.enabled||!i.multipart){j.send_binary_string=!0}d.each(i,function(m,n){k(n,!!m,!0)})}}}return j}var f=a.setTimeout,b={},d={VERSION:"2.1.4",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:h.mimes,ua:h.ua,typeOf:h.typeOf,extend:h.extend,guid:h.guid,get:function(j){var k=[],e;h.typeOf(j)!=="array"&&(j=[j]);var l=j.length;while(l--){e=h.get(j[l]),e&&k.push(e)}return k.length?k:null},each:h.each,getPos:h.getPos,getSize:h.getSize,xmlEncode:function(i){var k={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},j=/[<>&\"\']/g;return i?(""+i).replace(j,function(l){return k[l]?"&"+k[l]+";":l}):i},toArray:h.toArray,inArray:h.inArray,addI18n:h.addI18n,translate:h.translate,isEmptyObj:h.isEmptyObj,hasClass:h.hasClass,addClass:h.addClass,removeClass:h.removeClass,getStyle:h.getStyle,addEvent:h.addEvent,removeEvent:h.removeEvent,removeAllEvents:h.removeAllEvents,cleanName:function(i){var k,j;j=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"];for(k=0;k<j.length;k+=2){i=i.replace(j[k],j[k+1])}return i=i.replace(/\s+/g,"_"),i=i.replace(/[^a-z0-9_\-\.]+/gi,""),i},buildUrl:function(i,k){var j="";return d.each(k,function(l,m){j+=(j?"&":"")+encodeURIComponent(m)+"="+encodeURIComponent(l)}),j&&(i+=(i.indexOf("?")>0?"&":"?")+j),i},formatSize:function(i){function k(l,m){return Math.round(l*Math.pow(10,m))/Math.pow(10,m)}if(i===c||/\D/.test(i)){return d.translate("N/A")}var j=Math.pow(1024,4);return i>j?k(i/j,1)+" "+d.translate("tb"):i>(j/=1024)?k(i/j,1)+" "+d.translate("gb"):i>(j/=1024)?k(i/j,1)+" "+d.translate("mb"):i>1024?Math.round(i/1024)+" "+d.translate("kb"):i+" "+d.translate("b")},parseSize:h.parseSizeStr,predictRuntime:function(j,l){var m,k;return m=new d.Uploader(j),k=h.Runtime.thatCan(m.getOption().required_features,l||j.runtimes),m.destroy(),k},addFileFilter:function(i,j){b[i]=j}};d.addFileFilter("mime_types",function(i,k,j){i.length&&!i.regexp.test(k.name)?(this.trigger("Error",{code:d.FILE_EXTENSION_ERROR,message:d.translate("File extension error."),file:k}),j(!1)):j(!0)}),d.addFileFilter("max_file_size",function(i,l,j){var k;i=d.parseSize(i),l.size!==k&&i&&l.size>i?(this.trigger("Error",{code:d.FILE_SIZE_ERROR,message:d.translate("File size error."),file:l}),j(!1)):j(!0)}),d.addFileFilter("prevent_duplicates",function(i,l,j){if(i){var k=this.files.length;while(k--){if(l.name===this.files[k].name&&l.size===this.files[k].size){this.trigger("Error",{code:d.FILE_DUPLICATE_ERROR,message:d.translate("Duplicate file error."),file:l}),j(!1);return}}}j(!0)}),d.Uploader=function(z){function G(){var k,m=0,l;if(this.state==d.STARTED){for(l=0;l<F.length;l++){!k&&F[l].status==d.QUEUED?(k=F[l],this.trigger("BeforeUpload",k)&&(k.status=d.UPLOADING,this.trigger("UploadFile",k))):m++}m==F.length&&(this.state!==d.STOPPED&&(this.state=d.STOPPED,this.trigger("StateChanged")),this.trigger("UploadComplete",F))}}function ac(k){k.percent=k.size>0?Math.ceil(k.loaded/k.size*100):100,o()}function o(){var k,l;s.reset();for(k=0;k<F.length;k++){l=F[k],l.size!==c?(s.size+=l.origSize,s.loaded+=l.loaded*l.origSize/l.size):s.size=c,l.status==d.DONE?s.uploaded++:l.status==d.FAILED?s.failed++:s.queued++}s.size===c?s.percent=F.length>0?Math.ceil(s.uploaded/F.length*100):0:(s.bytesPerSec=Math.ceil(s.loaded/((+(new Date)-V||1)/1000)),s.percent=s.size>0?Math.ceil(s.loaded/s.size*100):0)}function aa(){var k=q[0]||H[0];return k?k.getRuntime().uid:!1}function B(k,l){if(k.ruid){var m=h.Runtime.getInfo(k.ruid);if(m){return m.can(l)}}return !1}function W(){this.bind("FilesAdded FilesRemoved",function(k){k.trigger("QueueChanged"),k.refresh()}),this.bind("CancelUpload",U),this.bind("BeforeUpload",r),this.bind("UploadFile",I),this.bind("UploadProgress",K),this.bind("StateChanged",n),this.bind("QueueChanged",o),this.bind("Error",i),this.bind("FileUploaded",Q),this.bind("Destroy",t)}function ab(k,m){var p=this,l=0,v=[],w={runtime_order:k.runtimes,required_caps:k.required_features,preferred_caps:J,swf_url:k.flash_swf_url,xap_url:k.silverlight_xap_url};d.each(k.runtimes.split(/\s*,\s*/),function(e){k[e]&&(w[e]=k[e])}),k.browse_button&&d.each(k.browse_button,function(e){v.push(function(x){var u=new h.FileInput(d.extend({},w,{accept:k.filters.mime_types,name:k.file_data_name,multiple:k.multi_selection,container:k.container,browse_button:e}));u.onready=function(){var y=h.Runtime.getInfo(this.ruid);h.extend(p.features,{chunks:y.can("slice_blob"),multipart:y.can("send_multipart"),multi_selection:y.can("select_multiple")}),l++,q.push(this),x()},u.onchange=function(){p.addFile(this.files)},u.bind("mouseenter mouseleave mousedown mouseup",function(y){Z||(k.browse_button_hover&&("mouseenter"===y.type?h.addClass(e,k.browse_button_hover):"mouseleave"===y.type&&h.removeClass(e,k.browse_button_hover)),k.browse_button_active&&("mousedown"===y.type?h.addClass(e,k.browse_button_active):"mouseup"===y.type&&h.removeClass(e,k.browse_button_active)))}),u.bind("mousedown",function(){p.trigger("Browse")}),u.bind("error runtimeerror",function(){u=null,x()}),u.init()})}),k.drop_element&&d.each(k.drop_element,function(u){v.push(function(e){var x=new h.FileDrop(d.extend({},w,{drop_zone:u}));x.onready=function(){var y=h.Runtime.getInfo(this.ruid);p.features.dragdrop=y.can("drag_and_drop"),l++,H.push(this),e()},x.ondrop=function(){p.addFile(this.files)},x.bind("error runtimeerror",function(){x=null,e()}),x.init()})}),h.inSeries(v,function(){typeof m=="function"&&m(l)})}function X(k,p,l){var u=new h.Image;try{u.onload=function(){if(p.width>this.width&&p.height>this.height&&p.quality===c&&p.preserve_headers&&!p.crop){return this.destroy(),l(k)}u.downsize(p.width,p.height,p.crop,p.preserve_headers)},u.onresize=function(){l(this.getAsBlob(k.type,p.quality)),this.destroy()},u.onerror=function(){l(k)},u.load(k)}catch(m){l(k)}}function R(k,p,v){function l(u,A,x){var y=j[u];switch(u){case"max_file_size":u==="max_file_size"&&(j.max_file_size=j.filters.max_file_size=A);break;case"chunk_size":if(A=d.parseSize(A)){j[u]=A,j.send_file_name=!0}break;case"multipart":j[u]=A,A||(j.send_file_name=!0);break;case"unique_names":j[u]=A,A&&(j.send_file_name=!0);break;case"filters":d.typeOf(A)==="array"&&(A={mime_types:A}),x?d.extend(j.filters,A):j.filters=A,A.mime_types&&(j.filters.mime_types.regexp=function(C){var D=[];return d.each(C,function(E){d.each(E.extensions.split(/,/),function(L){/^\s*\*\s*$/.test(L)?D.push("\\.*"):D.push("\\."+L.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),new RegExp("("+D.join("|")+")$","i")}(j.filters.mime_types));break;case"resize":x?d.extend(j.resize,A,{enabled:!0}):j.resize=A;break;case"prevent_duplicates":j.prevent_duplicates=j.filters.prevent_duplicates=!!A;break;case"browse_button":case"drop_element":A=d.get(A);case"container":case"runtimes":case"multi_selection":case"flash_swf_url":case"silverlight_xap_url":j[u]=A,x||(w=!0);break;default:j[u]=A}x||m.trigger("OptionChanged",u,A,y)}var m=this,w=!1;typeof k=="object"?d.each(k,function(u,x){l(x,u,v)}):l(k,p,v),v?(j.required_features=g(d.extend({},j)),J=g(d.extend({},j,{required_features:!0}))):w&&(m.trigger("Destroy"),ab.call(m,j,function(u){u?(m.runtime=h.Runtime.getInfo(aa()).type,m.trigger("Init",{runtime:m.runtime}),m.trigger("PostInit")):m.trigger("Error",{code:d.INIT_ERROR,message:d.translate("Init error.")})}))}function r(k,p){if(k.settings.unique_names){var l=p.name.match(/\.([^.]+)$/),m="part";l&&(m=l[1]),p.target_name=p.id+"."+m}}function I(m,y){function w(){D-->0?f(A,1000):(y.loaded=v,m.trigger("Error",{code:d.HTTP_ERROR,message:d.translate("HTTP Error."),file:y,response:P.responseText,status:P.status,responseHeaders:P.getAllResponseHeaders()}))}function A(){var e,u,p={},E;if(y.status!==d.UPLOADING||m.state===d.STOPPED){return}m.settings.send_file_name&&(p.name=y.target_name||y.name),C&&k.chunks&&l.size>C?(E=Math.min(C,l.size-v),e=l.slice(v,v+E)):(E=l.size,e=l),C&&k.chunks&&(m.settings.send_chunk_number?(p.chunk=Math.ceil(v/C),p.chunks=Math.ceil(l.size/C)):(p.offset=v,p.total=l.size)),P=new h.XMLHttpRequest,P.upload&&(P.upload.onprogress=function(L){y.loaded=Math.min(y.size,v+L.loaded),m.trigger("UploadProgress",y)}),P.onload=function(){if(P.status>=400){w();return}D=m.settings.max_retries,E<l.size?(e.destroy(),v+=E,y.loaded=Math.min(v,l.size),m.trigger("ChunkUploaded",y,{offset:y.loaded,total:l.size,response:P.responseText,status:P.status,responseHeaders:P.getAllResponseHeaders()}),h.Env.browser==="Android Browser"&&m.trigger("UploadProgress",y)):y.loaded=y.size,e=u=null,!v||v>=l.size?(y.size!=y.origSize&&(l.destroy(),l=null),m.trigger("UploadProgress",y),y.status=d.DONE,m.trigger("FileUploaded",y,{response:P.responseText,status:P.status,responseHeaders:P.getAllResponseHeaders()})):f(A,1)},P.onerror=function(){w()},P.onloadend=function(){this.destroy(),P=null},m.settings.multipart&&k.multipart?(P.open("post",x,!0),d.each(m.settings.headers,function(L,M){P.setRequestHeader(M,L)}),u=new h.FormData,d.each(d.extend(p,m.settings.multipart_params),function(L,M){u.append(M,L)}),u.append(m.settings.file_data_name,e),P.send(u,{runtime_order:m.settings.runtimes,required_caps:m.settings.required_features,preferred_caps:J,swf_url:m.settings.flash_swf_url,xap_url:m.settings.silverlight_xap_url})):(x=d.buildUrl(m.settings.url,d.extend(p,m.settings.multipart_params)),P.open("post",x,!0),P.setRequestHeader("Content-Type","application/octet-stream"),d.each(m.settings.headers,function(L,M){P.setRequestHeader(M,L)}),P.send(e,{runtime_order:m.settings.runtimes,required_caps:m.settings.required_features,preferred_caps:J,swf_url:m.settings.flash_swf_url,xap_url:m.settings.silverlight_xap_url}))}var x=m.settings.url,C=m.settings.chunk_size,D=m.settings.max_retries,k=m.features,v=0,l;y.loaded&&(v=y.loaded=C?C*Math.floor(y.loaded/C):0),l=y.getSource(),m.settings.resize.enabled&&B(l,"send_binary_string")&&!!~h.inArray(l.type,["image/jpeg","image/png"])?X.call(this,l,m.settings.resize,function(p){l=p,y.size=p.size,A()}):A()}function K(k,l){ac(l)}function n(k){if(k.state==d.STARTED){V=+(new Date)}else{if(k.state==d.STOPPED){for(var l=k.files.length-1;l>=0;l--){k.files[l].status==d.UPLOADING&&(k.files[l].status=d.QUEUED,o())}}}}function U(){P&&P.abort()}function Q(k){o(),f(function(){G.call(k)},1)}function i(k,l){l.code===d.INIT_ERROR?k.destroy():l.code===d.HTTP_ERROR&&(l.file.status=d.FAILED,ac(l.file),k.state==d.STARTED&&(k.trigger("CancelUpload"),f(function(){G.call(k)},1)))}function t(k){k.stop(),d.each(F,function(l){l.destroy()}),F=[],q.length&&(d.each(q,function(l){l.destroy()}),q=[]),H.length&&(d.each(H,function(l){l.destroy()}),H=[]),J={},Z=!1,V=P=null,s.reset()}var Y=d.guid(),j,F=[],J={},q=[],H=[],V,s,Z=!1,P;j={runtimes:h.Runtime.order,max_retries:0,chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",flash_swf_url:"js/Moxie.swf",silverlight_xap_url:"js/Moxie.xap",filters:{mime_types:[],prevent_duplicates:!1,max_file_size:0},resize:{enabled:!1,preserve_headers:!0,crop:!1},send_file_name:!0,send_chunk_number:!0},R.call(this,z,null,!0),s=new d.QueueProgress,d.extend(this,{id:Y,uid:Y,state:d.STOPPED,features:{},runtime:null,files:F,settings:j,total:s,init:function(){var k=this;typeof j.preinit=="function"?j.preinit(k):d.each(j.preinit,function(l,e){k.bind(e,l)}),W.call(this);if(!j.browse_button||!j.url){this.trigger("Error",{code:d.INIT_ERROR,message:d.translate("Init error.")});return}ab.call(this,j,function(e){typeof j.init=="function"?j.init(k):d.each(j.init,function(m,l){k.bind(l,m)}),e?(k.runtime=h.Runtime.getInfo(aa()).type,k.trigger("Init",{runtime:k.runtime}),k.trigger("PostInit")):k.trigger("Error",{code:d.INIT_ERROR,message:d.translate("Init error.")})})},setOption:function(k,l){R.call(this,k,l,!this.runtime)},getOption:function(k){return k?j[k]:j},refresh:function(){q.length&&d.each(q,function(k){k.trigger("Refresh")}),this.trigger("Refresh")},start:function(){this.state!=d.STARTED&&(this.state=d.STARTED,this.trigger("StateChanged"),G.call(this))},stop:function(){this.state!=d.STOPPED&&(this.state=d.STOPPED,this.trigger("StateChanged"),this.trigger("CancelUpload"))},disableBrowse:function(){Z=arguments[0]!==c?arguments[0]:!0,q.length&&d.each(q,function(k){k.disable(Z)}),this.trigger("DisableBrowse",Z)},getFile:function(k){var l;for(l=F.length-1;l>=0;l--){if(F[l].id===k){return F[l]}}},addFile:function(p,x){function m(l,u){var C=[];h.each(y.settings.filters,function(D,e){b[e]&&C.push(function(E){b[e].call(y,D,l,function(L){E(!L)})})}),h.inSeries(C,u)}function v(l){var u=h.typeOf(l);if(l instanceof h.File){if(!l.ruid&&!l.isDetached()){if(!w){return !1}l.ruid=w,l.connectRuntime(w)}v(new d.File(l))}else{l instanceof h.Blob?(v(l.getSource()),l.destroy()):l instanceof d.File?(x&&(l.name=x),A.push(function(e){m(l,function(C){C||(F.push(l),k.push(l),y.trigger("FileFiltered",l)),f(e,1)})})):h.inArray(u,["file","blob"])!==-1?v(new h.File(null,l)):u==="node"&&h.typeOf(l.files)==="filelist"?h.each(l.files,v):u==="array"&&(x=null,h.each(l,v))}}var y=this,A=[],k=[],w;w=aa(),v(p),A.length&&h.inSeries(A,function(){k.length&&y.trigger("FilesAdded",k)})},removeFile:function(k){var m=typeof k=="string"?k:k.id;for(var l=F.length-1;l>=0;l--){if(F[l].id===m){return this.splice(l,1)[0]}}},splice:function(k,p){var m=F.splice(k===c?0:k,p===c?F.length:p),l=!1;return this.state==d.STARTED&&(d.each(m,function(u){if(u.status===d.UPLOADING){return l=!0,!1}}),l&&this.stop()),this.trigger("FilesRemoved",m),d.each(m,function(u){u.destroy()}),l&&this.start(),m},bind:function(k,p,l){var m=this;d.Uploader.prototype.bind.call(this,k,function(){var u=[].slice.call(arguments);return u.splice(0,1,m),p.apply(this,u)},0,l)},destroy:function(){this.trigger("Destroy"),j=s=null,this.unbindAll()}})},d.Uploader.prototype=h.EventTarget.instance,d.File=function(){function j(e){d.extend(this,{id:d.guid(),name:e.name||e.fileName,type:e.type||"",size:e.size||e.fileSize,origSize:e.size||e.fileSize,loaded:0,percent:0,status:d.QUEUED,lastModifiedDate:e.lastModifiedDate||(new Date).toLocaleString(),getNative:function(){var k=this.getSource().getSource();return h.inArray(h.typeOf(k),["blob","file"])!==-1?k:null},getSource:function(){return i[this.id]?i[this.id]:null},destroy:function(){var k=this.getSource();k&&(k.destroy(),delete i[this.id])}}),i[this.id]=e}var i={};return j}(),d.QueueProgress=function(){var i=this;i.size=0,i.loaded=0,i.uploaded=0,i.failed=0,i.queued=0,i.percent=0,i.bytesPerSec=0,i.reset=function(){i.size=i.loaded=i.uploaded=i.failed=i.queued=i.percent=i.bytesPerSec=0}},a.plupload=d})(window,mOxie);
